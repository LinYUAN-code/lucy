import{_ as P,u as $,a as B,c,b as u,d as r,e as d,g as m,k as H,h as n,w as _,q as M,n as E,v as R,l as L,F as y,j as D,p as W,m as q,f as x,t as A}from"./index-1d163ec8.js";const K=g=>(W("data-v-ae17eca3"),g=g(),q(),g),z={key:0,class:"first"},G=K(()=>x("div",{class:"first"},"LL(1)分析表",-1)),J={__name:"LL1Table",setup(g){const i=$(),p=B(!1),I=()=>{p.value=!p.value},k=c(()=>i.getters["grammarStore/getHideFirset"]),O=c(()=>i.getters["grammarStore/getNonTerminal"]),C=c(()=>[...i.getters["grammarStore/getTerminal"],"$"]),b=c(()=>i.getters["grammarStore/getFirstSet"]),w=c(()=>i.getters["grammarStore/getFollowSet"]),V=c(()=>{const o=i.getters["grammarStore/getLL1Parser"],l=o.getPredictTable(b.value,w.value);if(!l.length)return[];for(let e of o.getPredictTableProgressive(b.value,w.value))console.log(e);return l.map(e=>{const{nonTerminal:t="",terminal2Derivation:T={}}=e,a=new Map;return T.forEach((f,s)=>{const{derivations:S=[],nonTerminal:v=""}=f,N=S.map(F=>F.length?`${v} => ${F.join(" ")}`:"");a.set(s,N)}),{nonTerminal:t,...Object.fromEntries(a.entries())}})}),j=c(()=>{const o=b.value.reduce((e,t)=>(e[t.tocken]=`{ ${[...t.terminals.values()].join(" , ")} }`,e),{}),l=w.value.reduce((e,t)=>(e[t.tocken]=`{ ${[...t.terminals.values()].join(" , ")} }`,e),{});return O.value.map(e=>({nonTerminal:e,FIRST:o[e],FOLLOW:l[e]}))});return(o,l)=>{const h=u("View"),e=u("Hide"),t=u("el-icon"),T=u("el-tooltip"),a=u("el-table-column"),f=u("el-table");return r(),d("div",{class:"table",onClick:l[0]||(l[0]=(...s)=>o.showData&&o.showData(...s))},[m(k)?M("",!0):(r(),d("div",z,[H("First Set & Follow Set "),n(T,{class:"box-item",effect:"dark",content:p.value?"显示":"隐藏",placement:"top"},{default:_(()=>[n(t,{onClick:I},{default:_(()=>[p.value?(r(),L(h,{key:0})):(r(),L(e,{key:1}))]),_:1})]),_:1},8,["content"])])),E(n(f,{data:m(j),stripe:"",style:{width:"100%"},border:""},{default:_(()=>[n(a,{prop:"nonTerminal",label:"",align:"center",width:"150"}),n(a,{prop:"FIRST",label:"FIRST",align:"center"}),n(a,{prop:"FOLLOW",label:"FOLLOW",align:"center"})]),_:1},8,["data"]),[[R,!p.value&&!m(k)]]),G,n(f,{data:m(V),"max-height":"600",border:"",class:"table-data"},{default:_(()=>[n(a,{fixed:"",prop:"nonTerminal",label:"",width:"150",align:"center"}),(r(!0),d(y,null,D(m(C),s=>(r(),L(a,{key:s,prop:s,label:s,align:"center"},{default:_(S=>[x("ul",null,[(r(!0),d(y,null,D(S.row[S.column.rawColumnKey],v=>(r(),d("li",{key:v},A(v),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])])}}},U=P(J,[["__scopeId","data-v-ae17eca3"]]);export{U as default};
