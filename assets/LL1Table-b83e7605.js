import{_ as P,u as $,a as B,c,b as u,d as a,e as d,g as m,k as H,h as n,w as _,q as M,n as E,v as R,l as L,F as y,j as D,p as W,m as q,f as x,t as A}from"./index-5a10908c.js";const K=g=>(W("data-v-480fb94c"),g=g(),q(),g),z={key:0,class:"first"},G=K(()=>x("div",{class:"first"},"LL(1)分析表",-1)),J={__name:"LL1Table",setup(g){const i=$(),p=B(!1),I=()=>{p.value=!p.value},k=c(()=>i.getters["grammarStore/getHideFirset"]),O=c(()=>i.getters["grammarStore/getNonTerminal"]),C=c(()=>[...i.getters["grammarStore/getTerminal"],"$"]),v=c(()=>i.getters["grammarStore/getFirstSet"]),w=c(()=>i.getters["grammarStore/getFollowSet"]),V=c(()=>{const o=i.getters["grammarStore/getLL1Parser"],l=o.getPredictTable(v.value,w.value);if(!l.length)return[];for(let e of o.getPredictTableProgressive(v.value,w.value))console.log(e);return l.map(e=>{const{nonTerminal:t="",terminal2Derivation:T={}}=e,r=new Map;return T.forEach((f,s)=>{const{derivations:b=[],nonTerminal:S=""}=f,N=b.map(F=>F.length?`${S} => ${F.join(" ")}`:"");r.set(s,N)}),{nonTerminal:t,...Object.fromEntries(r.entries())}})}),j=c(()=>{const o=v.value.reduce((e,t)=>(e[t.tocken]=`{ ${[...t.terminals.values()].join(" , ")} }`,e),{}),l=w.value.reduce((e,t)=>(e[t.tocken]=`{ ${[...t.terminals.values()].join(" , ")} }`,e),{});return O.value.map(e=>({nonTerminal:e,FIRST:o[e],FOLLOW:l[e]}))});return(o,l)=>{const h=u("View"),e=u("Hide"),t=u("el-icon"),T=u("el-tooltip"),r=u("el-table-column"),f=u("el-table");return a(),d("div",{class:"table",onClick:l[0]||(l[0]=(...s)=>o.showData&&o.showData(...s))},[m(k)?M("",!0):(a(),d("div",z,[H(" First Set & Follow Set "),n(T,{class:"box-item",effect:"dark",content:p.value?"显示":"隐藏",placement:"top"},{default:_(()=>[n(t,{onClick:I},{default:_(()=>[p.value?(a(),L(h,{key:0})):(a(),L(e,{key:1}))]),_:1})]),_:1},8,["content"])])),E(n(f,{data:m(j),stripe:"",style:{width:"100%"},border:""},{default:_(()=>[n(r,{prop:"nonTerminal",label:"",align:"center",width:"150"}),n(r,{prop:"FIRST",label:"FIRST",align:"center"}),n(r,{prop:"FOLLOW",label:"FOLLOW",align:"center"})]),_:1},8,["data"]),[[R,!p.value&&!m(k)]]),G,n(f,{data:m(V),"max-height":"600",border:"",class:"table-data"},{default:_(()=>[n(r,{fixed:"",prop:"nonTerminal",label:"",width:"150",align:"center"}),(a(!0),d(y,null,D(m(C),s=>(a(),L(r,{key:s,prop:s,label:s,align:"center"},{default:_(b=>[x("ul",null,[(a(!0),d(y,null,D(b.row[b.column.rawColumnKey],S=>(a(),d("li",{key:S},A(S),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])])}}},U=P(J,[["__scopeId","data-v-480fb94c"]]);export{U as default};
