import f from"./LR0Table-edddad3b.js";import{_ as R,x as k,u as x,c,r as T,a as i,y as m,b as g,d as u,e as y,h as r,f as p,l as L,t as A,g as w,k as I,w as N,A as P}from"./index-dd081b79.js";/* empty css                                                                    */import"./Automaton-35942ec0.js";const V={class:"analysis"},B={class:"input-string"},j={class:"first"},D={class:"parser-string"},C={key:0},q={__name:"LR0Analysis",setup(E){const b=k(),n=x();c(()=>b.currentRoute.value.query.type),T({});const o=i([]),_=i(null),h=c(()=>n.getters["grammarStore/getStartTNonTer"]);i(!0);const l=c(()=>n.getters["grammarStore/getLRParsingString"]),d=c(()=>n.getters["grammarStore/getLRPredictTable"]),v=()=>{if(!l.value||!h.value)return[];const s=n.getters["grammarStore/getLRParser"];let t=[];try{t=s.predictInput(l.value,d.value)}catch(e){console.error(e)}const a=t.map((e,S)=>({Step:S+1,Stack:e.stack.join(" "),Symbols:e.symbols.join(" "),Input:e.input.join(" "),Action:e.move}));o.value=a};return i(!1),m([()=>l.value,d],([s,t],[a,e])=>{!s||!t||v()},{immediate:!0,deep:!0}),m(()=>o,s=>{P(()=>{var t;(t=_.value)==null||t.scrollIntoView({behavior:"smooth"})})},{deep:!0}),(s,t)=>{const a=g("el-table-column"),e=g("el-table");return u(),y("div",V,[r(f),p("div",{class:"content",ref_key:"analysisRef",ref:_},[p("div",B,[p("div",j,[L(" LR(0)预测分析 "),p("span",D,A(w(l)),1)])]),o.value.length?(u(),I(e,{key:1,data:o.value,stripe:"",style:{"max-width":"700px"},border:"",class:"table"},{default:N(()=>[r(a,{prop:"Step",label:"Step","header-align":"center"}),r(a,{prop:"Stack",label:"Stack","header-align":"center"}),r(a,{prop:"Symbols",label:"symbols","header-align":"center"}),r(a,{prop:"Input",label:"Input",align:"right","header-align":"center"}),r(a,{prop:"Action",label:"Action","header-align":"center"})]),_:1},8,["data"])):(u(),y("div",C,"字符串规约失败"))],512)])}}},J=R(q,[["__scopeId","data-v-3a9a7506"]]);export{J as default};
