import k from"./LR0Table-742175d6.js";import{_ as x,x as T,u as L,c,r as A,a as p,y as m,b as g,d as _,e as y,h as r,f as i,l as w,t as b,g as h,k as I,w as N,A as P}from"./index-9050f05d.js";/* empty css                                                                    */import"./Automaton-e93485ed.js";const V={class:"analysis"},B={class:"input-string"},j={class:"first"},D={class:"parser-string"},C={key:0},E={__name:"LR0Analysis",setup(q){T();const s=L(),S=c(()=>s.getters["grammarStore/getLR0Type"]);A({});const o=p([]),u=p(null),v=c(()=>s.getters["grammarStore/getStartTNonTer"]);p(!0);const l=c(()=>s.getters["grammarStore/getLRParsingString"]),d=c(()=>s.getters["grammarStore/getLRPredictTable"]),f=()=>{if(!l.value||!v.value)return[];const n=s.getters["grammarStore/getLRParser"];let t=[];try{t=n.predictInput(l.value,d.value)}catch(e){console.error(e)}const a=t.map((e,R)=>({Step:R+1,Stack:e.stack.join(" "),Symbols:e.symbols.join(" "),Input:e.input.join(" "),Action:e.move}));o.value=a};return m([()=>l.value,d],([n,t],[a,e])=>{!n||!t||f()},{immediate:!0,deep:!0}),m(()=>o,n=>{P(()=>{var t;(t=u.value)==null||t.scrollIntoView({behavior:"smooth"})})},{deep:!0}),(n,t)=>{const a=g("el-table-column"),e=g("el-table");return _(),y("div",V,[r(k),i("div",{class:"content",ref_key:"analysisRef",ref:u},[i("div",B,[i("div",j,[w(b(h(S))+"预测分析 ",1),i("span",D,b(h(l)),1)])]),o.value.length?(_(),I(e,{key:1,data:o.value,stripe:"",style:{"max-width":"700px"},border:"",class:"table"},{default:N(()=>[r(a,{prop:"Step",label:"Step","header-align":"center"}),r(a,{prop:"Stack",label:"Stack","header-align":"center"}),r(a,{prop:"Symbols",label:"symbols","header-align":"center"}),r(a,{prop:"Input",label:"Input",align:"right","header-align":"center"}),r(a,{prop:"Action",label:"Action","header-align":"center"})]),_:1},8,["data"])):(_(),y("div",C,"字符串规约失败"))],512)])}}},J=x(E,[["__scopeId","data-v-306c7383"]]);export{J as default};
