import{L as w,R as C}from"./RightTips-4f346bf7.js";import{C as N}from"./Header-f97b559f.js";import{I as A}from"./InputString-22ac48b9.js";import{_ as x,a as P,u as V,c as l,b as B,r as b,w as D,d as c,o as i,e as f,f as t,g as u,t as j,m as g,h as R,k,i as E}from"./index-9387c24e.js";/* empty css                                                                    */const q={class:"analysis-container"},H={class:"analysis"},O={class:"content"},z={class:"input-string"},F={key:0},G={__name:"LR0Analysis",setup(J){const v=P(),s=V();l(()=>v.currentRoute.value.query.type);const p=B({}),d=l(()=>s.getters["grammarStore/getStartTNonTer"]),S=b(!0),L=(r,m)=>{s.commit("grammarStore/updateLRParsingString",r),o.value=!1},a=l(()=>s.getters["grammarStore/getLRParsingString"]),h=l(()=>{if(!a.value||!d.value)return[];const r=s.getters["grammarStore/getLRParser"],m=s.getters["grammarStore/getLRPredictTable"];let n=[];try{n=r.predictInput(a.value,m)}catch(e){console.error(e)}return n.map((e,_)=>({Step:_+1,Stack:e.stack.join(" "),Symbols:e.symbols.join(" "),Input:e.input.join(" "),Action:e.move}))}),o=b(!1),I=()=>{!a.value||!d.value?v.push(w[2].route):o.value=!1},T=()=>{S.value=!1,o.value=!0,p.inputString=a,p.value=d};return D(()=>a,r=>{r.value||(o.value=!0)},{immediate:!0,deep:!0}),(r,m)=>{const n=c("Edit"),y=c("el-icon"),e=c("el-table-column"),_=c("el-table");return i(),f("div",q,[t(C,{type:"grammar"}),u("div",H,[t(N,{step:3,type:"LR0"}),u("div",O,[u("div",z,[u("span",null,"输入串："+j(g(a)),1),t(y,{class:"icon",onClick:T},{default:R(()=>[t(n)]),_:1})]),g(h).length?(i(),k(_,{key:1,data:g(h),stripe:"",style:{width:"100%"},border:"",class:"table"},{default:R(()=>[t(e,{prop:"Step",label:"Step","header-align":"center"}),t(e,{prop:"Stack",label:"Stack","header-align":"center"}),t(e,{prop:"Symbols",label:"symbols","header-align":"center"}),t(e,{prop:"Input",label:"Input",align:"right","header-align":"center"}),t(e,{prop:"Action",label:"Action","header-align":"center"})]),_:1},8,["data"])):(i(),f("div",F,"字符串规约失败"))])]),o.value?(i(),k(A,{key:0,dialogVisible:o.value,type:"LL1",onSaveInput:L,data:p,notShowNonTer:S.value,onOnClose:I},null,8,["dialogVisible","data","notShowNonTer"])):E("",!0)])}}},X=x(G,[["__scopeId","data-v-24d1bdf9"]]);export{X as default};
