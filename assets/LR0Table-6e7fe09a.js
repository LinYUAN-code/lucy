import{_ as O,s as A,c as n,a as h,u as B,x as w,r as E,b,d as a,e as o,h as s,w as u,g,F as f,j as T,k as F,p as j,m as K,f as y,L as q,l as D,t as V}from"./index-1d163ec8.js";/* empty css                                                                    */import{D as z}from"./D3Graph-c4a24b8f.js";const U=m=>(j("data-v-e4abbefa"),m=m(),K(),m),$=U(()=>y("h4",{class:"title"},"LR(0)分析表",-1)),H={__name:"LR0Table",setup(m){const L=A();n(()=>L.currentRoute.value.query.type);const _=h(null),c=B(),v=h(!1);h(!1);const C=n(()=>c.getters["grammarStore/getNonTerminal"]),N=n(()=>[...c.getters["grammarStore/getTerminal"],"$"]),x=n(()=>c.getters["grammarStore/getGraph"]),I=()=>{v.value=!0},k=n(()=>c.getters["grammarStore/getLRParser"].generateSLR1PredictTable());w(()=>k,e=>{c.commit("grammarStore/updateLRPredictTable",e.value)},{immediate:!0,deep:!0});const P=n(()=>{const e=k.value;return e.length?e.map((r,p)=>{const{action:R={},goto:S={}}=r;return{State:p,...Object.fromEntries(R.entries()),...Object.fromEntries(S.entries())}}):void 0}),G=n(()=>c.getters["grammarStore/getStartTNonTer"]);return w(()=>G,(e,l)=>{e.value||L.push(q[1].route)},{immediate:!0,deep:!0}),w(()=>_,(e,l)=>{var r;e.value&&((r=_.value)==null||r.render(2),setTimeout(()=>{var p;(p=_.value)==null||p.render(2)},100))},{deep:!0}),E({}),(e,l)=>{const r=b("el-table-column"),p=b("el-table"),R=b("el-drawer"),S=b("el-button");return a(),o("div",{class:"table",onClick:l[1]||(l[1]=(...t)=>e.test&&e.test(...t))},[$,s(p,{data:g(P),class:"table-data",stripe:""},{default:u(()=>[s(r,{prop:"State",label:"STATE",align:"center"}),s(r,{label:"ACTION",align:"center"},{default:u(()=>[(a(!0),o(f,null,T(g(N),t=>(a(),D(r,{key:t,prop:t,label:t,align:"center"},{default:u(d=>[y("ul",null,[(a(!0),o(f,null,T(d.row[d.column.rawColumnKey],i=>(a(),o("li",{key:i},V(i),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1}),s(r,{label:"GOTO",align:"center"},{default:u(()=>[(a(!0),o(f,null,T(g(C),t=>(a(),D(r,{key:t,prop:t,label:t,align:"center"},{default:u(d=>[y("ul",null,[(a(!0),o(f,null,T(d.row[d.column.rawColumnKey],i=>(a(),o("li",{key:i},V(i),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1})]),_:1},8,["data"]),s(R,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=t=>v.value=t),title:"LR(0)DFA",direction:"ltr",size:"33%"},{default:u(()=>[s(z,{ref_key:"D3GrapghRef",ref:_,graph:g(x),dotIndex:1,defaultDirection:!0},null,8,["graph"])]),_:1},8,["modelValue"]),s(S,{class:"open-dfa",onClick:I},{default:u(()=>[F(" 查看DFA ")]),_:1})])}}},W=O(H,[["__scopeId","data-v-e4abbefa"]]);export{W as default};
