import{_ as U,s as j,c as o,a as b,u as H,x as h,r as K,b as u,d as r,e as c,f as v,l as q,h as l,w as s,g as T,n as z,v as $,k as S,F as R,j as y,t as C,L as J}from"./index-2f3eb120.js";/* empty css                                                                    */import{D as N}from"./D3Graph-ee39ffd8.js";const M={class:"table-container"},Q={class:"first"},W={class:"graph"},X={__name:"LR0Table",setup(Y){const D=j();o(()=>D.currentRoute.value.query.type);const m=b(null),a=H(),L=b(!1);b(!1);const P=o(()=>a.getters["grammarStore/getNonTerminal"]),F=o(()=>[...a.getters["grammarStore/getTerminal"],"$"]),V=o(()=>a.getters["grammarStore/getGraph"]),i=b(!1);o(()=>a.getters["grammarStore/getUnFold"]);const G=()=>{i.value=!i.value},x=o(()=>a.getters["grammarStore/getLRParser"].generateSLR1PredictTable());h(()=>x,e=>{a.commit("grammarStore/updateLRPredictTable",e.value)},{immediate:!0,deep:!0});const A=o(()=>{const e=x.value;return e.length?e.map((d,p)=>{const{action:k={},goto:w={}}=d;return{State:p,...Object.fromEntries(k.entries()),...Object.fromEntries(w.entries())}}):void 0}),O=o(()=>a.getters["grammarStore/getStartTNonTer"]);h(()=>O,(e,n)=>{e.value||D.push(J[1].route)},{immediate:!0,deep:!0}),h(()=>m,(e,n)=>{var d;e.value&&((d=m.value)==null||d.render(2),setTimeout(()=>{var p;(p=m.value)==null||p.render(2)},100))},{deep:!0});const B=b(a.state.grammarStore.unfold);return h(()=>i,e=>{e.value?a.commit("grammarStore/updateUnfold",!1):a.commit("grammarStore/updateUnfold",B.value)},{deep:!0}),K({}),(e,n)=>{const d=u("View"),p=u("Hide"),k=u("el-icon"),w=u("el-tooltip"),_=u("el-table-column"),E=u("el-table"),I=u("el-drawer");return r(),c("div",M,[v("div",{class:"table",onClick:n[1]||(n[1]=(...t)=>e.test&&e.test(...t))},[v("div",Q,[q(" LR(0)分析表 "),l(w,{class:"box-item",effect:"dark",content:i.value?"隐藏DFA":"显示DFA",placement:"top"},{default:s(()=>[l(k,{onClick:G},{default:s(()=>[i.value?(r(),S(p,{key:1})):(r(),S(d,{key:0}))]),_:1})]),_:1},8,["content"])]),l(E,{data:T(A),class:"table-data",stripe:""},{default:s(()=>[l(_,{prop:"State",label:"STATE",align:"center"}),l(_,{label:"ACTION",align:"center"},{default:s(()=>[(r(!0),c(R,null,y(T(F),t=>(r(),S(_,{key:t,prop:t,label:t,align:"center"},{default:s(g=>[v("ul",null,[(r(!0),c(R,null,y(g.row[g.column.rawColumnKey],f=>(r(),c("li",{key:f},C(f),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1}),l(_,{label:"GOTO",align:"center"},{default:s(()=>[(r(!0),c(R,null,y(T(P),t=>(r(),S(_,{key:t,prop:t,label:t,align:"center"},{default:s(g=>[v("ul",null,[(r(!0),c(R,null,y(g.row[g.column.rawColumnKey],f=>(r(),c("li",{key:f},C(f),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1})]),_:1},8,["data"]),l(I,{modelValue:L.value,"onUpdate:modelValue":n[0]||(n[0]=t=>L.value=t),title:"LR(0)DFA",direction:"rtl",size:"33%"},{default:s(()=>[l(N,{ref_key:"D3GrapghRef",ref:m,graph:T(V),dotIndex:1,defaultDirection:!0},null,8,["graph"])]),_:1},8,["modelValue"])]),z(v("div",W,[l(N,{ref_key:"D3GrapghRef",ref:m,graph:T(V),dotIndex:1,defaultDirection:!0},null,8,["graph"])],512),[[$,i.value]])])}}},re=U(X,[["__scopeId","data-v-5d366c1e"]]);export{re as default};
