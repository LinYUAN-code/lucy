import{R as O,L as B}from"./RightTips-990f7f6b.js";import{C as E}from"./Header-f90be2a6.js";import{_ as j,a as I,c as o,r as y,u as A,w as S,b as F,d as _,o as a,e as s,f as l,g as L,h as u,m as g,F as b,j as f,k as w,t as C,s as K}from"./index-05677f7b.js";/* empty css                                                                    */import{D as q}from"./D3Graph-310d98cb.js";const z={class:"table-container"},H={__name:"LR0Table",setup(U){const h=I();o(()=>h.currentRoute.value.query.type);const m=y(null),c=A(),T=y(!1);y(!1);const D=o(()=>c.getters["grammarStore/getNonTerminal"]),V=o(()=>[...c.getters["grammarStore/getTerminal"],"$"]),N=o(()=>c.getters["grammarStore/getGraph"]),P=()=>{T.value=!0},k=o(()=>c.getters["grammarStore/getLRParser"].generateSLR1PredictTable());S(()=>k,e=>{c.commit("grammarStore/updateLRPredictTable",e.value)},{immediate:!0,deep:!0});const x=o(()=>{const e=k.value;return e.length?e.map((r,p)=>{const{action:R={},goto:v={}}=r;return{State:p,...Object.fromEntries(R.entries()),...Object.fromEntries(v.entries())}}):void 0}),G=o(()=>c.getters["grammarStore/getStartTNonTer"]);return S(()=>G,(e,n)=>{e.value||h.push(B[1].route)},{immediate:!0,deep:!0}),S(()=>m,(e,n)=>{var r;e.value&&((r=m.value)==null||r.render(2),setTimeout(()=>{var p;(p=m.value)==null||p.render(2)},100))},{deep:!0}),F({}),(e,n)=>{const r=_("el-table-column"),p=_("el-table"),R=_("el-drawer"),v=_("el-button");return a(),s("div",z,[l(O,{type:"grammar"}),L("div",{class:"table",onClick:n[1]||(n[1]=(...t)=>e.test&&e.test(...t))},[l(E,{step:2,type:"LR0"}),l(p,{data:g(x),class:"table-data",stripe:""},{default:u(()=>[l(r,{prop:"State",label:"STATE",align:"center"}),l(r,{label:"ACTION",align:"center"},{default:u(()=>[(a(!0),s(b,null,f(g(V),t=>(a(),w(r,{key:t,prop:t,label:t,align:"center"},{default:u(d=>[L("ul",null,[(a(!0),s(b,null,f(d.row[d.column.rawColumnKey],i=>(a(),s("li",{key:i},C(i),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1}),l(r,{label:"GOTO",align:"center"},{default:u(()=>[(a(!0),s(b,null,f(g(D),t=>(a(),w(r,{key:t,prop:t,label:t,align:"center"},{default:u(d=>[L("ul",null,[(a(!0),s(b,null,f(d.row[d.column.rawColumnKey],i=>(a(),s("li",{key:i},C(i),1))),128))])]),_:2},1032,["prop","label"]))),128))]),_:1})]),_:1},8,["data"]),l(R,{modelValue:T.value,"onUpdate:modelValue":n[0]||(n[0]=t=>T.value=t),title:"LR(0)自动机",direction:"ltr",size:"30%"},{default:u(()=>[l(q,{ref_key:"D3GrapghRef",ref:m,graph:g(N),dotIndex:1,defaultDirection:!0},null,8,["graph"])]),_:1},8,["modelValue"]),l(v,{class:"open-dfa",onClick:P},{default:u(()=>[K(" 查看自动机 ")]),_:1})])])}}},X=j(H,[["__scopeId","data-v-e0b03d67"]]);export{X as default};
