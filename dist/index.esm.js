function e(e,t){return t.map((e=>e.replaceAll(/\s/g,""))).map((t=>{const n=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),i=n[1].split("|").filter((e=>e&&"|"!==e)).map((t=>e.splitDerivation(t)));return{nonTerminal:n[0],derivations:i}}))}function t(e){switch(e){case"+":case"*":case"(":case")":return`\\${e}`;default:return e}}const n="ε",i="$";var r;!function(e){e[e.Normal=0]="Normal",e[e.Warnning=1]="Warnning",e[e.Error=2]="Error",e[e.None=3]="None"}(r||(r={}));let o=r.Normal;o=r.Error;var s=new class{logLevel;logChannel;constructor(e=r.Normal,t=console){this.logLevel=e,this.logChannel=t}log(...e){this.logLevel<=r.Normal&&this.logChannel.log("[normal]",...e)}warn(...e){this.logLevel<=r.Warnning&&this.logChannel.warn("[warn]",...e)}error(...e){this.logLevel<=r.Error&&this.logChannel.error("[error]",...e)}logTo(e){this.logChannel=e}}(o);function a(t,i){s.log("[generateFirstSet start]");const r=e(t,i);s.log("[grammers after transferString2Grammers]",r);const o=new Array(...r.map((e=>({tocken:e.nonTerminal,terminals:new Set})))),a=new Map;r.forEach((e=>{a.set(e.nonTerminal,e.derivations)})),o.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0})))),o.forEach((e=>{if(!e.isTerminal)for(let t of a.get(e.tocken))1!==t.length||t[0]!==n||e.terminals.has(n)||e.terminals.add(n)}));const l=new Map;for(let e of o)l.set(e.tocken,e);for(;;){let e=!1;if(o.forEach((i=>{if(!i.isTerminal)for(let r of a.get(i.tocken))for(let o=0;o<r.length;o++){const a=r[o];if(t.isTerminal(a)){if(i.terminals.has(a)||(s.log(a),e=!0,i.terminals.add(a)),a!==n)break}else{const t=l.get(a);if(t.terminals.forEach((t=>{t!==n&&(i.terminals.has(t)||(e=!0,i.terminals.add(t)))})),!t.terminals.has(n))break}o===r.length-1&&i.terminals.add(n)}})),!e)break}return o.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}function l(e,t,i){const r=new Map;i.forEach((e=>{r.set(e.tocken,e)}));const o=new Set;for(let i=0;i<t.length;i++){const s=t[i];if(e.isTerminal(s)){if(s!==n){o.add(s);break}}else if(r.get(s)?.terminals.forEach((e=>{o.add(e)})),!r.get(s).terminals.has(n))break;i===t.length-1&&o.add(n)}return{tocken:t.join(""),terminals:o}}function c(e,t,i){const r=new Set;for(let o=0;o<t.length;o++){const s=t[o];if(e.isTerminal(s)){if(s!==n){r.add(s);break}}else if(i.get(s)?.terminals.forEach((e=>{r.add(e)})),!i.get(s).terminals.has(n))break;o===t.length-1&&r.add(n)}return{tocken:t.join(""),terminals:r}}function h(t,r,o){s.log("[generateFllowSet start]"),o=o?Array.from(o):a(t,r);const l=e(t,r);s.log("[grammers after transferString2Grammers]",l);const c=new Array(...l.map((e=>({tocken:e.nonTerminal,terminals:new Set([i])})))),h=new Map;l.forEach((e=>{h.set(e.nonTerminal,e.derivations)})),c.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([i]),isTerminal:!0}))));const m=new Map;for(let e of c)m.set(e.tocken,e);o.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0}))));const f=new Map;for(let e of o)f.set(e.tocken,e);for(;;){let e=!1;if(l.forEach((t=>{for(let i of t.derivations)for(let t=i.length-2;t>=0;t--){const r=m.get(i[t]);for(let o=t+1;o<i.length;o++){const t=f.get(i[o]).terminals;for(let i of t)i!==n&&(r?.terminals.has(i)||(e=!0,r?.terminals.add(i)));if(!t.has(n))break}}})),l.forEach((t=>{const i=m.get(t.nonTerminal);for(let r of t.derivations)for(let t=r.length-1;t>=0;t--){const o=r[t],s=m.get(o);for(let t of i.terminals)t!==n&&(s?.terminals.has(t)||(e=!0,s?.terminals.add(t)));if(!f.get(o).terminals.has(n))break}})),!e)break}return c.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}class m{nonTerminals;terminals;currentLine=0;currentColumn=0;source="";constructor(e,t){this.nonTerminals=[...t],this.terminals=[...e]}setSource(e){this.source=e,this.currentLine=0,this.currentColumn=0}remainString(){return this.source.slice(this.currentColumn)}next(){if(this.currentColumn>=this.source.length)return{tocken:i,origin:i};for(let e of this.terminals){const t=this.source.slice(this.currentColumn).match(e[1]);if(t)return{tocken:e[0],origin:t[0]}}throw new Error(`[词法分析]: 匹配下一个tocken失败  源输入字符串: ${this.source} 剩余字符串: ${this.source.slice(this.currentColumn)}`)}pop(){try{const e=this.next();return e.tocken!==i&&(this.currentColumn+=e.origin.length),e}catch(e){throw e}}nextNotEmptyTerminal(){for(;;){const e=this.next();if("whiteSpace"!==e.tocken)return e;this.currentColumn+=e.origin.length}}nextNotEmpty(e){const t=this.currentColumn;for(let t=0;t<e-1;t++)this.popNotEmptyTerminal();const n=this.nextNotEmptyTerminal();return this.currentColumn=t,n}popNotEmptyTerminal(){const e=this.nextNotEmptyTerminal();return e.tocken!==i&&(this.currentColumn+=e.origin.length),e}isTerminal(e){let t=!0;return this.nonTerminals.some((n=>n===e&&(t=!1,!0))),t}splitDerivation(e){const n=[];let i=0;const r=e;for(;e.length;){for(let t of this.nonTerminals){const i=e.match(new RegExp("^"+t));if(i){n.push(t),e=e.slice(i[0].length);break}}for(let i of this.terminals){const r=e.match(new RegExp("^"+t(i[0])));if(r){n.push(i[0]),e=e.slice(r[0].length);break}}if(i++,i>5e4)throw new Error(`[splitDerivation] error: excute over MAX_EXCUTE str: ${r}  remaining str: ${e} `)}return n}getNewNonTerminal(e){let t=e;for(;;)if(t+="'",-1===this.nonTerminals.indexOf(t))return this.nonTerminals.unshift(t),t}}function f(t,i,r,o){const a=e(t,i),l=[],h=new Map;t.nonTerminals.forEach((e=>{const t={nonTerminal:e,terminal2Derivation:new Map};h.set(e,t),l.push(t)}));const m=new Map,f=new Map;for(let e of o)f.set(e.tocken,e);for(let e of r)m.set(e.tocken,e);return a.forEach((e=>{for(let i of e.derivations){const r=c(t,i,m),o=h.get(e.nonTerminal);s.log(r);let a=new Map;for(let t of r.terminals){if(t===n)continue;let r=o?.terminal2Derivation.get(t);a.set(t,!0),r||(r={nonTerminal:e.nonTerminal,derivations:[]},o?.terminal2Derivation.set(t,r)),r.derivations.push(i)}if(r.terminals.has(n))for(let t of f.get(e.nonTerminal).terminals){if(a.has(t))continue;let n=o?.terminal2Derivation.get(t);n||(n={nonTerminal:e.nonTerminal,derivations:[]},o?.terminal2Derivation.set(t,n)),n.derivations.push(i)}}})),l}function g(e,t){for(let n of e.terminals){const e=n[0];t.forEach((t=>{const n=t.terminal2Derivation.get(e);if(n&&n.derivations.length>1)return!1}))}return!0}class d{lexer;textGrammers;constructor(e,t,n){this.lexer=new m(e,t),this.textGrammers=n}getFirstSet(){return a(this.lexer,this.textGrammers)}getFollowSet(e){return e||(e=this.getFirstSet()),h(this.lexer,this.textGrammers,e)}getPredictTable(e,t){return e||(e=this.getFirstSet()),t||(t=this.getFollowSet(e)),f(this.lexer,this.textGrammers,e,t)}getPredictProcess(e,t,r){if(r||(r=f(this.lexer,this.textGrammers,this.getFirstSet(),this.getFollowSet())),!this.lexer.nonTerminals.some((e=>t===e)))throw new Error("1");return function(e,t,r,o){let a=r.replaceAll(/\s/g,"");const l=[];let c=1;const h={id:0,text:o,check:!1},m=[h];let f={parseStack:[i,o],remainingInput:r,parseAction:""};e.setSource(a);const g=new Map;t.forEach((e=>{g.set(e.nonTerminal,e)}));try{for(;;){const t=f.parseStack[f.parseStack.length-1];if(e.isTerminal(t)){const n=e.next();if(t!==n.tocken)throw new Error(`[预测错误] 非终结符匹配错误: ${t} stack: ${f.parseStack} 剩余字符串: ${e.remainString()}`);{if(f.parseAction=`match ${n.tocken}${n.tocken===n.origin?"":": "+n.origin}`,l.push(f),f=JSON.parse(JSON.stringify(f)),e.pop(),f.parseAction="",f.remainingInput=e.remainString(),f.parseStack.pop(),0===f.parseStack.length)break;const t=m.pop();t.children||(t.children=[]),t.children.push({id:c++,text:n.origin,check:!1})}continue}const i=e.next(),r=g.get(t).terminal2Derivation.get(i.tocken);if(1!==r?.derivations?.length)throw new Error(`[预测错误] 分析输入错误  终结符: ${i}   剩余字符串: ${e.remainString()} 文法: ${r} `);f.parseAction=`Predict ${r.nonTerminal} => ${r.derivations[0].join(" ")}`,s.log("[predict State]",f),l.push(f),f=JSON.parse(JSON.stringify(f)),f.parseStack.pop();const o=m.pop(),a=r.derivations[0].filter((e=>e!==n));o.children||(o.children=[]);for(let e of a)o.children.push({id:c++,text:e,check:!1});m.push(...[...o.children].reverse()),f.parseStack.push(...a.reverse()),f.parseAction="",f.remainingInput=e.remainString()}}catch(e){f.parseAction=e.toString(),l.push(f)}return l.astNode=h,l}(this.lexer,r,e,t)}checkPredickTableIsValid(e){return g(this.lexer,e)}checkIsLL0(){return g(this.lexer,this.getPredictTable())}getFirstSetProgressive(){return function*(t,i){yield["1. 如果X式一个终结符号，那么FIRST(X) = X ","2. 如果 X => ε 是一个产生式，那么将e加人到 FIRST（X)中。","3. A => B0B1B2B3，i = 0，循环i\n            FIRST(Bi) - EmptyCharacter 加入到 FIRST(A)中\n            如果FIRST(B1)不含有EmptyCharacter退出循环\n            若B0 - B3均含有EmptyCharacter 将EmptyCharacter加入到FIRST(A)中\n        ","4. 去除所有终结符号的表项"],s.log("[generateFirstSet start]");const r=e(t,i);s.log("[grammers after transferString2Grammers]",r);const o=new Array(...r.map((e=>({tocken:e.nonTerminal,terminals:new Set})))),a=new Map;r.forEach((e=>{a.set(e.nonTerminal,e.derivations)})),o.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0})))),yield{ruleIndex:0,result:o},o.forEach((e=>{if(!e.isTerminal)for(let t of a.get(e.tocken))1!==t.length||t[0]!==n||e.terminals.has(n)||e.terminals.add(n)})),yield{ruleIndex:1,result:o};const l=new Map;for(let e of o)l.set(e.tocken,e);for(;;){let e=!1;if(o.forEach((i=>{if(!i.isTerminal)for(let r of a.get(i.tocken))for(let o=0;o<r.length;o++){const a=r[o];if(t.isTerminal(a)){if(i.terminals.has(a)||(s.log(a),e=!0,i.terminals.add(a)),a!==n)break}else{const t=l.get(a);if(t.terminals.forEach((t=>{t!==n&&(i.terminals.has(t)||(e=!0,i.terminals.add(t)))})),!t.terminals.has(n))break}o===r.length-1&&i.terminals.add(n)}})),!e)break;yield{ruleIndex:2,result:o}}yield{ruleIndex:3,result:o.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}}(this.lexer,this.textGrammers)}getFollowSetProgressive(t){return t||(t=this.getFirstSet()),function*(t,r,o){yield["1. 将$放到FOLLOW(S)中","2. 如果存在一个产生式A => aBb ， 那么FIRST(b) 中除ε 之外的所有符号都在FOLLOW(B)中。attention: A => aBCd 那么把first(Cd)加入到Follow(B)中去","3.如果存在一个产生式 A => aB ， 或存在产生式 A => aBb 且FIRST(b) 包含 ε ，那么FOLLOW(A)中的所有符号都在FOLLOW(B)中。","4. 去除所有终结符号的表项"],s.log("[generateFllowSet start]"),o=o?Array.from(o):a(t,r);const l=e(t,r);s.log("[grammers after transferString2Grammers]",l);const c=new Array(...l.map((e=>({tocken:e.nonTerminal,terminals:new Set([i])})))),h=new Map;l.forEach((e=>{h.set(e.nonTerminal,e.derivations)})),c.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([i]),isTerminal:!0})))),yield{ruleIndex:0,result:c};const m=new Map;for(let e of c)m.set(e.tocken,e);o.push(...t.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0}))));const f=new Map;for(let e of o)f.set(e.tocken,e);for(;;){let e=!1;if(l.forEach((t=>{for(let i of t.derivations)for(let t=i.length-2;t>=0;t--){const r=m.get(i[t]);for(let o=t+1;o<i.length;o++){const t=f.get(i[o]).terminals;for(let i of t)i!==n&&(r?.terminals.has(i)||(e=!0,r?.terminals.add(i)));if(!t.has(n))break}}})),e&&(yield{ruleIndex:1,result:c},e=!1),l.forEach((t=>{const i=m.get(t.nonTerminal);for(let r of t.derivations)for(let t=r.length-1;t>=0;t--){const o=r[t],s=m.get(o);for(let t of i.terminals)t!==n&&(s?.terminals.has(t)||(e=!0,s?.terminals.add(t)));if(!f.get(o).terminals.has(n))break}})),e&&(yield{ruleIndex:2,result:c}),!e)break}yield{ruleIndex:3,result:c.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}}(this.lexer,this.textGrammers,t)}getPredictProcessProgressive(e,t,r){if(r||(r=f(this.lexer,this.textGrammers,this.getFirstSet(),this.getFollowSet())),!this.lexer.nonTerminals.some((e=>t===e)))throw new Error("1");return function*(e,t,r,o){let a=r.replaceAll(/\s/g,"");const l=[];let c=1;const h={id:0,text:o,check:!1};l.astNode=h;const m=[h];let f={parseStack:[i,o],remainingInput:r,parseAction:""};e.setSource(a);const g=new Map;t.forEach((e=>{g.set(e.nonTerminal,e)})),yield l;try{for(;;){const t=f.parseStack[f.parseStack.length-1];if(e.isTerminal(t)){const n=e.next();if(t!==n.tocken)throw new Error(`[预测错误] 非终结符匹配错误: ${t} stack: ${f.parseStack} 剩余字符串: ${e.remainString()}`);{if(f.parseAction=`match ${n.tocken}${n.tocken===n.origin?"":": "+n.origin}`,l.push(f),f=JSON.parse(JSON.stringify(f)),e.pop(),f.parseAction="",f.remainingInput=e.remainString(),f.parseStack.pop(),0===f.parseStack.length)break;const t=m.pop();t.children||(t.children=[]),t.children.push({id:c++,text:n.origin,check:!1})}yield l;continue}const i=e.next(),r=g.get(t).terminal2Derivation.get(i.tocken);if(1!==r?.derivations?.length)throw new Error(`[预测错误] 分析输入错误  终结符: ${i}   剩余字符串: ${e.remainString()} 文法: ${r} `);f.parseAction=`Predict ${r.nonTerminal} => ${r.derivations[0].join(" ")}`,s.log("[predict State]",f),l.push(f),f=JSON.parse(JSON.stringify(f)),f.parseStack.pop();const o=m.pop(),a=r.derivations[0].filter((e=>e!==n));o.children||(o.children=[]);for(let e of a)o.children.push({id:c++,text:e,check:!1});m.push(...[...o.children].reverse()),f.parseStack.push(...a.reverse()),f.parseAction="",f.remainingInput=e.remainString(),yield l}}catch(e){f.parseAction=e.toString(),l.push(f)}return l.astNode=h,l}(this.lexer,r,e,t)}getPredictTableProgressive(t,i){return t||(t=this.getFirstSet()),i||(i=this.getFollowSet(t)),function*(t,i,r,o){yield["1. 对 First(u) 中的所有终结符 a （不含 ε ），置 M[A, a] = A -> u","2. 若 First(u) 含 ε ，则对 Follow(A) 中的所有符号 a （可含 $ ），置 M[A, a] = A -> u"];const a=e(t,i),l=[],h=new Map;t.nonTerminals.forEach((e=>{const t={nonTerminal:e,terminal2Derivation:new Map};h.set(e,t),l.push(t)}));const m=new Map,f=new Map;for(let e of o)f.set(e.tocken,e);for(let e of r)m.set(e.tocken,e);for(let e of a)for(let i of e.derivations){const r=c(t,i,m),o=h.get(e.nonTerminal);s.log(r);for(let t of r.terminals){if(t===n)continue;let r=o?.terminal2Derivation.get(t);r||(r={nonTerminal:e.nonTerminal,derivations:[]},o?.terminal2Derivation.set(t,r)),r.derivations.push(i),yield{ruleIndex:0,result:l}}if(r.terminals.has(n))for(let t of f.get(e.nonTerminal).terminals){let n=o?.terminal2Derivation.get(t);n||(n={nonTerminal:e.nonTerminal,derivations:[]},o?.terminal2Derivation.set(t,n)),n.derivations.push(i),yield{ruleIndex:1,result:l}}}}(this.lexer,this.textGrammers,t,i)}}const p=/^[A-Z]'*/,u=/[a-z|\u0391-\u03C9]/;function k(e){const t=new Set,n=new Set;return e.forEach((e=>{const i=e.replaceAll(/\s/g,"").split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),r=i[0];t.add(r),i[1].split("|").filter((e=>e&&"|"!==e)).forEach((e=>{for(;e.length;){let i=null;if(i=e.match(p),i)t.add(i[0]),e=e.slice(i[0].length);else{if(i=e.match(u),!i)throw new Error(`[getTockFromSimpleGrammers error] cant recognize the character remaining: ${e}`);n.add(JSON.stringify([i[0],"^"+i[0]])),e=e.slice(i[0].length)}}}))})),{nonTerminals:Array.from(t).sort(((e,t)=>t.length-e.length)),terminals:Array.from(n).map((e=>{const t=JSON.parse(e);return t[1]=new RegExp(t[1]),t}))}}function T(e){let t=new Map;for(let n of e){n=n.replaceAll(/\s/g,"");const e=n.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),i=e[0],r=e[1];if(t.has(i))return!0;t.set(i,[r])}return!1}function S(e,t,n){let i=new Map;const r=[];if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let o=new m(n,t);e.forEach((e=>{const t=(e=e.replaceAll(/\s/g,"")).split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=t[0],a=t[1].split("|").filter((e=>e)).map((e=>(s.log("[debug]",r),o.splitDerivation(e))));if(i.has(n)){const e=i.get(n);a.forEach((t=>{const n=t.join(" ");-1===e?.indexOf(n)&&e.push(n)}))}else i.set(n,a.map((e=>e.join(" "))))}));for(let e of i.keys()){const t=[...new Set(i.get(e))];r.push(`${e} => ${t.join("|")}`.split("|").join(" | "))}return s.log(r),r}function v(e,t,n){let i=e;if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let r=new m(n,t);for(let e of i){e=e.replaceAll(/\s/g,"");const t=e.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e))[1].split("|").filter((e=>e)).map((e=>(s.log("[debug]",i),r.splitDerivation(e)))),n=new Map;t.forEach((e=>{let t=n.get(e[0]);t?t.push(e.slice(1)):t=[e.slice(1)],n.set(e[0],t)}));for(let e of n.keys())if(1!==n.get(e)?.length)return!0}return!1}function w(e,t,n){let i=e;if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let r=new m(n,t);for(;;){let e=[];const t=i.map((t=>{const n=(t=t.replaceAll(/\s/g,"")).split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),o=n[0],a=n[1].split("|").filter((e=>e)).map((e=>(s.log("[debug]",i),r.splitDerivation(e)))),l=[],c=new Map;a.forEach((e=>{let t=c.get(e[0]);t?t.push(e.slice(1)):t=[e.slice(1)],c.set(e[0],t)}));for(let t of c.keys()){if(1===c.get(t)?.length){l.push(t+c.get(t)[0].join(""));continue}const n=c.get(t),i=r.getNewNonTerminal(o);l.push(t+i),e.push(i+" => "+n?.map((e=>e.join(" "))).join(" | "))}return o+" => "+l.join(" | ")}));s.log("[pre]",t,e);const n=[...t,...e];if(s.log("[com]",i,n),i.length===n.length)break;i=n}return i}function x(e,t,n){if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}s.log("[nonTerminals]",t),s.log("[terminals]",n);let i=new m(n,t);const r=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],o=e[1].split("|").filter((e=>e)).map((e=>i.splitDerivation(e)));r.set(n,o)}s.log("[nonTerminals2DerivationMap]",r);for(let e=0;e<t.length;e++){const n=r.get(t[e]);for(let i=n.length-1;i>=0;i--){if(n[i][0]===t[e])return!0}}return!1}function N(e,t,i){const r=[];if(!t||!i){const n=k(e);t=n.nonTerminals,i=n.terminals}s.log("[nonTerminals]",t),s.log("[terminals]",i);let o=new m(i,t);const a=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>o.splitDerivation(e)));a.set(n,i)}s.log("[nonTerminals2DerivationMap]",a);for(let e=0;e<t.length;e++){const i=a.get(t[e]);for(let n=0;n<e;n++){const e=a.get(t[n]);for(let r=i.length-1;r>=0;r--){const o=i[r];if(o[0]===t[n]){s.log(o,t[n]);for(let t of e)s.log("[-]",t),i?.push([...t,...o.slice(1)]);i?.splice(r,1)}}}const r=[];for(let n=i.length-1;n>=0;n--){i[n][0]===t[e]&&r.push(n)}if(r.length){const s=o.getNewNonTerminal(t[e]),l=[],c=[];for(let e=i.length-1;e>=0;e--)-1===r.indexOf(e)&&l.push([...i[e][0]===n?i[e].slice(1):i[e],s]);for(let e of r)c.push([...i[e].slice(1),s]);c.push([n]),a.set(t[e],[...l,...r.length?[]:i]),a.set(s,c)}s.log("[nonTerminals2DerivationMap in process]",a,i)}for(let e of a.keys()){const t=a.get(e).map((e=>e.join(" "))).join(" | ");r.push(`${e} => ${t}`)}return r}class P{initialStateNode;allStateNodesMap;lexer;grammers;constructor(){this.initialStateNode=null}generateState(e,t,n,r){if(!n||!r){const t=k(e);n=t.nonTerminals,r=t.terminals}const o="Augument_S";s.log("[nonTerminals]",n),s.log("[terminals]",r),this.grammers=e,this.lexer=new m(r,n);const a=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));a.set(n,i)}s.log(a),this.initialStateNode={id:0,items:[{nonTerminal:o,derivation:[t],matchPoint:0}],edges:[]},y(this.initialStateNode.items,a,this.lexer);const l=new Map;this.allStateNodesMap=l,l.set(A(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;l.size!=h;){h=l.size;for(let e of l.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===o&&1===t.matchPoint&&e.edges.push({tocken:i,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;y(n,a,this.lexer);const i=A(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t,next:l.get(i)})}for(let t of r){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;y(n,a,this.lexer);const i=A(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:l.get(i)})}}}}*generateStateProgressive(e,t,n,r){if(!n||!r){const t=k(e);n=t.nonTerminals,r=t.terminals}const o="Augument_S";s.log("[nonTerminals]",n),s.log("[terminals]",r),this.grammers=e,this.lexer=new m(r,n);const a=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));a.set(n,i)}s.log(a),this.initialStateNode={id:0,items:[{nonTerminal:o,derivation:[t],matchPoint:0}],edges:[]},y(this.initialStateNode.items,a,this.lexer),yield;const l=new Map;this.allStateNodesMap=l,l.set(A(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;l.size!=h;){h=l.size;for(let e of l.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===o&&1===t.matchPoint&&e.edges.push({tocken:i,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;y(n,a,this.lexer);const i=A(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t,next:l.get(i)}),yield}for(let t of r){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;y(n,a,this.lexer);const i=A(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:l.get(i)}),yield}}}}predictInput(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let r=[];for(e=e.replaceAll(/\s/g,""),r.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),i]});;){const e=r[r.length-1],i=JSON.parse(JSON.stringify(e)),o=t[e.stack[e.stack.length-1]];let s=!1,a=o.action.get(e.input[0]);if(a.length>1)throw new Error(`move collision ${a}`);if(!a.length){if(1!==o.action.get(n)?.length)throw new Error(`move is empty ${a}`);a=o.action.get(n),s=!0}let l=a[0];if("acc"===l){e.move="接受";break}if(l.startsWith("S"))e.move=`移入${e.input[0]}`,s?i.symbols.push(n):i.symbols.push(i.input.shift()),i.stack.push(Number(l.slice(1)));else{e.move=`根据${l}归约`;const n=l.slice(2,-1).replaceAll(/\s/g,""),r=n.split("=>")[0],o=this.lexer.splitDerivation(n.split("=>")[1]);for(let e=0;e<o.length;e++)i.stack.pop(),i.symbols.pop();i.symbols.push(r);const s=t[e.stack[i.stack.length-1]];i.stack.push(s.goto.get(r)[0])}r.push(i)}return r}generateLR0PredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=[];for(let t of this.allStateNodesMap.values()){let n={id:t.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)n.goto.set(e,[]);for(let e of this.lexer.terminals)n.action.set(e[0],[]);n.action.set(i,[]);for(let e of t.edges)e.tocken!==i?this.lexer.isTerminal(e.tocken)?n.action.get(e.tocken).push(`S${e.next.id}`):n.goto.get(e.tocken).push(e.next.id):n.action.get(e.tocken).push("acc");for(let e of t.items)if(e.matchPoint===e.derivation.length)for(let t of this.lexer.terminals)n.action.get(t[0]).push(`r(${e.nonTerminal} => ${e.derivation.join(" ")})`);e.push(n)}return e.sort(((e,t)=>e.id-t.id)),e}generateSLR1PredictTable(){if(!(this.initialStateNode&&this.allStateNodesMap&&this.lexer&&this.grammers))throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=h(this.lexer,this.grammers),t=[];for(let n of this.allStateNodesMap.values()){let r={id:n.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)r.goto.set(e,[]);for(let e of this.lexer.terminals)r.action.set(e[0],[]);r.action.set(i,[]);for(let e of n.edges)e.tocken!==i?this.lexer.isTerminal(e.tocken)?r.action.get(e.tocken).push(`S${e.next.id}`):r.goto.get(e.tocken).push(e.next.id):r.action.get(e.tocken).push("acc");for(let t of n.items)if(t.matchPoint===t.derivation.length){let n=[];for(let i of e)if(i.tocken===t.nonTerminal){n=[...i.terminals.values()];break}for(let e of n)r.action.get(e[0]).push(`r(${t.nonTerminal} => ${t.derivation.join(" ")})`)}t.push(r)}return t.sort(((e,t)=>e.id-t.id)),t}get stateGraph(){const e=[],t=n=>{if(e[n.id])return e[n.id];const i={};e[n.id]=i,i.id=n.id,i.items=n.items.map((e=>b(e))),i.edges=[];for(let e of n.edges)i.edges.push({tocken:e.tocken,next:t(e.next)});return i};return t(this.initialStateNode)}}function A(e){e=e.sort(((e,t)=>e<t?-1:1));let t="";for(let n of e)t+=` ${b(n)}`;return t}function b(e){let t=`${e.nonTerminal} => `;for(let n=0;n<e.derivation.length;n++)n===e.matchPoint&&(n||(t+=" "),t+="· "),n===e.derivation.length-1?t+=`${e.derivation[n]}`:t+=`${e.derivation[n]} `;return t}function y(e,t,n){for(let i=0;i<e.length;i++){const r=e[i],o=r.derivation[r.matchPoint];if(n.isTerminal(o))continue;t.get(o)?.forEach((t=>{let n=!1;for(let i of e)if(i.nonTerminal===o&&0===i.matchPoint){if(i.derivation.length!==t.length)continue;let e=!0;for(let n=0;n<t.length;n++)if(i.derivation[n]!==t[n]){e=!1;break}if(e){n=!0;break}}n||e.push({nonTerminal:o,matchPoint:0,derivation:t})}))}}const E="Augument_S";class M{initialStateNode;allStateNodesMap;lexer;grammers;firstSet;constructor(){this.initialStateNode=null}generateState(e,t,n,r){if(!n||!r){const t=k(e);n=t.nonTerminals,r=t.terminals}s.log("[nonTerminals]",n),s.log("[terminals]",r),this.grammers=e,this.lexer=new m(r,n),this.firstSet=a(this.lexer,e);const o=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));o.set(n,i)}s.log(o),this.initialStateNode={id:0,items:[{nonTerminal:E,derivation:[t],matchPoint:0,lookAheadTocken:[i]}],edges:[]},D(this.initialStateNode.items,o,this.lexer,this.firstSet);const l=new Map;this.allStateNodesMap=l,l.set($(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;l.size!=h;){h=l.size;for(let e of l.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===E&&1===t.matchPoint&&e.edges.push({tocken:i,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1,lookAheadTocken:i.lookAheadTocken});if(!n.length)continue;D(n,o,this.lexer,this.firstSet);const i=$(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t,next:l.get(i)})}for(let t of r){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1,lookAheadTocken:i.lookAheadTocken});if(!n.length)continue;D(n,o,this.lexer,this.firstSet);const i=$(n);l.has(i)||l.set(i,{id:l.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:l.get(i)})}}}}*generateStateProgressive(e,t,n,r){if(!n||!r){const t=k(e);n=t.nonTerminals,r=t.terminals}const o="Augument_S";s.log("[nonTerminals]",n),s.log("[terminals]",r),this.grammers=e,this.lexer=new m(r,n),this.firstSet||(this.firstSet=a(this.lexer,e));const l=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));l.set(n,i)}s.log(l),this.initialStateNode={id:0,items:[{nonTerminal:o,derivation:[t],matchPoint:0}],edges:[]},D(this.initialStateNode.items,l,this.lexer,this.firstSet),yield;const c=new Map;this.allStateNodesMap=c,c.set($(this.initialStateNode.items),this.initialStateNode);const h=[];let f=0;for(;c.size!=f;){f=c.size;for(let e of c.values())if(!h[e.id]){h[e.id]=!0;for(let t of e.items)t.nonTerminal===o&&1===t.matchPoint&&e.edges.push({tocken:i,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;D(n,l,this.lexer,this.firstSet);const i=$(n);c.has(i)||c.set(i,{id:c.size,items:n,edges:[]}),e.edges.push({tocken:t,next:c.get(i)}),yield}for(let t of r){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;D(n,l,this.lexer,this.firstSet);const i=$(n);c.has(i)||c.set(i,{id:c.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:c.get(i)}),yield}}}}predictInput(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let r=[];for(e=e.replaceAll(/\s/g,""),r.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),i]});;){const e=r[r.length-1],i=JSON.parse(JSON.stringify(e)),o=e.stack[e.stack.length-1];let s=I(t,o);for(let e of t)if(e.id===o){s=e;break}if(!s)throw new Error(`[predict] stateId: ${o} 的预测行找不到`);let a=!1,l=[];if(l=s.action.get(e.input[0]),l.length>1)throw new Error(`move collision ${l}`);if(!l.length){if(1!==s.action.get(n)?.length)throw new Error(`move is empty ${l}`);l=s.action.get(n),a=!0}let c=l[0];if("acc"===c){e.move="接受";break}if(c.startsWith("S"))e.move=`移入${e.input[0]}`,a?i.symbols.push(n):i.symbols.push(i.input.shift()),i.stack.push(Number(c.slice(1)));else{e.move=`根据${c}归约`;const n=c.slice(2,-1).replaceAll(/\s/g,""),r=n.split("=>")[0],o=this.lexer.splitDerivation(n.split("=>")[1]);for(let e=0;e<o.length;e++)i.stack.pop(),i.symbols.pop();i.symbols.push(r);const s=I(t,e.stack[i.stack.length-1]);i.stack.push(s.goto.get(r)[0])}r.push(i)}return r}mergeNewNode(e,t){if(e.id=Number(`${e.id}${t.id}`),e.items.length!==t.items.length)throw new Error("[mergeNewNode] 合并核心节点出错");for(let n=0;n<e.items.length;n++){const i=e.items[n],r=t.items[n];for(let e of r.lookAheadTocken)-1===i.lookAheadTocken?.indexOf(e)&&i.lookAheadTocken.push(e)}e.acc=e.acc||t.acc}generateLALRPredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=new Map;(()=>{const t=new Map,n=i=>{if(t.has(i.id))return;t.set(i.id,!0);const r=$(i.items,!1);let o=e.get(r);if(o)this.mergeNewNode(o,i);else{o={id:i.id,items:[],edges:[],acc:i.acc};for(let e of i.items)o.items.push(JSON.parse(JSON.stringify(e)));o.edges=[],e.set(r,o)}for(let e of i.edges)n(e.next)};n(this.initialStateNode)})();const t=new Map;(()=>{const n=new Map,i=r=>{if(n.has(r.id))return;n.set(r.id,!0);const o=$(r.items,!1);t.set(r.id,e.get(o).id);for(let e of r.edges)i(e.next)};i(this.initialStateNode)})();const n=e=>t.get(e),r=[],o=new Map;for(let t of this.allStateNodesMap.values()){if(o.get(n(t.id)))continue;o.set(n(t.id),!0);let s={id:n(t.id),action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)s.goto.set(e,[]);for(let e of this.lexer.terminals)s.action.set(e[0],[]);s.action.set(i,[]);for(let e of t.edges)e.tocken!==i?this.lexer.isTerminal(e.tocken)?s.action.get(e.tocken).push(`S${n(e.next.id)}`):s.goto.get(e.tocken).push(n(e.next.id)):s.action.get(e.tocken).push("acc");let a=t.items;n(t.id)!==t.id&&(a=e.get($(t.items,!1)).items);for(let e of a)if(e.matchPoint===e.derivation.length){if(e.nonTerminal===E)continue;for(let t of e.lookAheadTocken)s.action.get(t).push(`r(${e.nonTerminal} => ${e.derivation.join(" ")})`)}r.push(s)}return r.sort(((e,t)=>e.id-t.id)),r}generateLR1PredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=[];for(let t of this.allStateNodesMap.values()){let n={id:t.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)n.goto.set(e,[]);for(let e of this.lexer.terminals)n.action.set(e[0],[]);n.action.set(i,[]);for(let e of t.edges)e.tocken!==i?this.lexer.isTerminal(e.tocken)?n.action.get(e.tocken).push(`S${e.next.id}`):n.goto.get(e.tocken).push(e.next.id):n.action.get(e.tocken).push("acc");for(let e of t.items)if(e.matchPoint===e.derivation.length){if(e.nonTerminal===E)continue;for(let t of e.lookAheadTocken)n.action.get(t).push(`r(${e.nonTerminal} => ${e.derivation.join(" ")})`)}e.push(n)}return e.sort(((e,t)=>e.id-t.id)),e}get stateGraph(){const e=[],t=n=>{if(e[n.id])return e[n.id];const i={};e[n.id]=i,i.id=n.id,i.items=n.items.map((e=>F(e))),i.edges=[];for(let e of n.edges)i.edges.push({tocken:e.tocken,next:t(e.next)});return i};return t(this.initialStateNode)}}function $(e,t=!0){e=e.sort(((e,t)=>e<t?-1:1));let n="";for(let i of e)n+=` ${F(i,t)}`;return n}function F(e,t=!0){let n=`${e.nonTerminal} => `;for(let t=0;t<e.derivation.length;t++)t===e.matchPoint&&(t||(n+=" "),n+="· "),t===e.derivation.length-1?n+=`${e.derivation[t]}`:n+=`${e.derivation[t]} `;return e.lookAheadTocken?.length&&t&&(n+=" , "+e.lookAheadTocken.join("/")),n}function D(e,t,i,r){for(let o=0;o<e.length;o++){const s=e[o],a=s.derivation[s.matchPoint];if(i.isTerminal(a))continue;const c=t.get(a),h=[...l(i,s.derivation.slice(s.matchPoint+1),r).terminals];h.length&&-1===h.indexOf(n)||h.push(...s.lookAheadTocken),c?.forEach((t=>{let n=!1;for(let i of e)if(i.nonTerminal===a&&0===i.matchPoint){if(i.derivation.length!==t.length)continue;let e=!0;for(let n=0;n<t.length;n++)if(i.derivation[n]!==t[n]){e=!1;break}if(e){n=!0;break}}n||e.push({nonTerminal:a,matchPoint:0,derivation:t,lookAheadTocken:h})}))}}function I(e,t){for(let n of e)if(n.id===t)return n}export{d as LL1Parser,M as LR1Parser,P as LRParser,m as Lexer,x as checkNeedClearRightRecursion,v as checkNeedliftUpCommonTocken,T as checkNeedunionGrammers,N as clearRightRecursion,k as getTockFromSimpleGrammers,w as liftUpCommonTocken,S as unionGrammers};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZXNtLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMvaW5kZXgudHMiLCIuLi9zcmMvdXRpbHMvY29uc3QudHMiLCIuLi9zcmMvdXRpbHMvbG9nLnRzIiwiLi4vc3JjL2ZpcnN0U2V0LnRzIiwiLi4vc3JjL2ZvbGxvd1NldC50cyIsIi4uL3NyYy9sZXhlci50cyIsIi4uL3NyYy9MTDEvcHJlZGljdFRhYmxlLnRzIiwiLi4vc3JjL0xMMS9wYXJzZXIudHMiLCIuLi9zcmMvc2ltcGxlR3JhbW1lckhlbHBlci50cyIsIi4uL3NyYy9MUjAvTFJTdGF0ZS50cyIsIi4uL3NyYy9MUjEvTFIxU3RhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExleGVyIGZyb20gXCJAL2xleGVyXCI7XHJcbmltcG9ydCB7IEdyYW1tZXJzIH0gZnJvbSBcIkAvdHlwZXMvdHlwZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyOiBMZXhlciwgZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4pOiBHcmFtbWVycyB7XHJcbiAgICByZXR1cm4gZ3JhbW1lcnMubWFwKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgIH0pLm1hcChncmFtbWVyID0+IHtcclxuICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2ICYmIHYgIT09IFwifFwiKS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXhlci5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbDogYXJyWzBdLFxyXG4gICAgICAgICAgICBkZXJpdmF0aW9uczogZGVyaXZhdGlvbnMsXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTZXRJbmNsdWRlcyhhOiBTZXQ8dW5rbm93bj4sIGI6IFNldDx1bmtub3duPik6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChsZXQgaXRlbSBvZiBiLmtleXMoKSkge1xyXG4gICAgICAgIGlmICghYS5oYXMoaXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2FmZVJlZ0NoYXJhY3RlcihjaGFyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoIChjaGFyKSB7XHJcbiAgICBjYXNlIFwiK1wiOlxyXG4gICAgY2FzZSBcIipcIjpcclxuICAgIGNhc2UgXCIoXCI6XHJcbiAgICBjYXNlIFwiKVwiOlxyXG4gICAgICAgIHJldHVybiBgXFxcXCR7Y2hhcn1gO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gY2hhcjtcclxuICAgIH1cclxufSIsIlxyXG5cclxuZXhwb3J0IGNvbnN0IEVtcHR5Q2hhcmFjdGVyID0gXCLOtVwiO1xyXG5leHBvcnQgY29uc3QgRW5kaW5nQ2hhcmFjdGVyID0gXCIkXCI7IiwiLypTVEFSVC5PTkxZVEVTVCovXHJcbmltcG9ydCBjb2xvcnMgZnJvbSBcImNvbG9yc1wiXHJcbi8qRU5ELk9OTFlURVNUKi9cclxuXHJcbmVudW0gTG9nTGV2ZWwge1xyXG4gICAgTm9ybWFsLFxyXG4gICAgV2Fybm5pbmcsXHJcbiAgICBFcnJvcixcclxuICAgIE5vbmVcclxufVxyXG5pbnRlcmZhY2UgTG9nQ2hhbm5lbCB7XHJcbiAgICBsb2coLi4uZGF0YTogYW55W10pOiB2b2lkO1xyXG4gICAgd2FybiguLi5kYXRhOiBhbnlbXSk6IHZvaWQ7XHJcbiAgICBlcnJvciguLi5kYXRhOiBhbnlbXSk6IHZvaWQ7XHJcblxyXG59XHJcblxyXG5jbGFzcyBMb2dnZXIge1xyXG4gICAgcHVibGljIGxvZ0xldmVsOiBMb2dMZXZlbDtcclxuICAgIHB1YmxpYyBsb2dDaGFubmVsOiBMb2dDaGFubmVsO1xyXG4gICAgY29uc3RydWN0b3IobG9nTGV2ZWw6IExvZ0xldmVsID0gTG9nTGV2ZWwuTm9ybWFsLCBsb2dDaGFubmVsOiBMb2dDaGFubmVsID0gY29uc29sZSkge1xyXG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsb2dMZXZlbDtcclxuICAgICAgICB0aGlzLmxvZ0NoYW5uZWwgPSBsb2dDaGFubmVsO1xyXG4gICAgfVxyXG4gICAgbG9nKC4uLmluZm86IGFueVtdKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuTm9ybWFsKSB7XHJcbiAgICAgICAgICAgIC8qU1RBUlQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICBjb2xvcnMuZW5hYmxlKCk7XHJcbiAgICAgICAgICAgIC8qRU5ELk9OTFlURVNUKi9cclxuICAgICAgICAgICAgdGhpcy5sb2dDaGFubmVsLmxvZyhcIltub3JtYWxdXCIvKlNUQVJULk9OTFlURVNUKi8ucmFpbmJvdy8qRU5ELk9OTFlURVNUKi8sIC4uLmluZm8pO1xyXG4gICAgICAgICAgICAvKlNUQVJULk9OTFlURVNUKi9cclxuICAgICAgICAgICAgY29sb3JzLmRpc2FibGUoKTtcclxuICAgICAgICAgICAgLypFTkQuT05MWVRFU1QqL1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHdhcm4oLi4uaW5mbzogYW55W10pIHtcclxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA8PSBMb2dMZXZlbC5XYXJubmluZykge1xyXG4gICAgICAgICAgICAvKlNUQVJULk9OTFlURVNUKi9cclxuICAgICAgICAgICAgY29sb3JzLmVuYWJsZSgpO1xyXG4gICAgICAgICAgICAvKkVORC5PTkxZVEVTVCovXHJcbiAgICAgICAgICAgIHRoaXMubG9nQ2hhbm5lbC53YXJuKFwiW3dhcm5dXCIvKlNUQVJULk9OTFlURVNUKi8ueWVsbG93LypFTkQuT05MWVRFU1QqLywgLi4uaW5mbyk7XHJcbiAgICAgICAgICAgIC8qU1RBUlQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICBjb2xvcnMuZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICAvKkVORC5PTkxZVEVTVCovXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVycm9yKC4uLmluZm86IGFueVtdKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuRXJyb3IpIHtcclxuICAgICAgICAgICAgLypTVEFSVC5PTkxZVEVTVCovXHJcbiAgICAgICAgICAgIGNvbG9ycy5lbmFibGUoKTtcclxuICAgICAgICAgICAgLypFTkQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0NoYW5uZWwuZXJyb3IoXCJbZXJyb3JdXCIvKlNUQVJULk9OTFlURVNUKi8ucmVkLypFTkQuT05MWVRFU1QqLywgLi4uaW5mbyk7XHJcbiAgICAgICAgICAgIC8qU1RBUlQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICBjb2xvcnMuZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICAvKkVORC5PTkxZVEVTVCovXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9nVG8obG9nQ2hhbm5lbDogTG9nQ2hhbm5lbCkge1xyXG4gICAgICAgIHRoaXMubG9nQ2hhbm5lbCA9IGxvZ0NoYW5uZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE51bGxMb2dDaGFubmVsIHtcclxuICAgIHB1YmxpYyBsb2coLi4uZGF0YTogYW55W10pOiB2b2lkIHsgfVxyXG4gICAgcHVibGljIHdhcm4oLi4uZGF0YTogYW55W10pOiB2b2lkIHsgfVxyXG4gICAgcHVibGljIGVycm9yKC4uLmRhdGE6IGFueVtdKTogdm9pZCB7IH1cclxufVxyXG5leHBvcnQgY29uc3QgbnVsbExvZ0NoYW5uZWwgPSBuZXcgTnVsbExvZ0NoYW5uZWwoKTtcclxuXHJcbmxldCBsb2dMZXZlbF9pbml0ID0gTG9nTGV2ZWwuTm9ybWFsXHJcbnZhciBfX2Vudl9fID0gXCJcIjtcclxuc3dpdGNoIChfX2Vudl9fKSB7XHJcbmNhc2UgXCJwcm9kXCI6XHJcbiAgICBsb2dMZXZlbF9pbml0ID0gTG9nTGV2ZWwuRXJyb3JcclxufVxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9nZ2VyKGxvZ0xldmVsX2luaXQpXHJcbiIsImltcG9ydCBMZXhlciBmcm9tIFwiLi9sZXhlclwiO1xyXG5pbXBvcnQgeyBHcmFtbWVyU2V0LCBHcmFtbWVyU2V0TGluZSwgTm9uVGVybWluYWwsIFByb2Nlc3MsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgeyB0cmFuc2ZlclN0cmluZzJHcmFtbWVycyB9IGZyb20gXCIuL3V0aWxzXCJcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlscy9jb25zdFwiO1xyXG5pbXBvcnQgbG9nIGZyb20gXCIuL3V0aWxzL2xvZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVGaXJzdFNldChsZXhlcjogTGV4ZXIsIGluR3JhbW1lcnM6IEFycmF5PHN0cmluZz4pOiBHcmFtbWVyU2V0IHtcclxuICAgIGxvZy5sb2coXCJbZ2VuZXJhdGVGaXJzdFNldCBzdGFydF1cIik7XHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGxvZy5sb2coXCJbZ3JhbW1lcnMgYWZ0ZXIgdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnNdXCIsIGdyYW1tZXJzKTtcclxuICAgIGNvbnN0IGZpcnN0U2V0OiBHcmFtbWVyU2V0ID0gbmV3IEFycmF5KC4uLmdyYW1tZXJzLm1hcChncmFtbWVyID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldDxUZXJtaW5hbD4oKSxcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCBncmFtbWVyTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdW10+KCk7XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGdyYW1tZXJNYXAuc2V0KGdyYW1tZXIubm9uVGVybWluYWwsIGdyYW1tZXIuZGVyaXZhdGlvbnMpO1xyXG4gICAgfSlcclxuICAgIC8qIFxyXG4gICAgICAgIOWmguaenFjlvI/kuIDkuKrnu4jnu5PnrKblj7fvvIzpgqPkuYhGSVJTVChYKSA9IFggXHJcbiAgICAqL1xyXG4gICAgZmlyc3RTZXQucHVzaCguLi5sZXhlci50ZXJtaW5hbHMubWFwKHRlcm1pbmFsID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IHRlcm1pbmFsWzBdLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQoW3Rlcm1pbmFsWzBdXSksXHJcbiAgICAgICAgICAgIGlzVGVybWluYWw6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9KSlcclxuICAgIC8qIFxyXG4gICAgICAgIOWmguaenCBYID0+IM61IOaYr+S4gOS4quS6p+eUn+W8j++8jOmCo+S5iOWwhmXliqDkurrliLAgRklSU1TvvIhYKeS4reOAglxyXG4gICAgKi9cclxuICAgIGZpcnN0U2V0LmZvckVhY2goc2V0TGluZSA9PiB7XHJcbiAgICAgICAgaWYgKHNldExpbmUuaXNUZXJtaW5hbCkgcmV0dXJuO1xyXG4gICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lck1hcC5nZXQoc2V0TGluZS50b2NrZW4pISkge1xyXG4gICAgICAgICAgICBpZiAoZGVyaXZhdGlvbi5sZW5ndGggPT09IDEgJiYgZGVyaXZhdGlvblswXSA9PT0gRW1wdHlDaGFyYWN0ZXIgJiYgIXNldExpbmUudGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc3QgZmlyc3RTZXRNYXAgPSBuZXcgTWFwPHN0cmluZywgR3JhbW1lclNldExpbmU+KCk7XHJcbiAgICBmb3IgKGxldCBzZXRMaW5lIG9mIGZpcnN0U2V0KSB7XHJcbiAgICAgICAgZmlyc3RTZXRNYXAuc2V0KHNldExpbmUudG9ja2VuLCBzZXRMaW5lKTtcclxuICAgIH1cclxuICAgIC8vIOW+queOr+S4i+mdouatpemqpCDnm7TliLDmsqHmnInlj5jljJbkuLrmraJcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgbGV0IGhhc0NoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgIC8qIFxyXG4gICAgICAgICAgICBBID0+IEIwQjFCMkIzXHJcbiAgICAgICAgICAgIGkgPSAwXHJcbiAgICAgICAgICAgIEZJUlNUKEJpKSAtIEVtcHR5Q2hhcmFjdGVyIOWKoOWFpeWIsCBGSVJTVChBKeS4rVxyXG4gICAgICAgICAgICDlpoLmnpxGSVJTVChCMSnkuI3lkKvmnIlFbXB0eUNoYXJhY3RlcumAgOWHuuW+queOr1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAg6IulQjAtQjPlnYflkKvmnIlFbXB0eUNoYXJhY3RlciDlsIZFbXB0eUNoYXJhY3RlcuWKoOWFpeWIsEZJUlNUKEEp5LitXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmaXJzdFNldC5mb3JFYWNoKHNldExpbmUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2V0TGluZS5pc1Rlcm1pbmFsKSByZXR1cm47XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lck1hcC5nZXQoc2V0TGluZS50b2NrZW4pISkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXJpdmF0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9ja2VuID0gZGVyaXZhdGlvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGV4ZXIuaXNUZXJtaW5hbCh0b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2V0TGluZS50ZXJtaW5hbHMuaGFzKHRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5sb2codG9ja2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscy5hZGQodG9ja2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9ja2VuICE9PSBFbXB0eUNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0U2V0TGluZSA9IGZpcnN0U2V0TWFwLmdldCh0b2NrZW4pITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNldExpbmUudGVybWluYWxzLmZvckVhY2godGVybWluYWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsICE9PSBFbXB0eUNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2V0TGluZS50ZXJtaW5hbHMuaGFzKHRlcm1pbmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscy5hZGQodGVybWluYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0U2V0TGluZS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGRlcml2YXRpb24ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscy5hZGQoRW1wdHlDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKCFoYXNDaGFuZ2UpIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpcnN0U2V0LmZpbHRlcih2ID0+ICF2LmlzVGVybWluYWwpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICBpZiAoYS50b2NrZW4gPCBiLnRvY2tlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfSkubWFwKHNldExpbmUgPT4ge1xyXG4gICAgICAgIHNldExpbmUudGVybWluYWxzID0gbmV3IFNldChBcnJheS5mcm9tKHNldExpbmUudGVybWluYWxzKS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhIDwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSlcclxuICAgICAgICByZXR1cm4gc2V0TGluZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVyaXZhdGlvbkZpcnN0U2V0KGxleGVyOiBMZXhlciwgZGVyaXZhdGlvbjogc3RyaW5nW10sIGZpcnN0U2V0OiBHcmFtbWVyU2V0KTogR3JhbW1lclNldExpbmUge1xyXG4gICAgY29uc3QgZmlyc3RTZXRNYXA6IE1hcDxOb25UZXJtaW5hbCwgR3JhbW1lclNldExpbmU+ID0gbmV3IE1hcCgpO1xyXG4gICAgZmlyc3RTZXQuZm9yRWFjaChzZXRMaW5lID0+IHtcclxuICAgICAgICBmaXJzdFNldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sc2V0TGluZSk7XHJcbiAgICB9KVxyXG4gICAgY29uc3QgdGVybWluYWxzID0gbmV3IFNldDxUZXJtaW5hbD4oKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVyaXZhdGlvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IGRlcml2YXRpb25baV07XHJcbiAgICAgICAgaWYgKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSkge1xyXG4gICAgICAgICAgICBpZiAodG9ja2VuICE9PSBFbXB0eUNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgdGVybWluYWxzLmFkZCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaXJzdFNldE1hcC5nZXQodG9ja2VuKT8udGVybWluYWxzLmZvckVhY2godGVybWluYWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGVybWluYWxzLmFkZCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICghZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbikhLnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA9PT0gZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscy5hZGQoRW1wdHlDaGFyYWN0ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9ja2VuOiBkZXJpdmF0aW9uLmpvaW4oXCJcIiksXHJcbiAgICAgICAgdGVybWluYWxzLFxyXG4gICAgfSBcclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlcml2YXRpb25GaXJzdFNldFdpdGhNYXAobGV4ZXI6IExleGVyLCBkZXJpdmF0aW9uOiBzdHJpbmdbXSwgZmlyc3RTZXRNYXA6IE1hcDxOb25UZXJtaW5hbCwgR3JhbW1lclNldExpbmU+KTogR3JhbW1lclNldExpbmUge1xyXG4gICAgY29uc3QgdGVybWluYWxzID0gbmV3IFNldDxUZXJtaW5hbD4oKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVyaXZhdGlvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IGRlcml2YXRpb25baV07XHJcbiAgICAgICAgaWYgKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSkge1xyXG4gICAgICAgICAgICBpZiAodG9ja2VuICE9PSBFbXB0eUNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgdGVybWluYWxzLmFkZCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaXJzdFNldE1hcC5nZXQodG9ja2VuKT8udGVybWluYWxzLmZvckVhY2godGVybWluYWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGVybWluYWxzLmFkZCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICghZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbikhLnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA9PT0gZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscy5hZGQoRW1wdHlDaGFyYWN0ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9ja2VuOiBkZXJpdmF0aW9uLmpvaW4oXCJcIiksXHJcbiAgICAgICAgdGVybWluYWxzLFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIGdlbmVyYXRlRmlyc3RTZXRQcm9ncmVzc2l2ZShsZXhlcjogTGV4ZXIsIGluR3JhbW1lcnM6IEFycmF5PHN0cmluZz4pOiBJdGVyYWJsZUl0ZXJhdG9yPFJ1bGUgfCBQcm9jZXNzPEdyYW1tZXJTZXQ+PiB7XHJcbiAgICB5aWVsZCBbXHJcbiAgICAgICAgXCIxLiDlpoLmnpxY5byP5LiA5Liq57uI57uT56ym5Y+377yM6YKj5LmIRklSU1QoWCkgPSBYIFwiLFxyXG4gICAgICAgIFwiMi4g5aaC5p6cIFggPT4gzrUg5piv5LiA5Liq5Lqn55Sf5byP77yM6YKj5LmI5bCGZeWKoOS6uuWIsCBGSVJTVO+8iFgp5Lit44CCXCIsXHJcbiAgICAgICAgYDMuIEEgPT4gQjBCMUIyQjPvvIxpID0gMO+8jOW+queOr2lcclxuICAgICAgICAgICAgRklSU1QoQmkpIC0gRW1wdHlDaGFyYWN0ZXIg5Yqg5YWl5YiwIEZJUlNUKEEp5LitXHJcbiAgICAgICAgICAgIOWmguaenEZJUlNUKEIxKeS4jeWQq+aciUVtcHR5Q2hhcmFjdGVy6YCA5Ye65b6q546vXHJcbiAgICAgICAgICAgIOiLpUIwIC0gQjPlnYflkKvmnIlFbXB0eUNoYXJhY3RlciDlsIZFbXB0eUNoYXJhY3RlcuWKoOWFpeWIsEZJUlNUKEEp5LitXHJcbiAgICAgICAgYCxcclxuICAgICAgICBcIjQuIOWOu+mZpOaJgOaciee7iOe7k+espuWPt+eahOihqOmhuVwiLFxyXG4gICAgXVxyXG4gICAgbG9nLmxvZyhcIltnZW5lcmF0ZUZpcnN0U2V0IHN0YXJ0XVwiKTtcclxuICAgIGNvbnN0IGdyYW1tZXJzID0gdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnMobGV4ZXIsIGluR3JhbW1lcnMpO1xyXG4gICAgbG9nLmxvZyhcIltncmFtbWVycyBhZnRlciB0cmFuc2ZlclN0cmluZzJHcmFtbWVyc11cIiwgZ3JhbW1lcnMpO1xyXG4gICAgY29uc3QgZmlyc3RTZXQ6IEdyYW1tZXJTZXQgPSBuZXcgQXJyYXkoLi4uZ3JhbW1lcnMubWFwKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogZ3JhbW1lci5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0PFRlcm1pbmFsPigpLFxyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGNvbnN0IGdyYW1tZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW11bXT4oKTtcclxuICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgZ3JhbW1lck1hcC5zZXQoZ3JhbW1lci5ub25UZXJtaW5hbCwgZ3JhbW1lci5kZXJpdmF0aW9ucyk7XHJcbiAgICB9KVxyXG4gICAgLyogXHJcbiAgICAgICAg5aaC5p6cWOW8j+S4gOS4que7iOe7k+espuWPt++8jOmCo+S5iEZJUlNUKFgpID0gWCBcclxuICAgICovXHJcbiAgICBmaXJzdFNldC5wdXNoKC4uLmxleGVyLnRlcm1pbmFscy5tYXAodGVybWluYWwgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldChbdGVybWluYWxbMF1dKSxcclxuICAgICAgICAgICAgaXNUZXJtaW5hbDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pKVxyXG4gICAgeWllbGQge1xyXG4gICAgICAgIHJ1bGVJbmRleDogMCxcclxuICAgICAgICByZXN1bHQ6IGZpcnN0U2V0XHJcbiAgICB9O1xyXG4gICAgLyogXHJcbiAgICAgICAg5aaC5p6cIFggPT4gzrUg5piv5LiA5Liq5Lqn55Sf5byP77yM6YKj5LmI5bCGZeWKoOS6uuWIsCBGSVJTVO+8iFgp5Lit44CCXHJcbiAgICAqL1xyXG4gICAgZmlyc3RTZXQuZm9yRWFjaChzZXRMaW5lID0+IHtcclxuICAgICAgICBpZiAoc2V0TGluZS5pc1Rlcm1pbmFsKSByZXR1cm47XHJcbiAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyTWFwLmdldChzZXRMaW5lLnRvY2tlbikhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uLmxlbmd0aCA9PT0gMSAmJiBkZXJpdmF0aW9uWzBdID09PSBFbXB0eUNoYXJhY3RlciAmJiAhc2V0TGluZS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMuYWRkKEVtcHR5Q2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICB5aWVsZCB7XHJcbiAgICAgICAgcnVsZUluZGV4OiAxLFxyXG4gICAgICAgIHJlc3VsdDogZmlyc3RTZXRcclxuICAgIH07XHJcbiAgICBjb25zdCBmaXJzdFNldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZmlyc3RTZXQpIHtcclxuICAgICAgICBmaXJzdFNldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgLy8g5b6q546v5LiL6Z2i5q2l6aqkIOebtOWIsOayoeacieWPmOWMluS4uuatolxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBsZXQgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIEEgPT4gQjBCMUIyQjNcclxuICAgICAgICAgICAgaSA9IDBcclxuICAgICAgICAgICAgRklSU1QoQmkpIC0gRW1wdHlDaGFyYWN0ZXIg5Yqg5YWl5YiwIEZJUlNUKEEp5LitXHJcbiAgICAgICAgICAgIOWmguaenEZJUlNUKEIxKeS4jeWQq+aciUVtcHR5Q2hhcmFjdGVy6YCA5Ye65b6q546vXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICDoi6VCMC1CM+Wdh+WQq+aciUVtcHR5Q2hhcmFjdGVyIOWwhkVtcHR5Q2hhcmFjdGVy5Yqg5YWl5YiwRklSU1QoQSnkuK1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZpcnN0U2V0LmZvckVhY2goc2V0TGluZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzZXRMaW5lLmlzVGVybWluYWwpIHJldHVybjtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyTWFwLmdldChzZXRMaW5lLnRvY2tlbikhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcml2YXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2NrZW4gPSBkZXJpdmF0aW9uW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZXhlci5pc1Rlcm1pbmFsKHRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXRMaW5lLnRlcm1pbmFscy5oYXModG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmxvZyh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2NrZW4gIT09IEVtcHR5Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTZXRMaW5lID0gZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbikhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2V0TGluZS50ZXJtaW5hbHMuZm9yRWFjaCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVybWluYWwgIT09IEVtcHR5Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXRMaW5lLnRlcm1pbmFscy5oYXModGVybWluYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZCh0ZXJtaW5hbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRTZXRMaW5lLnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoIWhhc0NoYW5nZSkgYnJlYWs7XHJcbiAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICBydWxlSW5kZXg6IDIsXHJcbiAgICAgICAgICAgIHJlc3VsdDogZmlyc3RTZXRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgeWllbGQge1xyXG4gICAgICAgIHJ1bGVJbmRleDogMyxcclxuICAgICAgICByZXN1bHQ6IGZpcnN0U2V0LmZpbHRlcih2ID0+ICF2LmlzVGVybWluYWwpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEudG9ja2VuIDwgYi50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkubWFwKHNldExpbmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscyA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXRMaW5lLnRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZ2VuZXJhdGVGaXJzdFNldCBmcm9tIFwiLi9maXJzdFNldFwiO1xyXG5pbXBvcnQgTGV4ZXIgZnJvbSBcIi4vbGV4ZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lclNldCwgR3JhbW1lclNldExpbmUsIFByb2Nlc3MsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgeyB0cmFuc2ZlclN0cmluZzJHcmFtbWVycyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEVtcHR5Q2hhcmFjdGVyLCBFbmRpbmdDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlscy9jb25zdFwiO1xyXG5pbXBvcnQgbG9nIGZyb20gXCIuL3V0aWxzL2xvZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlRmxsb3dTZXQobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LCBmaXJzdFNldD86IEdyYW1tZXJTZXQpOiBHcmFtbWVyU2V0IHtcclxuICAgIGxvZy5sb2coXCJbZ2VuZXJhdGVGbGxvd1NldCBzdGFydF1cIik7XHJcbiAgICBpZiAoIWZpcnN0U2V0KSB7XHJcbiAgICAgICAgZmlyc3RTZXQgPSBnZW5lcmF0ZUZpcnN0U2V0KGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlyc3RTZXQgPSBBcnJheS5mcm9tKGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGdyYW1tZXJzID0gdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnMobGV4ZXIsIGluR3JhbW1lcnMpO1xyXG4gICAgbG9nLmxvZyhcIltncmFtbWVycyBhZnRlciB0cmFuc2ZlclN0cmluZzJHcmFtbWVyc11cIiwgZ3JhbW1lcnMpO1xyXG4gICAgLypcclxuICAgICAgICAxLiDlsIYk5pS+5YiwRk9MTE9XKFMp5LitXHJcbiAgICAqL1xyXG4gICAgY29uc3QgZm9sbG93U2V0OiBHcmFtbWVyU2V0ID0gbmV3IEFycmF5KC4uLmdyYW1tZXJzLm1hcChncmFtbWVyID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldDxUZXJtaW5hbD4oW0VuZGluZ0NoYXJhY3Rlcl0pLFxyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGNvbnN0IGdyYW1tZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW11bXT4oKTtcclxuICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgZ3JhbW1lck1hcC5zZXQoZ3JhbW1lci5ub25UZXJtaW5hbCwgZ3JhbW1lci5kZXJpdmF0aW9ucyk7XHJcbiAgICB9KVxyXG4gICAgZm9sbG93U2V0LnB1c2goLi4ubGV4ZXIudGVybWluYWxzLm1hcCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0KFtFbmRpbmdDaGFyYWN0ZXJdKSxcclxuICAgICAgICAgICAgaXNUZXJtaW5hbDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pKVxyXG5cclxuICAgIGNvbnN0IGZvbGxvd1NldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgZm9sbG93U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlyc3RTZXQucHVzaCguLi5sZXhlci50ZXJtaW5hbHMubWFwKHRlcm1pbmFsID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IHRlcm1pbmFsWzBdLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQoW3Rlcm1pbmFsWzBdXSksXHJcbiAgICAgICAgICAgIGlzVGVybWluYWw6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9KSlcclxuICAgIGNvbnN0IGZpcnN0U2V0TWFwID0gbmV3IE1hcDxzdHJpbmcsIEdyYW1tZXJTZXRMaW5lPigpO1xyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIGZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICAvLyDlvqrnjq/kuIvpnaLmraXpqqQg55u05Yiw5rKh5pyJ5Y+Y5YyW5Li65q2iXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGxldCBoYXNDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgMi7lpoLmnpzlrZjlnKjkuIDkuKrkuqfnlJ/lvI9BID0+IGFCYiDvvIwg6YKj5LmIRklSU1QoYikg5Lit6ZmkzrUg5LmL5aSW55qE5omA5pyJ56ym5Y+36YO95ZyoRk9MTE9XKEIp5Lit44CCXHJcbiAgICAgICAgICAgIGF0dGVudGlvbjogQSA9PiBhQkNkIOmCo+S5iOaKimZpcnN0KENkKeWKoOWFpeWIsEZvbGxvdyhCKeS4reWOu1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyLmRlcml2YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZGVyaXZhdGlvbi5sZW5ndGggLSAyOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGRlcml2YXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGRlcml2YXRpb24ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxzID0gZmlyc3RTZXRNYXAuZ2V0KGRlcml2YXRpb25bal0pIS50ZXJtaW5hbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0TGluZT8udGVybWluYWxzLmhhcyh0ZXJtaW5hbCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBID0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSA9PiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcFNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXIuZGVyaXZhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXJpdmF0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9ja2VuID0gZGVyaXZhdGlvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHBTZXRMaW5lIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXRMaW5lPy50ZXJtaW5hbHMuaGFzKHRlcm1pbmFsKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICghaGFzQ2hhbmdlKSBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBmb2xsb3dTZXQuZmlsdGVyKHYgPT4gIXYuaXNUZXJtaW5hbCkuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIGlmIChhLnRvY2tlbiA8IGIudG9ja2VuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9KS5tYXAoc2V0TGluZSA9PiB7XHJcbiAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMgPSBuZXcgU2V0KEFycmF5LmZyb20oc2V0TGluZS50ZXJtaW5hbHMpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LCBmaXJzdFNldD86IEdyYW1tZXJTZXQpOiBJdGVyYWJsZUl0ZXJhdG9yPFJ1bGUgfCBQcm9jZXNzPEdyYW1tZXJTZXQ+PiB7XHJcbiAgICB5aWVsZCBbXHJcbiAgICAgICAgXCIxLiDlsIYk5pS+5YiwRk9MTE9XKFMp5LitXCIsXHJcbiAgICAgICAgXCIyLiDlpoLmnpzlrZjlnKjkuIDkuKrkuqfnlJ/lvI9BID0+IGFCYiDvvIwg6YKj5LmIRklSU1QoYikg5Lit6ZmkzrUg5LmL5aSW55qE5omA5pyJ56ym5Y+36YO95ZyoRk9MTE9XKEIp5Lit44CCYXR0ZW50aW9uOiBBID0+IGFCQ2Qg6YKj5LmI5oqKZmlyc3QoQ2Qp5Yqg5YWl5YiwRm9sbG93KEIp5Lit5Y67XCIsXHJcbiAgICAgICAgXCIzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBID0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSA9PiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglwiLFxyXG4gICAgICAgIFwiNC4g5Y676Zmk5omA5pyJ57uI57uT56ym5Y+355qE6KGo6aG5XCIsXHJcbiAgICBdXHJcbiAgICBsb2cubG9nKFwiW2dlbmVyYXRlRmxsb3dTZXQgc3RhcnRdXCIpO1xyXG4gICAgaWYgKCFmaXJzdFNldCkge1xyXG4gICAgICAgIGZpcnN0U2V0ID0gZ2VuZXJhdGVGaXJzdFNldChsZXhlciwgaW5HcmFtbWVycyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpcnN0U2V0ID0gQXJyYXkuZnJvbShmaXJzdFNldCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGxvZy5sb2coXCJbZ3JhbW1lcnMgYWZ0ZXIgdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnNdXCIsIGdyYW1tZXJzKTtcclxuICAgIC8qXHJcbiAgICAgICAgMS4g5bCGJOaUvuWIsEZPTExPVyhTKeS4rVxyXG4gICAgKi9cclxuICAgIGNvbnN0IGZvbGxvd1NldDogR3JhbW1lclNldCA9IG5ldyBBcnJheSguLi5ncmFtbWVycy5tYXAoZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQ8VGVybWluYWw+KFtFbmRpbmdDaGFyYWN0ZXJdKSxcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCBncmFtbWVyTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdW10+KCk7XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGdyYW1tZXJNYXAuc2V0KGdyYW1tZXIubm9uVGVybWluYWwsIGdyYW1tZXIuZGVyaXZhdGlvbnMpO1xyXG4gICAgfSlcclxuICAgIGZvbGxvd1NldC5wdXNoKC4uLmxleGVyLnRlcm1pbmFscy5tYXAodGVybWluYWwgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldChbRW5kaW5nQ2hhcmFjdGVyXSksXHJcbiAgICAgICAgICAgIGlzVGVybWluYWw6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9KSlcclxuICAgIHlpZWxkIHtcclxuICAgICAgICBydWxlSW5kZXg6IDAsXHJcbiAgICAgICAgcmVzdWx0OiBmb2xsb3dTZXRcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb2xsb3dTZXRNYXAgPSBuZXcgTWFwPHN0cmluZywgR3JhbW1lclNldExpbmU+KCk7XHJcbiAgICBmb3IgKGxldCBzZXRMaW5lIG9mIGZvbGxvd1NldCkge1xyXG4gICAgICAgIGZvbGxvd1NldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0U2V0LnB1c2goLi4ubGV4ZXIudGVybWluYWxzLm1hcCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0KFt0ZXJtaW5hbFswXV0pLFxyXG4gICAgICAgICAgICBpc1Rlcm1pbmFsOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSkpXHJcbiAgICBjb25zdCBmaXJzdFNldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZmlyc3RTZXQpIHtcclxuICAgICAgICBmaXJzdFNldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgLy8g5b6q546v5LiL6Z2i5q2l6aqkIOebtOWIsOayoeacieWPmOWMluS4uuatolxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBsZXQgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIDIu5aaC5p6c5a2Y5Zyo5LiA5Liq5Lqn55Sf5byPQSA9PiBhQmIg77yMIOmCo+S5iEZJUlNUKGIpIOS4remZpM61IOS5i+WklueahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICAgICBhdHRlbnRpb246IEEgPT4gYUJDZCDpgqPkuYjmiopmaXJzdChDZCnliqDlhaXliLBGb2xsb3coQinkuK3ljrtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lci5kZXJpdmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRlcml2YXRpb24ubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldChkZXJpdmF0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBkZXJpdmF0aW9uLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFscyA9IGZpcnN0U2V0TWFwLmdldChkZXJpdmF0aW9uW2pdKSEudGVybWluYWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiB0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCA9PT0gRW1wdHlDaGFyYWN0ZXIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldExpbmU/LnRlcm1pbmFscy5oYXModGVybWluYWwpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaW5lPy50ZXJtaW5hbHMuYWRkKHRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgICAgIHJ1bGVJbmRleDogMSxcclxuICAgICAgICAgICAgICAgIHJlc3VsdDogZm9sbG93U2V0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBID0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSA9PiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcFNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXIuZGVyaXZhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXJpdmF0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9ja2VuID0gZGVyaXZhdGlvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHBTZXRMaW5lIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXRMaW5lPy50ZXJtaW5hbHMuaGFzKHRlcm1pbmFsKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChoYXNDaGFuZ2UpIHtcclxuICAgICAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICAgICAgcnVsZUluZGV4OiAyLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBmb2xsb3dTZXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWhhc0NoYW5nZSkgYnJlYWs7XHJcbiAgICB9XHJcbiAgICB5aWVsZCB7XHJcbiAgICAgICAgcnVsZUluZGV4OiAzLFxyXG4gICAgICAgIHJlc3VsdDogZm9sbG93U2V0LmZpbHRlcih2ID0+ICF2LmlzVGVybWluYWwpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEudG9ja2VuIDwgYi50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkubWFwKHNldExpbmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscyA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXRMaW5lLnRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTm9uVGVybWluYWwsIFRlcm1pbmFsLCBUb2NrZW4gfSBmcm9tIFwiLi90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IHNhZmVSZWdDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBFbXB0eUNoYXJhY3RlciwgRW5kaW5nQ2hhcmFjdGVyIH0gZnJvbSBcIi4vdXRpbHMvY29uc3RcIjtcclxuaW1wb3J0IGxvZyBmcm9tIFwiLi91dGlscy9sb2dcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExleGVyIHtcclxuICAgIHB1YmxpYyBub25UZXJtaW5hbHM6IEFycmF5PHN0cmluZz47XHJcbiAgICBwdWJsaWMgdGVybWluYWxzOiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPjtcclxuICAgIGN1cnJlbnRMaW5lOiBudW1iZXIgPSAwO1xyXG4gICAgY3VycmVudENvbHVtbjogbnVtYmVyID0gMDtcclxuICAgIHNvdXJjZTogc3RyaW5nID0gXCJcIjtcclxuICAgIGNvbnN0cnVjdG9yKHRlcm1pbmFsczogQXJyYXk8W3N0cmluZywgUmVnRXhwXT4sIG5vblRlcm1pbmFsczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgLy8g6L6T5YWl5omA5pyJ55qE57uI57uT56ym5Y+36ZuG5ZCIXHJcbiAgICAgICAgdGhpcy5ub25UZXJtaW5hbHMgPSBbLi4ubm9uVGVybWluYWxzXTtcclxuICAgICAgICB0aGlzLnRlcm1pbmFscyA9IFsuLi50ZXJtaW5hbHNdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldFNvdXJjZShzb3VyY2U6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudExpbmUgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudENvbHVtbiA9IDA7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVtYWluU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnNsaWNlKHRoaXMuY3VycmVudENvbHVtbik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbmV4dCgpOiBUb2NrZW4ge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb2x1bW4gPj0gdGhpcy5zb3VyY2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b2NrZW46IEVuZGluZ0NoYXJhY3RlcixcclxuICAgICAgICAgICAgICAgIG9yaWdpbjogRW5kaW5nQ2hhcmFjdGVyXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHRoaXMudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gdGhpcy5zb3VyY2Uuc2xpY2UodGhpcy5jdXJyZW50Q29sdW1uKS5tYXRjaCh0ZXJtaW5hbFsxXSk7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2NrZW46IHRlcm1pbmFsWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogbWF0Y2hSZXN1bHRbMF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvor43ms5XliIbmnpBdOiDljLnphY3kuIvkuIDkuKp0b2NrZW7lpLHotKUgIOa6kOi+k+WFpeWtl+espuS4sjogJHt0aGlzLnNvdXJjZX0g5Ymp5L2Z5a2X56ym5LiyOiAke3RoaXMuc291cmNlLnNsaWNlKHRoaXMuY3VycmVudENvbHVtbil9YCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcG9wKCk6IFRvY2tlbiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdG9ja2VuOiBUb2NrZW4gPSB0aGlzLm5leHQoKTtcclxuICAgICAgICAgICAgaWYgKHRvY2tlbi50b2NrZW4gIT09IEVuZGluZ0NoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29sdW1uICs9IHRvY2tlbi5vcmlnaW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2NrZW47XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBuZXh0Tm90RW1wdHlUZXJtaW5hbCgpOiBUb2NrZW4ge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvY2tlbiA9IHRoaXMubmV4dCgpO1xyXG4gICAgICAgICAgICBpZiAodG9ja2VuLnRvY2tlbiAhPT0gXCJ3aGl0ZVNwYWNlXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2NrZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29sdW1uICs9IHRvY2tlbi5vcmlnaW4ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBuZXh0Tm90RW1wdHkoc3RlcDogbnVtYmVyKTogVG9ja2VuIHtcclxuICAgICAgICBjb25zdCBiYWNrID0gdGhpcy5jdXJyZW50Q29sdW1uO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBvcE5vdEVtcHR5VGVybWluYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9ja2VuID0gdGhpcy5uZXh0Tm90RW1wdHlUZXJtaW5hbCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudENvbHVtbiA9IGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRvY2tlbjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBwb3BOb3RFbXB0eVRlcm1pbmFsKCk6IFRvY2tlbiB7XHJcbiAgICAgICAgY29uc3QgdG9ja2VuID0gdGhpcy5uZXh0Tm90RW1wdHlUZXJtaW5hbCgpO1xyXG4gICAgICAgIGlmICh0b2NrZW4udG9ja2VuICE9PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29sdW1uICs9IHRvY2tlbi5vcmlnaW4ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG9ja2VuO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzVGVybWluYWwoc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaXNUZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub25UZXJtaW5hbHMuc29tZSh2ID0+IHtcclxuICAgICAgICAgICAgaWYgKHYgPT09IHN0cikge1xyXG4gICAgICAgICAgICAgICAgaXNUZXJtaW5hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGlzVGVybWluYWw7XHJcbiAgICB9XHJcbiAgICAvLyDliIflibLmjqjlr7zlvI9cclxuICAgIHB1YmxpYyBzcGxpdERlcml2YXRpb24oc3RyOiBzdHJpbmcpOiBBcnJheTxOb25UZXJtaW5hbCB8IFRlcm1pbmFsPiB7XHJcbiAgICAgICAgY29uc3QgdGVybWluYWxzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGxldCBjb3VudFRpbWUgPSAwO1xyXG4gICAgICAgIGNvbnN0IE1BWF9FWENVVEUgPSA1MDAwMDtcclxuICAgICAgICBjb25zdCBpblN0ciA9IHN0cjtcclxuICAgICAgICB3aGlsZSAoc3RyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBub25UZXJtaW5hbCBvZiB0aGlzLm5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChcIl5cIiArIG5vblRlcm1pbmFsKSlcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFscy5wdXNoKG5vblRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UobWF0Y2hSZXN1bHRbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiB0aGlzLnRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChcIl5cIiArIHNhZmVSZWdDaGFyYWN0ZXIodGVybWluYWxbMF0pKSlcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFscy5wdXNoKHRlcm1pbmFsWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UobWF0Y2hSZXN1bHRbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb3VudFRpbWUrKztcclxuICAgICAgICAgICAgaWYgKGNvdW50VGltZSA+IE1BWF9FWENVVEUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW3NwbGl0RGVyaXZhdGlvbl0gZXJyb3I6IGV4Y3V0ZSBvdmVyIE1BWF9FWENVVEUgc3RyOiAke2luU3RyfSAgcmVtYWluaW5nIHN0cjogJHtzdHJ9IGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZXJtaW5hbHM7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAg55Sf5oiQ5o+Q5YWs5Zug5a2QIOS7peWPiiDmtojpmaTlt6bpgJLlvZLkvb/nlKjnmoTpnZ7nu4jnu5PnrKZcclxuICAqL1xyXG4gICAgcHVibGljIGdldE5ld05vblRlcm1pbmFsKG5vblRlcm1pbmFsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCB0bXAgPSBub25UZXJtaW5hbDtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0bXAgKz0gXCInXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5vblRlcm1pbmFscy5pbmRleE9mKHRtcCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vblRlcm1pbmFscy51bnNoaWZ0KHRtcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgZ2V0RGVyaXZhdGlvbkZpcnN0U2V0V2l0aE1hcCB9IGZyb20gXCJAL2ZpcnN0U2V0XCI7XHJcbmltcG9ydCBMZXhlciBmcm9tIFwiQC9sZXhlclwiO1xyXG5pbXBvcnQgeyBBc3ROb2RlLCBHcmFtbWVyLCBHcmFtbWVyU2V0LCBHcmFtbWVyU2V0TGluZSwgTm9uVGVybWluYWwsIFByZWRpY3RMaW5lLCBQcmVkaWN0UHJvY2Vzc0xpbmUsIFByZWRpY3RUYWJsZSwgUHJvY2VzcywgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiQC90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzIH0gZnJvbSBcIkAvdXRpbHNcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIsIEVuZGluZ0NoYXJhY3RlciB9IGZyb20gXCJAL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIkAvdXRpbHMvbG9nXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0b3JQcmVkaWN0VGFibGUoXHJcbiAgICBsZXhlcjogTGV4ZXIsXHJcbiAgICBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LFxyXG4gICAgZmlyc3RTZXQ6IEdyYW1tZXJTZXQsXHJcbiAgICBmb2xsb3dTZXQ6IEdyYW1tZXJTZXQsXHJcbik6IFByZWRpY3RUYWJsZSB7XHJcbiAgICAvKlxyXG4gICAg5a+56K+t5rOV5Lit55qE5q+P5p2h5Lqn55Sf5byP77yaIEEgLT4gdSDvvJpcclxuICAgICAgKDEp5a+5IEZpcnN0KHUpIOS4reeahOaJgOaciee7iOe7k+espiBhIO+8iOS4jeWQqyDOtSDvvInvvIznva4gTVtBLCBhXSA9IOKAnEEgLT4gdeKAnSDvvJtcclxuICAgICAgKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIFxyXG4gICovXHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGNvbnN0IHByZWRpY3RUYWJsZTogUHJlZGljdFRhYmxlID0gW107XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgbGV4ZXIubm9uVGVybWluYWxzLmZvckVhY2gobm9uVGVybWluYWwgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgbm9uVGVybWluYWw6IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbDJEZXJpdmF0aW9uOiBuZXcgTWFwPFRlcm1pbmFsLCBHcmFtbWVyPigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbm9uVGVybWluYWwyVGFibGVSb3dNYXAuc2V0KG5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyRmlyc3RTZXRNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgbm9uVGVybWluYWwyRm9sbG93U2V0TGluZS5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lci5kZXJpdmF0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uRmlyc3RTZXQgPSBnZXREZXJpdmF0aW9uRmlyc3RTZXRXaXRoTWFwKGxleGVyLCBkZXJpdmF0aW9uLCBub25UZXJtaW5hbDJGaXJzdFNldE1hcCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldChncmFtbWVyLm5vblRlcm1pbmFsKTtcclxuICAgICAgICAgICAgbG9nLmxvZyhkZXJpdmF0aW9uRmlyc3RTZXQpO1xyXG4gICAgICAgICAgICAvLyAoMSnlr7kgRmlyc3QodSkg5Lit55qE5omA5pyJ57uI57uT56ymIGEg77yI5LiN5ZCrIM61IO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIO+8m1xyXG4gICAgICAgICAgICBsZXQgaGFzU2V0OiBNYXA8c3RyaW5nLGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiBkZXJpdmF0aW9uRmlyc3RTZXQudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVybWluYWwgPT09IEVtcHR5Q2hhcmFjdGVyKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsR3JhbW1lcjogR3JhbW1lciB8IHVuZGVmaW5lZCA9IHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgaGFzU2V0LnNldCh0ZXJtaW5hbCx0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY2VsbEdyYW1tZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb25zOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLnNldCh0ZXJtaW5hbCwgY2VsbEdyYW1tZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIuZGVyaXZhdGlvbnMucHVzaChkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAoMinoi6UgRmlyc3QodSkg5ZCrIM61IO+8jOWImeWvuSBGb2xsb3coQSkg5Lit55qE5omA5pyJ56ym5Y+3IGEg77yI5Y+v5ZCrICQg77yJ77yM572uIE1bQSwgYV0gPSDigJxBIC0+IHXigJ0gXHJcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uRmlyc3RTZXQudGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihoYXNTZXQuaGFzKHRlcm1pbmFsKSljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbEdyYW1tZXI6IEdyYW1tZXIgfCB1bmRlZmluZWQgPSB0YWJsZUxpbmU/LnRlcm1pbmFsMkRlcml2YXRpb24uZ2V0KHRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNlbGxHcmFtbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxHcmFtbWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uczogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLnNldCh0ZXJtaW5hbCwgY2VsbEdyYW1tZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lci5kZXJpdmF0aW9ucy5wdXNoKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQcmVkaWNrVGFibGVJc1ZhbGlkKGxleGVyOiBMZXhlciwgdGFibGU6IFByZWRpY3RUYWJsZSk6IGJvb2xlYW4ge1xyXG4gICAgLy8g5q+P5LiAQ2VsbOacgOWkmuWPquiDveacieS4gOS4quaOqOWvvOW8jyBcclxuICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIGxleGVyLnRlcm1pbmFscykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IHRlcm1pbmFsWzBdO1xyXG4gICAgICAgIHRhYmxlLmZvckVhY2godGFibGVMaW5lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdDJkID0gdGFibGVMaW5lLnRlcm1pbmFsMkRlcml2YXRpb24uZ2V0KHRvY2tlbik7XHJcbiAgICAgICAgICAgIGlmICh0MmQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0MmQuZGVyaXZhdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZWRpY3QobGV4ZXI6IExleGVyLCB0YWJsZTogUHJlZGljdFRhYmxlLCBfaW5wdXQ6IHN0cmluZywgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBOb25UZXJtaW5hbCk6IEFycmF5PFByZWRpY3RQcm9jZXNzTGluZT4ge1xyXG4gICAgbGV0IGlucHV0ID0gX2lucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgIGNvbnN0IHByZWRpY3RQcm9jZXNzOiBBcnJheTxQcmVkaWN0UHJvY2Vzc0xpbmU+ID0gW107XHJcbiAgICBsZXQgYXN0SWR4ID0gMTtcclxuICAgIGNvbnN0IGFzdE5vZGU6IEFzdE5vZGUgPSB7XHJcbiAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgdGV4dDogcGFyc2VTdGFydE5vblRlcm1pbmFsLFxyXG4gICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBhc3RTdGFjayA9IFthc3ROb2RlXTtcclxuICAgIGxldCBjdXJyZW50U3RhdGU6IFByZWRpY3RQcm9jZXNzTGluZSA9IHtcclxuICAgICAgICBwYXJzZVN0YWNrOiBbRW5kaW5nQ2hhcmFjdGVyLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWxdLFxyXG4gICAgICAgIHJlbWFpbmluZ0lucHV0OiBfaW5wdXQsXHJcbiAgICAgICAgcGFyc2VBY3Rpb246IFwiXCIsXHJcbiAgICB9XHJcbiAgICBsZXhlci5zZXRTb3VyY2UoaW5wdXQpO1xyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyVGFibGVSb3dNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBQcmVkaWN0TGluZT4oKTtcclxuICAgIHRhYmxlLmZvckVhY2godGFibGVMaW5lID0+IHtcclxuICAgICAgICBub25UZXJtaW5hbDJUYWJsZVJvd01hcC5zZXQodGFibGVMaW5lLm5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgfSlcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgLy8g5Y+W5Ye65qCI6aG25YWD57SgXHJcbiAgICAgICAgICAgIGNvbnN0IHRvY2tlbiA9IGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrW2N1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGV4ZXIuaXNUZXJtaW5hbCh0b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2NrZW4gPT09IHRlcm1pbmFsLnRvY2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoIHN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VBY3Rpb24gPSBgbWF0Y2ggJHt0ZXJtaW5hbC50b2NrZW59JHt0ZXJtaW5hbC50b2NrZW49PT10ZXJtaW5hbC5vcmlnaW4/XCJcIjpcIjogXCIrdGVybWluYWwub3JpZ2lufWBcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyZW50U3RhdGUpKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXhlci5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VBY3Rpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUucGFyc2VTdGFjay5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzdE5vZGUgPSBhc3RTdGFjay5wb3AoKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFzdE5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRlcm1pbmFsLm9yaWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g6Z2e57uI57uT56ym5Yy56YWN6ZSZ6K+vOiAke3RvY2tlbn0gc3RhY2s6ICR7Y3VycmVudFN0YXRlLnBhcnNlU3RhY2t9IOWJqeS9meWtl+espuS4sjogJHtsZXhlci5yZW1haW5TdHJpbmcoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSB0ZXJtaW5hbCBtYXRjaCBlcnJvciB0b2NrZW46ICR7dG9ja2VufSBzdGFjazogJHtjdXJyZW50U3RhdGUucGFyc2VTdGFja30gcmVtYWluaW5nSW5wdXQ6ICR7bGV4ZXIucmVtYWluU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lOiBQcmVkaWN0TGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldCh0b2NrZW4pITtcclxuICAgICAgICAgICAgY29uc3QgZ3JhbW1lcjogR3JhbW1lciA9IHRhYmxlTGluZSEudGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwudG9ja2VuKTtcclxuICAgICAgICAgICAgaWYgKGdyYW1tZXI/LmRlcml2YXRpb25zPy5sZW5ndGggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g5YiG5p6Q6L6T5YWl6ZSZ6K+vICDnu4jnu5PnrKY6ICR7dGVybWluYWx9ICAg5Ymp5L2Z5a2X56ym5LiyOiAke2xleGVyLnJlbWFpblN0cmluZygpfSDmlofms5U6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSBwYXJzZSBpbnB1dCBmYWlsIFxcbiB0ZXJtaW5hbDogJHt0ZXJtaW5hbH0gXFxuICByZW1haW5pbmdJbnB1dDogJHtsZXhlci5yZW1haW5TdHJpbmcoKX0gXFxuIGdyYW1tZXI6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYFByZWRpY3QgJHtncmFtbWVyLm5vblRlcm1pbmFsfSA9PiAke2dyYW1tZXIuZGVyaXZhdGlvbnNbMF0uam9pbihcIiBcIil9YDtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIltwcmVkaWN0IFN0YXRlXVwiLCBjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gZ3JhbW1lci5kZXJpdmF0aW9uc1swXS5maWx0ZXIoY2hhciA9PiBjaGFyICE9PSBFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0b2NrZW4gb2YgZGVyaXZhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXN0U3RhY2sucHVzaCguLi5bLi4uYXN0Tm9kZS5jaGlsZHJlbl0ucmV2ZXJzZSgpKTtcclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlU3RhY2sucHVzaCguLi5kZXJpdmF0aW9uLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2goZTogYW55KSB7XHJcbiAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gZS50b1N0cmluZygpO1xyXG4gICAgICAgIHByZWRpY3RQcm9jZXNzLnB1c2goY3VycmVudFN0YXRlKTtcclxuICAgIH1cclxuICAgIChwcmVkaWN0UHJvY2VzcyBhcyBhbnkpLmFzdE5vZGUgPSBhc3ROb2RlXHJcbiAgICByZXR1cm4gcHJlZGljdFByb2Nlc3M7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogcHJlZGljdFByb2dyZXNzaXZlKGxleGVyOiBMZXhlciwgdGFibGU6IFByZWRpY3RUYWJsZSwgX2lucHV0OiBzdHJpbmcsIHBhcnNlU3RhcnROb25UZXJtaW5hbDogTm9uVGVybWluYWwpOiBJdGVyYWJsZUl0ZXJhdG9yPEFycmF5PFByZWRpY3RQcm9jZXNzTGluZT4+IHtcclxuICAgIGxldCBpbnB1dCA9IF9pbnB1dC5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICBjb25zdCBwcmVkaWN0UHJvY2VzczogQXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPiA9IFtdO1xyXG4gICAgbGV0IGFzdElkeCA9IDE7XHJcbiAgICBjb25zdCBhc3ROb2RlOiBBc3ROb2RlID0ge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIHRleHQ6IHBhcnNlU3RhcnROb25UZXJtaW5hbCxcclxuICAgICAgICBjaGVjazogZmFsc2UsXHJcbiAgICB9O1xyXG4gICAgKHByZWRpY3RQcm9jZXNzIGFzIGFueSkuYXN0Tm9kZSA9IGFzdE5vZGVcclxuICAgIGNvbnN0IGFzdFN0YWNrID0gW2FzdE5vZGVdO1xyXG4gICAgbGV0IGN1cnJlbnRTdGF0ZTogUHJlZGljdFByb2Nlc3NMaW5lID0ge1xyXG4gICAgICAgIHBhcnNlU3RhY2s6IFtFbmRpbmdDaGFyYWN0ZXIsIHBhcnNlU3RhcnROb25UZXJtaW5hbF0sXHJcbiAgICAgICAgcmVtYWluaW5nSW5wdXQ6IF9pbnB1dCxcclxuICAgICAgICBwYXJzZUFjdGlvbjogXCJcIixcclxuICAgIH1cclxuICAgIGxleGVyLnNldFNvdXJjZShpbnB1dCk7XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgdGFibGUuZm9yRWFjaCh0YWJsZUxpbmUgPT4ge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLnNldCh0YWJsZUxpbmUubm9uVGVybWluYWwsIHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgeWllbGQgcHJlZGljdFByb2Nlc3M7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIC8vIOWPluWHuuagiOmhtuWFg+e0oFxyXG4gICAgICAgICAgICBjb25zdCB0b2NrZW4gPSBjdXJyZW50U3RhdGUucGFyc2VTdGFja1tjdXJyZW50U3RhdGUucGFyc2VTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBsZXhlci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9ja2VuID09PSB0ZXJtaW5hbC50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaCBzdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYG1hdGNoICR7dGVybWluYWwudG9ja2VufSR7dGVybWluYWwudG9ja2VuPT09dGVybWluYWwub3JpZ2luP1wiXCI6XCI6IFwiK3Rlcm1pbmFsLm9yaWdpbn1gXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdFByb2Nlc3MucHVzaChjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV4ZXIucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucmVtYWluaW5nSW5wdXQgPSBsZXhlci5yZW1haW5TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlLnBhcnNlU3RhY2subGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzdE5vZGUuY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFzdElkeCsrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXJtaW5hbC5vcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvpooTmtYvplJnor69dIOmdnue7iOe7k+espuWMuemFjemUmeivrzogJHt0b2NrZW59IHN0YWNrOiAke2N1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrfSDliankvZnlrZfnrKbkuLI6ICR7bGV4ZXIucmVtYWluU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKGBbcHJlZGljdCBlcnJvcl0gdGVybWluYWwgbWF0Y2ggZXJyb3IgdG9ja2VuOiAke3RvY2tlbn0gc3RhY2s6ICR7Y3VycmVudFN0YXRlLnBhcnNlU3RhY2t9IHJlbWFpbmluZ0lucHV0OiAke2xleGVyLnJlbWFpblN0cmluZygpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgeWllbGQgcHJlZGljdFByb2Nlc3M7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lOiBQcmVkaWN0TGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldCh0b2NrZW4pITtcclxuICAgICAgICAgICAgY29uc3QgZ3JhbW1lcjogR3JhbW1lciA9IHRhYmxlTGluZSEudGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwudG9ja2VuKTtcclxuICAgICAgICAgICAgaWYgKGdyYW1tZXI/LmRlcml2YXRpb25zPy5sZW5ndGggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g5YiG5p6Q6L6T5YWl6ZSZ6K+vICDnu4jnu5PnrKY6ICR7dGVybWluYWx9ICAg5Ymp5L2Z5a2X56ym5LiyOiAke2xleGVyLnJlbWFpblN0cmluZygpfSDmlofms5U6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSBwYXJzZSBpbnB1dCBmYWlsIFxcbiB0ZXJtaW5hbDogJHt0ZXJtaW5hbH0gXFxuICByZW1haW5pbmdJbnB1dDogJHtsZXhlci5yZW1haW5TdHJpbmcoKX0gXFxuIGdyYW1tZXI6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYFByZWRpY3QgJHtncmFtbWVyLm5vblRlcm1pbmFsfSA9PiAke2dyYW1tZXIuZGVyaXZhdGlvbnNbMF0uam9pbihcIiBcIil9YDtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIltwcmVkaWN0IFN0YXRlXVwiLCBjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gZ3JhbW1lci5kZXJpdmF0aW9uc1swXS5maWx0ZXIoY2hhciA9PiBjaGFyICE9PSBFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0b2NrZW4gb2YgZGVyaXZhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXN0U3RhY2sucHVzaCguLi5bLi4uYXN0Tm9kZS5jaGlsZHJlbl0ucmV2ZXJzZSgpKTtcclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlU3RhY2sucHVzaCguLi5kZXJpdmF0aW9uLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgICAgICB5aWVsZCBwcmVkaWN0UHJvY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoKGU6IGFueSkge1xyXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IGUudG9TdHJpbmcoKTtcclxuICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAocHJlZGljdFByb2Nlc3MgYXMgYW55KS5hc3ROb2RlID0gYXN0Tm9kZVxyXG4gICAgcmV0dXJuIHByZWRpY3RQcm9jZXNzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIGdlbmVyYXRlUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUoXHJcbiAgICBsZXhlcjogTGV4ZXIsXHJcbiAgICBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LFxyXG4gICAgZmlyc3RTZXQ6IEdyYW1tZXJTZXQsXHJcbiAgICBmb2xsb3dTZXQ6IEdyYW1tZXJTZXQsXHJcbik6IEl0ZXJhYmxlSXRlcmF0b3I8UnVsZSB8IFByb2Nlc3M8UHJlZGljdFRhYmxlPj4ge1xyXG4gICAgLypcclxuICAgIOWvueivreazleS4reeahOavj+adoeS6p+eUn+W8j++8miBBIC0+IHUg77yaXHJcbiAgICAgICgxKeWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSBBIC0+IHVcclxuICAgICAgKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0gQSAtPiB1XHJcbiAgKi9cclxuICAgIHlpZWxkIFtcclxuICAgICAgICBcIjEuIOWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSBBIC0+IHVcIixcclxuICAgICAgICBcIjIuIOiLpSBGaXJzdCh1KSDlkKsgzrUg77yM5YiZ5a+5IEZvbGxvdyhBKSDkuK3nmoTmiYDmnInnrKblj7cgYSDvvIjlj6/lkKsgJCDvvInvvIznva4gTVtBLCBhXSA9IEEgLT4gdVwiXHJcbiAgICBdXHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGNvbnN0IHByZWRpY3RUYWJsZTogUHJlZGljdFRhYmxlID0gW107XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgbGV4ZXIubm9uVGVybWluYWxzLmZvckVhY2gobm9uVGVybWluYWwgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgbm9uVGVybWluYWw6IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbDJEZXJpdmF0aW9uOiBuZXcgTWFwPFRlcm1pbmFsLCBHcmFtbWVyPigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbm9uVGVybWluYWwyVGFibGVSb3dNYXAuc2V0KG5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyRmlyc3RTZXRNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgbm9uVGVybWluYWwyRm9sbG93U2V0TGluZS5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyLmRlcml2YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25GaXJzdFNldCA9IGdldERlcml2YXRpb25GaXJzdFNldFdpdGhNYXAobGV4ZXIsIGRlcml2YXRpb24sIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lID0gbm9uVGVybWluYWwyVGFibGVSb3dNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBsb2cubG9nKGRlcml2YXRpb25GaXJzdFNldCk7XHJcbiAgICAgICAgICAgIC8vICgxKeWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSDigJxBIC0+IHXigJ0g77ybXHJcbiAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIGRlcml2YXRpb25GaXJzdFNldC50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCA9PT0gRW1wdHlDaGFyYWN0ZXIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNlbGxHcmFtbWVyOiBHcmFtbWVyIHwgdW5kZWZpbmVkID0gdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLmdldCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNlbGxHcmFtbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uczogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5zZXQodGVybWluYWwsIGNlbGxHcmFtbWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNlbGxHcmFtbWVyLmRlcml2YXRpb25zLnB1c2goZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZUluZGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcHJlZGljdFRhYmxlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIFxyXG4gICAgICAgICAgICBpZiAoZGVyaXZhdGlvbkZpcnN0U2V0LnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiBub25UZXJtaW5hbDJGb2xsb3dTZXRMaW5lLmdldChncmFtbWVyLm5vblRlcm1pbmFsKSEudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxHcmFtbWVyOiBHcmFtbWVyIHwgdW5kZWZpbmVkID0gdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLmdldCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsR3JhbW1lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbnM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5zZXQodGVybWluYWwsIGNlbGxHcmFtbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIuZGVyaXZhdGlvbnMucHVzaChkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVJbmRleDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBwcmVkaWN0VGFibGVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZ2VuZXJhdGVGaXJzdFNldCwgeyBnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUgfSBmcm9tIFwiQC9maXJzdFNldFwiO1xyXG5pbXBvcnQgZ2VuZXJhdGVGbGxvd1NldCwgeyBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUgfSBmcm9tIFwiQC9mb2xsb3dTZXRcIjtcclxuaW1wb3J0IExleGVyIGZyb20gXCJAL2xleGVyXCI7XHJcbmltcG9ydCB7IEdyYW1tZXJTZXQsIFByZWRpY3RQcm9jZXNzTGluZSwgUHJlZGljdFRhYmxlLCBQcm9jZXNzLCBSdWxlIH0gZnJvbSBcIkAvdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgZ2VuZXJhdG9yUHJlZGljdFRhYmxlLCB7IGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCwgZ2VuZXJhdGVQcmVkaWN0VGFibGVQcm9ncmVzc2l2ZSwgcHJlZGljdCwgcHJlZGljdFByb2dyZXNzaXZlIH0gZnJvbSBcIi4vcHJlZGljdFRhYmxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMTDFQYXJzZXIge1xyXG4gICAgcHVibGljIGxleGVyOiBMZXhlcjtcclxuICAgIHB1YmxpYyB0ZXh0R3JhbW1lcnM6IEFycmF5PHN0cmluZz47XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXJtaW5hbHM6IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+LCBub25UZXJtaW5hbHM6IEFycmF5PHN0cmluZz4sIGluR3JhbW1lcnM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB0aGlzLmxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLnRleHRHcmFtbWVycyA9IGluR3JhbW1lcnM7XHJcbiAgICB9XHJcbiAgICBnZXRGaXJzdFNldCgpOiBHcmFtbWVyU2V0IHtcclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVGaXJzdFNldCh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycyk7XHJcbiAgICB9XHJcbiAgICBnZXRGb2xsb3dTZXQoZmlyc3RTZXQ/OiBHcmFtbWVyU2V0KTogR3JhbW1lclNldCB7XHJcbiAgICAgICAgaWYgKCFmaXJzdFNldCkge1xyXG4gICAgICAgICAgICBmaXJzdFNldCA9IHRoaXMuZ2V0Rmlyc3RTZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlRmxsb3dTZXQodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RUYWJsZShmaXJzdFNldD86IEdyYW1tZXJTZXQsIGZvbGxvd1NldD86IEdyYW1tZXJTZXQpOiBQcmVkaWN0VGFibGUge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm9sbG93U2V0KSB7XHJcbiAgICAgICAgICAgIGZvbGxvd1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0KGZpcnN0U2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRvclByZWRpY3RUYWJsZSh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycywgZmlyc3RTZXQsIGZvbGxvd1NldCk7XHJcbiAgICB9XHJcbiAgICBnZXRQcmVkaWN0UHJvY2VzcyhpbnB1dDogc3RyaW5nLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZywgcHJlZGljdFRhYmxlPzogUHJlZGljdFRhYmxlKTogQXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPiB7XHJcbiAgICAgICAgaWYgKCFwcmVkaWN0VGFibGUpIHtcclxuICAgICAgICAgICAgcHJlZGljdFRhYmxlID0gZ2VuZXJhdG9yUHJlZGljdFRhYmxlKHRoaXMubGV4ZXIsIHRoaXMudGV4dEdyYW1tZXJzLCB0aGlzLmdldEZpcnN0U2V0KCksIHRoaXMuZ2V0Rm9sbG93U2V0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGhpcy5sZXhlci5ub25UZXJtaW5hbHMuc29tZShub25UZXJtaW5hbD0+e1xyXG4gICAgICAgICAgICBpZihwYXJzZVN0YXJ0Tm9uVGVybWluYWwgPT09IG5vblRlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiMVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZWRpY3QodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlLCBpbnB1dCwgcGFyc2VTdGFydE5vblRlcm1pbmFsKTtcclxuICAgIH1cclxuICAgIGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZChwcmVkaWN0VGFibGU6IFByZWRpY3RUYWJsZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBjaGVja1ByZWRpY2tUYWJsZUlzVmFsaWQodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlKTtcclxuICAgIH1cclxuICAgIGNoZWNrSXNMTDAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCh0aGlzLmxleGVyLCB0aGlzLmdldFByZWRpY3RUYWJsZSgpKTtcclxuICAgIH1cclxuICAgIGdldEZpcnN0U2V0UHJvZ3Jlc3NpdmUoKTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxHcmFtbWVyU2V0Pj4ge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMpO1xyXG4gICAgfVxyXG4gICAgZ2V0Rm9sbG93U2V0UHJvZ3Jlc3NpdmUoZmlyc3RTZXQ/OiBHcmFtbWVyU2V0KTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxHcmFtbWVyU2V0Pj4ge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RQcm9jZXNzUHJvZ3Jlc3NpdmUoaW5wdXQ6IHN0cmluZywgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBzdHJpbmcsIHByZWRpY3RUYWJsZT86IFByZWRpY3RUYWJsZSk6IEl0ZXJhYmxlSXRlcmF0b3I8QXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPj4ge1xyXG4gICAgICAgIGlmICghcHJlZGljdFRhYmxlKSB7XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZSA9IGdlbmVyYXRvclByZWRpY3RUYWJsZSh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycywgdGhpcy5nZXRGaXJzdFNldCgpLCB0aGlzLmdldEZvbGxvd1NldCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXRoaXMubGV4ZXIubm9uVGVybWluYWxzLnNvbWUobm9uVGVybWluYWw9PntcclxuICAgICAgICAgICAgaWYocGFyc2VTdGFydE5vblRlcm1pbmFsID09PSBub25UZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcmVkaWN0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlLCBpbnB1dCwgcGFyc2VTdGFydE5vblRlcm1pbmFsKTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RUYWJsZVByb2dyZXNzaXZlKGZpcnN0U2V0PzogR3JhbW1lclNldCwgZm9sbG93U2V0PzogR3JhbW1lclNldCk6IEl0ZXJhYmxlSXRlcmF0b3I8UnVsZSB8IFByb2Nlc3M8UHJlZGljdFRhYmxlPj4ge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm9sbG93U2V0KSB7XHJcbiAgICAgICAgICAgIGZvbGxvd1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0KGZpcnN0U2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0LCBmb2xsb3dTZXQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IExleGVyIGZyb20gXCIuL2xleGVyXCI7XHJcbmltcG9ydCB7IE5vblRlcm1pbmFsLCBUZXJtaW5hbCB9IGZyb20gXCIuL3R5cGVzL3R5cGVcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlscy9jb25zdFwiO1xyXG5pbXBvcnQgbG9nIGZyb20gXCIuL3V0aWxzL2xvZ1wiO1xyXG5cclxuLypcclxuICAgIOWmguaenOeUqOaIt+i+k+WFpeeahOaYr+S5puS4iumCo+enjeeugOWNleaWh+azle+8jOivpeWHveaVsOiHquWKqOivhuWIq+WHuue7iOe7k+espuWSjOmdnue7iOe7k+esplxyXG4gICAg6Z2e57uI57uT56ymOiAvXltBLVpdJyogL1xyXG4gICAg57uI57uT56ymOiAvW2EtenxcXHUwMzkxLVxcdTAzQzldLyAgKOWwj+WGmeWtl+avjeS7peWPikdyZWVrIFN5bWJvbHMpXHJcbiAgICBleDogaHR0cHM6Ly91bmljb2RlLXRhYmxlLmNvbS9lbi9zZXRzL2dyZWVrLXN5bWJvbHMvXHJcbiAgICDmjqjlr7znrKblj7c6ID0+IC0+XHJcbiovXHJcbmNvbnN0IHNpbXBsZU5vblRlcm1pbmFsUmVnID0gL15bQS1aXScqLztcclxuY29uc3Qgc2ltcGxlVGVybWluYWxSZWcgPSAvW2EtenxcXHUwMzkxLVxcdTAzQzldLztcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMoaW5HcmFtbWVyczogQXJyYXk8c3RyaW5nPik6IHtcclxuICAgIG5vblRlcm1pbmFsczogQXJyYXk8c3RyaW5nPixcclxuICAgIHRlcm1pbmFsczogQXJyYXk8W3N0cmluZywgUmVnRXhwXT4sXHJcbn0ge1xyXG4gICAgY29uc3Qgbm9uVGVybWluYWxzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuICAgIGNvbnN0IHRlcm1pbmFsczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcbiAgICBpbkdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIikuc3BsaXQoLyg9Pil8KC0+KS8pLmZpbHRlcih2ID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgbm9uVGVybWluYWxzLmFkZChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2ICYmIHYgIT09IFwifFwiKS5mb3JFYWNoKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICB3aGlsZSAoZGVyaXZhdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYXRjaFJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdCA9IGRlcml2YXRpb24ubWF0Y2goc2ltcGxlTm9uVGVybWluYWxSZWcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWxzLmFkZChtYXRjaFJlc3VsdFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbiA9IGRlcml2YXRpb24uc2xpY2UobWF0Y2hSZXN1bHRbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0ID0gZGVyaXZhdGlvbi5tYXRjaChzaW1wbGVUZXJtaW5hbFJlZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbHMuYWRkKEpTT04uc3RyaW5naWZ5KFttYXRjaFJlc3VsdFswXSwgXCJeXCIgKyBtYXRjaFJlc3VsdFswXV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uID0gZGVyaXZhdGlvbi5zbGljZShtYXRjaFJlc3VsdFswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyBlcnJvcl0gY2FudCByZWNvZ25pemUgdGhlIGNoYXJhY3RlciByZW1haW5pbmc6ICR7ZGVyaXZhdGlvbn1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBub25UZXJtaW5hbHM6IEFycmF5LmZyb20obm9uVGVybWluYWxzKS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOWBmuS4gOS4queugOWNleaOkuW6jyDpmLLmraJCIOWSjCBCJyDlhrLnqoFcclxuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGVybWluYWxzOiBBcnJheS5mcm9tKHRlcm1pbmFscykubWFwKGpzb25EYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBKU09OLnBhcnNlKGpzb25EYXRhKTtcclxuICAgICAgICAgICAgdGVybWluYWxbMV0gPSBuZXcgUmVnRXhwKHRlcm1pbmFsWzFdKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlcm1pbmFsO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgICDmo4DmtYvmlofms5XmmK/lkKbpnIDopoHnroDljZXlkIjlubbljrvph41cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTmVlZHVuaW9uR3JhbW1lcnMoZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4pOiBib29sZWFuIHtcclxuICAgIGxldCB1bmlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBcnJheTxzdHJpbmc+PigpO1xyXG4gICAgZm9yIChsZXQgZ3JhbW1lciBvZiBncmFtbWVycykge1xyXG4gICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb24gPSBhcnJbMV07XHJcbiAgICAgICAgaWYgKHVuaW9uTWFwLmhhcyhub25UZXJtaW5hbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdW5pb25NYXAuc2V0KG5vblRlcm1pbmFsLCBbZGVyaXZhdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vKlxyXG4gICAgQSAtPiBhXHJcbiAgICBBIC0+IGNcclxuICAgID09PT5cclxuICAgIEEgLT4gYSB8IGNcclxuXHJcbiAgICDlubbkuJTkvJrnroDljZXljrvph41cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uR3JhbW1lcnMoZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sIG5vblRlcm1pbmFscz86IEFycmF5PHN0cmluZz4sIHRlcm1pbmFscz86IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+KTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICBsZXQgdW5pb25NYXAgPSBuZXcgTWFwPHN0cmluZywgQXJyYXk8c3RyaW5nPj4oKTtcclxuICAgIGNvbnN0IHJlc3VsdDogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgaWYgKCFub25UZXJtaW5hbHMgfHwgIXRlcm1pbmFscykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbkFuYVJlcyA9IGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMoZ3JhbW1lcnMpO1xyXG4gICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgdGVybWluYWxzID0gdG9ja2VuQW5hUmVzLnRlcm1pbmFscztcclxuICAgIH1cclxuICAgIGxldCBsZXhlciA9IG5ldyBMZXhlcih0ZXJtaW5hbHMsIG5vblRlcm1pbmFscyk7XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2KS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxvZy5sb2coXCJbZGVidWddXCIsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXhlci5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHVuaW9uTWFwLmhhcyhub25UZXJtaW5hbCkpIHtcclxuICAgICAgICAgICAgY29uc3QgYXJyID0gdW5pb25NYXAuZ2V0KG5vblRlcm1pbmFsKTtcclxuICAgICAgICAgICAgZGVyaXZhdGlvbnMuZm9yRWFjaChkZXJpdmF0aW9uPT57XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpID0gZGVyaXZhdGlvbi5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIGlmKGFycj8uaW5kZXhPZihkZXJpKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChkZXJpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1bmlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zLm1hcChkZXJpdmF0aW9uPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVyaXZhdGlvbi5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBmb3IgKGxldCBub25UZXJtaW5hbCBvZiB1bmlvbk1hcC5rZXlzKCkpIHtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IFsuLi5uZXcgU2V0KHVuaW9uTWFwLmdldChub25UZXJtaW5hbCkhKV07XHJcbiAgICAgICAgcmVzdWx0LnB1c2goYCR7bm9uVGVybWluYWx9ID0+ICR7ZGVyaXZhdGlvbnMuam9pbihcInxcIil9YC5zcGxpdChcInxcIikuam9pbihcIiB8IFwiKSk7XHJcbiAgICB9XHJcbiAgICBsb2cubG9nKHJlc3VsdCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vKlxyXG4gICAg5qOA5rWL5piv5ZCm6ZyA6KaB6L+b6KGM5o+Q5bem5YWs5YWx5Zug5a2QXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja05lZWRsaWZ0VXBDb21tb25Ub2NrZW4oZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sIG5vblRlcm1pbmFscz86IEFycmF5PHN0cmluZz4sIHRlcm1pbmFscz86IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+KTogYm9vbGVhbiB7XHJcbiAgICBsZXQgcmVzdWx0OiBBcnJheTxzdHJpbmc+ID0gZ3JhbW1lcnM7XHJcbiAgICBpZiAoIW5vblRlcm1pbmFscyB8fCAhdGVybWluYWxzKSB7XHJcbiAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICB0ZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMudGVybWluYWxzO1xyXG4gICAgfVxyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGZvciAobGV0IGdyYW1tZXIgb2YgcmVzdWx0KSB7XHJcbiAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXIuc3BsaXQoLyg9Pil8KC0+KS8pLmZpbHRlcih2ID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV0uc3BsaXQoXCJ8XCIpLmZpbHRlcih2ID0+IHYpLm1hcChkZXJpdmF0aW9uID0+IHtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIltkZWJ1Z11cIiwgcmVzdWx0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGxleGVyLnNwbGl0RGVyaXZhdGlvbihkZXJpdmF0aW9uKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwID0gbmV3IE1hcDxOb25UZXJtaW5hbCB8IFRlcm1pbmFsLCBzdHJpbmdbXVtdPigpO1xyXG4gICAgICAgIGRlcml2YXRpb25zLmZvckVhY2goZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5nZXQoZGVyaXZhdGlvblswXSk7XHJcbiAgICAgICAgICAgIGlmICghYXJyKSB7XHJcbiAgICAgICAgICAgICAgICBhcnIgPSBbZGVyaXZhdGlvbi5zbGljZSgxKV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChkZXJpdmF0aW9uLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5zZXQoZGVyaXZhdGlvblswXSwgYXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGZvciAobGV0IHRvY2tlbiBvZiBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgaWYgKGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLmdldCh0b2NrZW4pPy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbGlmdFVwQ29tbW9uVG9ja2VuKGdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LCBub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LCB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPik6IEFycmF5PHN0cmluZz4ge1xyXG4gICAgbGV0IHJlc3VsdDogQXJyYXk8c3RyaW5nPiA9IGdyYW1tZXJzO1xyXG4gICAgaWYgKCFub25UZXJtaW5hbHMgfHwgIXRlcm1pbmFscykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbkFuYVJlcyA9IGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMoZ3JhbW1lcnMpO1xyXG4gICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgdGVybWluYWxzID0gdG9ja2VuQW5hUmVzLnRlcm1pbmFscztcclxuICAgIH1cclxuICAgIGxldCBsZXhlciA9IG5ldyBMZXhlcih0ZXJtaW5hbHMsIG5vblRlcm1pbmFscyk7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGxldCBuZXdBZGRHcmFtbWVyczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCB0bXBSZXN1bHQgPSByZXN1bHQubWFwKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXIuc3BsaXQoLyg9Pil8KC0+KS8pLmZpbHRlcih2ID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGFyclsxXS5zcGxpdChcInxcIikuZmlsdGVyKHYgPT4gdikubWFwKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9nLmxvZyhcIltkZWJ1Z11cIiwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZXhlci5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0Rlcml2YXRpb24gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsIHwgVGVybWluYWwsIHN0cmluZ1tdW10+KCk7XHJcbiAgICAgICAgICAgIGRlcml2YXRpb25zLmZvckVhY2goZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXJyID0gZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAuZ2V0KGRlcml2YXRpb25bMF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBbZGVyaXZhdGlvbi5zbGljZSgxKV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGRlcml2YXRpb24uc2xpY2UoMSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAuc2V0KGRlcml2YXRpb25bMF0sIGFycik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvY2tlbiBvZiBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5nZXQodG9ja2VuKT8ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGVyaXZhdGlvbi5wdXNoKHRvY2tlbiArIGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLmdldCh0b2NrZW4pIVswXS5qb2luKFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAuZ2V0KHRvY2tlbik7XHJcbiAgICAgICAgICAgICAgICAvLyDlj6/ku6Xmj5Dlj5blhazlm6DlrZBcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VuVGVybWluYWwgPSBsZXhlci5nZXROZXdOb25UZXJtaW5hbChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICBuZXdEZXJpdmF0aW9uLnB1c2godG9ja2VuICsgbmV3VW5UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICBuZXdBZGRHcmFtbWVycy5wdXNoKG5ld1VuVGVybWluYWwgKyBcIiA9PiBcIiArIGRlcml2YXRpb25zPy5tYXAodiA9PiB2LmpvaW4oXCIgXCIpKS5qb2luKFwiIHwgXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbm9uVGVybWluYWwgKyBcIiA9PiBcIiArIG5ld0Rlcml2YXRpb24uam9pbihcIiB8IFwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsb2cubG9nKFwiW3ByZV1cIiwgdG1wUmVzdWx0LCBuZXdBZGRHcmFtbWVycyk7XHJcbiAgICAgICAgY29uc3QgbmV3UmVzdWx0ID0gWy4uLnRtcFJlc3VsdCwgLi4ubmV3QWRkR3JhbW1lcnNdO1xyXG4gICAgICAgIGxvZy5sb2coXCJbY29tXVwiLCByZXN1bHQsIG5ld1Jlc3VsdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IG5ld1Jlc3VsdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3VsdCA9IG5ld1Jlc3VsdDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuLypcclxuICAgIOajgOafpeaYr+WQpumcgOimgea4healmuW3pumAkuW9klxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOZWVkQ2xlYXJSaWdodFJlY3Vyc2lvbihncmFtbWVyczogQXJyYXk8c3RyaW5nPiwgbm9uVGVybWluYWxzPzogQXJyYXk8c3RyaW5nPiwgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT4pOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHJlc3VsdDogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgaWYgKCFub25UZXJtaW5hbHMgfHwgIXRlcm1pbmFscykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbkFuYVJlcyA9IGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMoZ3JhbW1lcnMpO1xyXG4gICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgdGVybWluYWxzID0gdG9ja2VuQW5hUmVzLnRlcm1pbmFscztcclxuICAgIH1cclxuICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzXVwiLCBub25UZXJtaW5hbHMpO1xyXG4gICAgbG9nLmxvZyhcIlt0ZXJtaW5hbHNdXCIsIHRlcm1pbmFscyk7XHJcbiAgICBsZXQgbGV4ZXIgPSBuZXcgTGV4ZXIodGVybWluYWxzLCBub25UZXJtaW5hbHMpO1xyXG4gICAgY29uc3Qgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBzdHJpbmdbXVtdPigpO1xyXG4gICAgZm9yIChsZXQgZ3JhbW1lciBvZiBncmFtbWVycykge1xyXG4gICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2KS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXhlci5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuc2V0KG5vblRlcm1pbmFsLCBkZXJpdmF0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwXVwiLCBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vblRlcm1pbmFscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGdJID0gbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuZ2V0KG5vblRlcm1pbmFsc1tpXSk7XHJcbiAgICAgICAgLy8g5raI6Zmk5bem6YCS5b2SXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGdJIS5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xyXG4gICAgICAgICAgICBjb25zdCBncmFtbWVyID0gZ0khW2pdO1xyXG4gICAgICAgICAgICBpZiAoZ3JhbW1lclswXSA9PT0gbm9uVGVybWluYWxzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlrZjlnKjlt6bpgJLlvZJcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbi8qXHJcbiAgICDmtojpmaTlt6bpgJLlvZJcclxuICAgIOebtOaOpeW3pumAkuW9ki3pl7TmjqXlt6bpgJLlvZJcclxuICAgIOimgeaxgu+8miDovpPlhaXmlofms5XkuI3lkKvmnIlFbXB0eUNoYXJhdGVyIOWSjCDnjq9cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmlnaHRSZWN1cnNpb24oZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sIG5vblRlcm1pbmFscz86IEFycmF5PHN0cmluZz4sIHRlcm1pbmFscz86IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+KTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICBjb25zdCB0b2NrZW5BbmFSZXMgPSBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGdyYW1tZXJzKTtcclxuICAgICAgICBub25UZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMubm9uVGVybWluYWxzO1xyXG4gICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICB9XHJcbiAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgIGxvZy5sb2coXCJbdGVybWluYWxzXVwiLCB0ZXJtaW5hbHMpO1xyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxOb25UZXJtaW5hbCwgc3RyaW5nW11bXT4oKTtcclxuICAgIGZvciAobGV0IGdyYW1tZXIgb2YgZ3JhbW1lcnMpIHtcclxuICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5zcGxpdCgvKD0+KXwoLT4pLykuZmlsdGVyKHYgPT4gdiAhPT0gXCI9PlwiICYmIHYgIT09IFwiLT5cIiAmJiB2KTtcclxuICAgICAgICBjb25zdCBub25UZXJtaW5hbCA9IGFyclswXTtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGFyclsxXS5zcGxpdChcInxcIikuZmlsdGVyKHYgPT4gdikubWFwKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV4ZXIuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLnNldChub25UZXJtaW5hbCwgZGVyaXZhdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgbG9nLmxvZyhcIltub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcF1cIiwgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXApO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub25UZXJtaW5hbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBnSSA9IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLmdldChub25UZXJtaW5hbHNbaV0pO1xyXG4gICAgICAgIC8vIOabv+aNouS6p+eUn+W8j1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdKID0gbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuZ2V0KG5vblRlcm1pbmFsc1tqXSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSBnSSEubGVuZ3RoIC0gMTsgayA+PSAwOyBrLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBnSSFba107XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhbW1lclswXSA9PT0gbm9uVGVybWluYWxzW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZy5sb2coZ3JhbW1lciwgbm9uVGVybWluYWxzW2pdKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqZ3JhbW1lciBvZiBnSiEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmxvZyhcIlstXVwiLCBqZ3JhbW1lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJPy5wdXNoKFsuLi5qZ3JhbW1lciwgLi4uZ3JhbW1lci5zbGljZSgxKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnST8uc3BsaWNlKGssIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5lZWRIYW5kbGVJbmRleDogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICAvLyDmtojpmaTlt6bpgJLlvZJcclxuICAgICAgICBmb3IgKGxldCBqID0gZ0khLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBnSSFbal07XHJcbiAgICAgICAgICAgIGlmIChncmFtbWVyWzBdID09PSBub25UZXJtaW5hbHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIC8vIOWtmOWcqOW3pumAkuW9klxyXG4gICAgICAgICAgICAgICAgbmVlZEhhbmRsZUluZGV4LnB1c2goaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5lZWRIYW5kbGVJbmRleC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3Tm9uVGVybWluYWxUb2NrZW4gPSBsZXhlci5nZXROZXdOb25UZXJtaW5hbChub25UZXJtaW5hbHNbaV0pO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdHcmFtbWVyczogc3RyaW5nW11bXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdOb25UZXJtaW5hbEdyYW1tZXJzOiBzdHJpbmdbXVtdID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gZ0khLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmVlZEhhbmRsZUluZGV4LmluZGV4T2YoaikgIT09IC0xKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIC8vIEVtcHR5Q2hhcmFjdGVy5L2c5Li66aaW5Liq56ym5Y+3IOayoeacieaEj+S5iVxyXG4gICAgICAgICAgICAgICAgbmV3R3JhbW1lcnMucHVzaChbLi4uKGdJIVtqXVswXSA9PT0gRW1wdHlDaGFyYWN0ZXIgPyBnSSFbal0uc2xpY2UoMSkgOiBnSSFbal0pLCBuZXdOb25UZXJtaW5hbFRvY2tlbl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4IG9mIG5lZWRIYW5kbGVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9uVGVybWluYWxHcmFtbWVycy5wdXNoKFsuLi5nSSFbaW5kZXhdLnNsaWNlKDEpLCBuZXdOb25UZXJtaW5hbFRvY2tlbl0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9uVGVybWluYWxHcmFtbWVycy5wdXNoKFtFbXB0eUNoYXJhY3Rlcl0pO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWxzW2ldLCBbLi4ubmV3R3JhbW1lcnMsIC4uLihuZWVkSGFuZGxlSW5kZXgubGVuZ3RoID8gW10gOiBnSSEpXSk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLnNldChuZXdOb25UZXJtaW5hbFRvY2tlbiwgbmV3Tm9uVGVybWluYWxHcmFtbWVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAgaW4gcHJvY2Vzc11cIiwgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsIGdJKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IG5vblRlcm1pbmFsIG9mIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLmtleXMoKSkge1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb246IHN0cmluZyA9IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLmdldChub25UZXJtaW5hbCkhLm1hcChkZXJpdmF0aW9uID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlcml2YXRpb24uam9pbihcIiBcIik7XHJcbiAgICAgICAgfSkuam9pbihcIiB8IFwiKTtcclxuICAgICAgICByZXN1bHQucHVzaChgJHtub25UZXJtaW5hbH0gPT4gJHtkZXJpdmF0aW9ufWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuXHJcbiIsImltcG9ydCBnZW5lcmF0ZUZpcnN0U2V0IGZyb20gXCJAL2ZpcnN0U2V0XCI7XHJcbmltcG9ydCBnZW5lcmF0ZUZsbG93U2V0IGZyb20gXCJAL2ZvbGxvd1NldFwiO1xyXG5pbXBvcnQgTGV4ZXIgZnJvbSBcIkAvbGV4ZXJcIjtcclxuaW1wb3J0IHsgZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyB9IGZyb20gXCJAL3NpbXBsZUdyYW1tZXJIZWxwZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lcnMsIExSUHJlZGljdExpbmUsIExSUHJlZGljdFJlc3VsdFRhYmxlLCBMUlByZWRpY3RUYWJsZUxpbmUsIExSUHJlZGljdFRhYmxlLCBMUlN0YXRlTm9kZSwgTFJTdGF0ZU5vZGVGb3JTaG93LCBMUlN0YXRlTm9kZUl0ZW0sIFByZWRpY3RUYWJsZSwgUHJvY2VzcywgUnVsZSB9IGZyb20gXCJAL3R5cGVzL3R5cGVcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIsIEVuZGluZ0NoYXJhY3RlciB9IGZyb20gXCJAL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIkAvdXRpbHMvbG9nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTFJQYXJzZXIgIHtcclxuICAgIGluaXRpYWxTdGF0ZU5vZGU6IExSU3RhdGVOb2RlIHwgbnVsbDtcclxuICAgIGFsbFN0YXRlTm9kZXNNYXA/OiBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPjtcclxuICAgIGxleGVyPzogTGV4ZXI7XHJcbiAgICBncmFtbWVycz86IHN0cmluZ1tdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVOb2RlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlU3RhdGUoZ3JhbW1lcnM6IHN0cmluZ1tdLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZyxub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LCB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPikge1xyXG4gICAgICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IEF1Z3VtZW50U3RhcnQgPSBcIkF1Z3VtZW50X1NcIjtcclxuICAgICAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgICAgICBsb2cubG9nKFwiW3Rlcm1pbmFsc11cIiwgdGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLmdyYW1tZXJzID0gZ3JhbW1lcnM7XHJcbiAgICAgICAgdGhpcy5sZXhlciA9IG5ldyBMZXhlcih0ZXJtaW5hbHMsIG5vblRlcm1pbmFscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4oKTtcclxuICAgICAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5zcGxpdCgvKD0+KXwoLT4pLykuZmlsdGVyKHYgPT4gdiAhPT0gXCI9PlwiICYmIHYgIT09IFwiLT5cIiAmJiB2KTtcclxuICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2KS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZXhlciEuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuc2V0KG5vblRlcm1pbmFsLCBkZXJpdmF0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZy5sb2cobm9uVGVybWluYWxzMkRlcml2YXRpb25NYXApO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZU5vZGUgPSB7XHJcbiAgICAgICAgICAgIGlkOiAwLFxyXG4gICAgICAgICAgICBpdGVtczogW3tcclxuICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBBdWd1bWVudFN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogW3BhcnNlU3RhcnROb25UZXJtaW5hbF0sXHJcbiAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiAwLFxyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgIH1cclxuICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyKTtcclxuICAgICAgICBjb25zdCBhbGxTdGF0ZU5vZGVzTWFwID0gbmV3IE1hcDxzdHJpbmcsTFJTdGF0ZU5vZGU+KCk7XHJcbiAgICAgICAgdGhpcy5hbGxTdGF0ZU5vZGVzTWFwID0gYWxsU3RhdGVOb2Rlc01hcDtcclxuICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChzdGF0ZUl0ZW1zVG9TdHJpbmcodGhpcy5pbml0aWFsU3RhdGVOb2RlLml0ZW1zKSx0aGlzLmluaXRpYWxTdGF0ZU5vZGUpO1xyXG4gICAgICAgIGNvbnN0IHZpczogYm9vbGVhbltdID0gW107XHJcbiAgICAgICAgbGV0IHByZVNpemUgPSAwO1xyXG4gICAgICAgIHdoaWxlKHRydWUpIHtcclxuICAgICAgICAgICAgaWYoYWxsU3RhdGVOb2Rlc01hcC5zaXplID09IHByZVNpemUpYnJlYWs7XHJcbiAgICAgICAgICAgIHByZVNpemUgPSBhbGxTdGF0ZU5vZGVzTWFwLnNpemU7XHJcbiAgICAgICAgICAgIGZvcihsZXQgc3RhdGUgb2YgYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYodmlzW3N0YXRlLmlkXSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB2aXNbc3RhdGUuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuWPr+S7peWIsOaOpeWPl+eKtuaAgVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub25UZXJtaW5hbCA9PT0gQXVndW1lbnRTdGFydCAmJiBpdGVtLm1hdGNoUG9pbnQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW46IEVuZGluZ0NoYXJhY3RlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsIG9mIG5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb24ubGVuZ3RoID09PSBpdGVtLm1hdGNoUG9pbnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdID09PSBub25UZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogaXRlbS5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBpdGVtLmRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogaXRlbS5tYXRjaFBvaW50KzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZighbWF0Y2hJdGVtcy5sZW5ndGgpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyhtYXRjaEl0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsIG9mIHRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb24ubGVuZ3RoID09PSBpdGVtLm1hdGNoUG9pbnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdID09PSB0ZXJtaW5hbFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogaXRlbS5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBpdGVtLmRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogaXRlbS5tYXRjaFBvaW50KzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZighbWF0Y2hJdGVtcy5sZW5ndGgpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyhtYXRjaEl0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAqZ2VuZXJhdGVTdGF0ZVByb2dyZXNzaXZlKGdyYW1tZXJzOiBzdHJpbmdbXSwgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBzdHJpbmcsbm9uVGVybWluYWxzPzogQXJyYXk8c3RyaW5nPiwgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT4pOiBJdGVyYWJsZUl0ZXJhdG9yPHVuZGVmaW5lZD4ge1xyXG4gICAgICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IEF1Z3VtZW50U3RhcnQgPSBcIkF1Z3VtZW50X1NcIjtcclxuICAgICAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgICAgICBsb2cubG9nKFwiW3Rlcm1pbmFsc11cIiwgdGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLmdyYW1tZXJzID0gZ3JhbW1lcnM7XHJcbiAgICAgICAgdGhpcy5sZXhlciA9IG5ldyBMZXhlcih0ZXJtaW5hbHMsIG5vblRlcm1pbmFscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4oKTtcclxuICAgICAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5zcGxpdCgvKD0+KXwoLT4pLykuZmlsdGVyKHYgPT4gdiAhPT0gXCI9PlwiICYmIHYgIT09IFwiLT5cIiAmJiB2KTtcclxuICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2KS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZXhlciEuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuc2V0KG5vblRlcm1pbmFsLCBkZXJpdmF0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZy5sb2cobm9uVGVybWluYWxzMkRlcml2YXRpb25NYXApO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZU5vZGUgPSB7XHJcbiAgICAgICAgICAgIGlkOiAwLFxyXG4gICAgICAgICAgICBpdGVtczogW3tcclxuICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBBdWd1bWVudFN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogW3BhcnNlU3RhcnROb25UZXJtaW5hbF0sXHJcbiAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiAwLFxyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgIH1cclxuICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyKTtcclxuICAgICAgICB5aWVsZDtcclxuICAgICAgICBjb25zdCBhbGxTdGF0ZU5vZGVzTWFwID0gbmV3IE1hcDxzdHJpbmcsTFJTdGF0ZU5vZGU+KCk7XHJcbiAgICAgICAgdGhpcy5hbGxTdGF0ZU5vZGVzTWFwID0gYWxsU3RhdGVOb2Rlc01hcDtcclxuICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChzdGF0ZUl0ZW1zVG9TdHJpbmcodGhpcy5pbml0aWFsU3RhdGVOb2RlLml0ZW1zKSx0aGlzLmluaXRpYWxTdGF0ZU5vZGUpO1xyXG4gICAgICAgIGNvbnN0IHZpczogYm9vbGVhbltdID0gW107XHJcbiAgICAgICAgbGV0IHByZVNpemUgPSAwO1xyXG4gICAgICAgIHdoaWxlKHRydWUpIHtcclxuICAgICAgICAgICAgaWYoYWxsU3RhdGVOb2Rlc01hcC5zaXplID09IHByZVNpemUpYnJlYWs7XHJcbiAgICAgICAgICAgIHByZVNpemUgPSBhbGxTdGF0ZU5vZGVzTWFwLnNpemU7XHJcbiAgICAgICAgICAgIGZvcihsZXQgc3RhdGUgb2YgYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYodmlzW3N0YXRlLmlkXSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB2aXNbc3RhdGUuaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuWPr+S7peWIsOaOpeWPl+eKtuaAgVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub25UZXJtaW5hbCA9PT0gQXVndW1lbnRTdGFydCAmJiBpdGVtLm1hdGNoUG9pbnQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW46IEVuZGluZ0NoYXJhY3RlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsIG9mIG5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb24ubGVuZ3RoID09PSBpdGVtLm1hdGNoUG9pbnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdID09PSBub25UZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogaXRlbS5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBpdGVtLmRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogaXRlbS5tYXRjaFBvaW50KzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZighbWF0Y2hJdGVtcy5sZW5ndGgpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyhtYXRjaEl0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsIG9mIHRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb24ubGVuZ3RoID09PSBpdGVtLm1hdGNoUG9pbnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdID09PSB0ZXJtaW5hbFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogaXRlbS5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBpdGVtLmRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogaXRlbS5tYXRjaFBvaW50KzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZighbWF0Y2hJdGVtcy5sZW5ndGgpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyhtYXRjaEl0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcHJlZGljdElucHV0KGlucHV0OiBzdHJpbmcscHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSk6IExSUHJlZGljdFJlc3VsdFRhYmxlIHtcclxuICAgICAgICBpZighdGhpcy5sZXhlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbZ2VuZXJhdGVQcmVkaWN0VGFibGVdIG11c3QgY2FsbCBnZW5lcmF0ZVN0YXRlIGJlZm9yZSBnZW5lcmF0ZVByZWRpY3RUYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFuczogTFJQcmVkaWN0UmVzdWx0VGFibGUgPSBbXTtcclxuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBhbnMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YWNrOiBbMF0sXHJcbiAgICAgICAgICAgIHN5bWJvbHM6IFtdLFxyXG4gICAgICAgICAgICBpbnB1dDogWy4uLnRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGlucHV0KSxFbmRpbmdDaGFyYWN0ZXJdLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gYW5zW2Fucy5sZW5ndGgtMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0ZXApKSBhcyBMUlByZWRpY3RMaW5lO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZUlkID0gc3RlcC5zdGFja1tzdGVwLnN0YWNrLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcHJlZGljdExpbmUgPSBwcmVkaWN0VGFibGVbc3RhdGVJZF07XHJcbiAgICAgICAgICAgIGxldCBlbXB0eUNoYXJhY3RlckZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IG1vdmUgPSBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KHN0ZXAuaW5wdXRbMF0pITtcclxuICAgICAgICAgICAgaWYobW92ZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1vdmUgY29sbGlzaW9uICR7bW92ZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighbW92ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmKHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoRW1wdHlDaGFyYWN0ZXIpPy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlID0gcHJlZGljdExpbmUuYWN0aW9uLmdldChFbXB0eUNoYXJhY3RlcikhO1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5Q2hhcmFjdGVyRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbW92ZSBpcyBlbXB0eSAke21vdmV9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNNb3ZlID0gbW92ZVswXSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIGlmKGNNb3ZlID09PSBcImFjY1wiKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBcIuaOpeWPl1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY01vdmUuc3RhcnRzV2l0aChcIlNcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNoaWZ0XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg56e75YWlJHtzdGVwLmlucHV0WzBdfWA7XHJcbiAgICAgICAgICAgICAgICBpZihlbXB0eUNoYXJhY3RlckZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3ltYm9scy5wdXNoKG5leHQuaW5wdXQuc2hpZnQoKSEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wdXNoKE51bWJlcihjTW92ZS5zbGljZSgxKSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg5qC55o2uJHtjTW92ZX3lvZLnuqZgO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbW1lciA9IGNNb3ZlLnNsaWNlKDIsLTEpLnJlcGxhY2VBbGwoL1xccy9nLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBncmFtbWVyLnNwbGl0KFwiPT5cIilbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gdGhpcy5sZXhlci5zcGxpdERlcml2YXRpb24oZ3JhbW1lci5zcGxpdChcIj0+XCIpWzFdKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RhdGVJZCA9IHN0ZXAuc3RhY2tbbmV4dC5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpQcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtsZWZ0U3RhdGVJZF07XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN0YWNrLnB1c2goalByZWRpY3RMaW5lLmdvdG8uZ2V0KG5vblRlcm1pbmFsKSFbMF0gYXMgdW5rbm93biBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFucy5wdXNoKG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5zO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVMUjBQcmVkaWN0VGFibGUoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuaW5pdGlhbFN0YXRlTm9kZSB8fCAhdGhpcy5hbGxTdGF0ZU5vZGVzTWFwIHx8ICF0aGlzLmxleGVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltnZW5lcmF0ZVByZWRpY3RUYWJsZV0gbXVzdCBjYWxsIGdlbmVyYXRlU3RhdGUgYmVmb3JlIGdlbmVyYXRlUHJlZGljdFRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlID0gW107XHJcbiAgICAgICAgZm9yKGxldCBzdGF0ZU5vZGUgb2YgdGhpcy5hbGxTdGF0ZU5vZGVzTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmVkaWN0TGluZTogTFJQcmVkaWN0VGFibGVMaW5lID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHN0YXRlTm9kZS5pZCxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICAgICAgZ290bzogbmV3IE1hcCgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZvcihsZXQgbm9uVGVybWluYWwgIG9mIHRoaXMubGV4ZXIubm9uVGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLnNldChub25UZXJtaW5hbCxbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCAgb2YgdGhpcy5sZXhlci50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQodGVybWluYWxbMF0sW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQoRW5kaW5nQ2hhcmFjdGVyLFtdKTtcclxuICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIHN0YXRlTm9kZS5lZGdlcykge1xyXG4gICAgICAgICAgICAgICAgaWYoZWRnZS50b2NrZW4gPT09IEVuZGluZ0NoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKFwiYWNjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sZXhlci5pc1Rlcm1pbmFsKGVkZ2UudG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGBTJHtlZGdlLm5leHQuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmdvdG8uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChlZGdlLm5leHQuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZU5vZGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0ubWF0Y2hQb2ludCA9PT0gaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCkgeyAvLyByZWR1Y2VcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsIG9mIHRoaXMubGV4ZXIudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQodGVybWluYWxbMF0pIS5wdXNoKGByKCR7aXRlbS5ub25UZXJtaW5hbH0gPT4gJHtpdGVtLmRlcml2YXRpb24uam9pbihcIiBcIil9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0VGFibGUucHVzaChwcmVkaWN0TGluZSk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgICAgIHByZWRpY3RUYWJsZS5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgICAgIHJldHVybiBhLmlkIC0gYi5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHJlZGljdFRhYmxlO1xyXG4gICAgfVxyXG4gICAgLy8gKmdlbmVyYXRlTFIwUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUoKTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxQcmVkaWN0VGFibGU+PiB7XHJcbiAgICAvLyAgICAgaWYoIXRoaXMuaW5pdGlhbFN0YXRlTm9kZSB8fCAhdGhpcy5hbGxTdGF0ZU5vZGVzTWFwIHx8ICF0aGlzLmxleGVyKSB7XHJcbiAgICAvLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltnZW5lcmF0ZVByZWRpY3RUYWJsZV0gbXVzdCBjYWxsIGdlbmVyYXRlU3RhdGUgYmVmb3JlIGdlbmVyYXRlUHJlZGljdFRhYmxlXCIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICB5aWVsZCBbXHJcbiAgICAvLyAgICAgICAgIFwiMS4g5a+5IEZpcnN0KHUpIOS4reeahOaJgOaciee7iOe7k+espiBhIO+8iOS4jeWQqyDOtSDvvInvvIznva4gTVtBLCBhXSA9IEEgLT4gdVwiLFxyXG4gICAgLy8gICAgICAgICBcIjIuIOiLpSBGaXJzdCh1KSDlkKsgzrUg77yM5YiZ5a+5IEZvbGxvdyhBKSDkuK3nmoTmiYDmnInnrKblj7cgYSDvvIjlj6/lkKsgJCDvvInvvIznva4gTVtBLCBhXSA9IEEgLT4gdVwiXHJcbiAgICAvLyAgICAgXVxyXG4gICAgLy8gICAgIGNvbnN0IHByZWRpY3RUYWJsZTogTFJQcmVkaWN0VGFibGUgPSBbXTtcclxuICAgIC8vICAgICBmb3IobGV0IHN0YXRlTm9kZSBvZiB0aGlzLmFsbFN0YXRlTm9kZXNNYXAudmFsdWVzKCkpIHtcclxuICAgIC8vICAgICAgICAgbGV0IHByZWRpY3RMaW5lOiBMUlByZWRpY3RUYWJsZUxpbmUgPSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZDogc3RhdGVOb2RlLmlkLFxyXG4gICAgLy8gICAgICAgICAgICAgYWN0aW9uOiBuZXcgTWFwKCksXHJcbiAgICAvLyAgICAgICAgICAgICBnb3RvOiBuZXcgTWFwKClcclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCAgb2YgdGhpcy5sZXhlci5ub25UZXJtaW5hbHMpIHtcclxuICAgIC8vICAgICAgICAgICAgIHByZWRpY3RMaW5lLmdvdG8uc2V0KG5vblRlcm1pbmFsLFtdKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBmb3IobGV0IHRlcm1pbmFsICBvZiB0aGlzLmxleGVyLnRlcm1pbmFscykge1xyXG4gICAgLy8gICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldCh0ZXJtaW5hbFswXSxbXSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldChFbmRpbmdDaGFyYWN0ZXIsW10pO1xyXG4gICAgLy8gICAgICAgICBmb3IobGV0IGVkZ2Ugb2Ygc3RhdGVOb2RlLmVkZ2VzKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZihlZGdlLnRvY2tlbiA9PT0gRW5kaW5nQ2hhcmFjdGVyKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goXCJhY2NcIik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBpZih0aGlzLmxleGVyLmlzVGVybWluYWwoZWRnZS50b2NrZW4pKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goYFMke2VkZ2UubmV4dC5pZH1gKTtcclxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGVkZ2UubmV4dC5pZCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlTm9kZS5pdGVtcykge1xyXG4gICAgLy8gICAgICAgICAgICAgaWYoaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7IC8vIHJlZHVjZVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgdGhpcy5sZXhlci50ZXJtaW5hbHMpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0ZXJtaW5hbFswXSkhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSA9PiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHByZWRpY3RMaW5lKTtcclxuICAgIC8vICAgICB9ICAgXHJcbiAgICAvLyAgICAgcHJlZGljdFRhYmxlLnNvcnQoKGEsYik9PntcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbiAgICAvLyB9XHJcbiAgICBnZW5lcmF0ZVNMUjFQcmVkaWN0VGFibGUoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuaW5pdGlhbFN0YXRlTm9kZSB8fCAhdGhpcy5hbGxTdGF0ZU5vZGVzTWFwIHx8ICF0aGlzLmxleGVyIHx8ICF0aGlzLmdyYW1tZXJzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltnZW5lcmF0ZVByZWRpY3RUYWJsZV0gbXVzdCBjYWxsIGdlbmVyYXRlU3RhdGUgYmVmb3JlIGdlbmVyYXRlUHJlZGljdFRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb2xsb3dTZXQgPSBnZW5lcmF0ZUZsbG93U2V0KHRoaXMubGV4ZXIsdGhpcy5ncmFtbWVycyk7XHJcbiAgICAgICAgY29uc3QgcHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgc3RhdGVOb2RlIG9mIHRoaXMuYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBzdGF0ZU5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgICAgIGdvdG86IG5ldyBNYXAoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsICBvZiB0aGlzLmxleGVyLm5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5zZXQobm9uVGVybWluYWwsW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgIG9mIHRoaXMubGV4ZXIudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KHRlcm1pbmFsWzBdLFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KEVuZGluZ0NoYXJhY3RlcixbXSk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBzdGF0ZU5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGVkZ2UudG9ja2VuID09PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChcImFjY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubGV4ZXIuaXNUZXJtaW5hbChlZGdlLnRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChgUyR7ZWRnZS5uZXh0LmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLmdldChlZGdlLnRvY2tlbikhLnB1c2goZWRnZS5uZXh0LmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGVOb2RlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLm1hdGNoUG9pbnQgPT09IGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgpIHsgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGxvd0NoOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgc2V0TGluZSBvZiBmb2xsb3dTZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0TGluZS50b2NrZW4gPT09IGl0ZW0ubm9uVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd0NoID0gWy4uLnNldExpbmUudGVybWluYWxzLnZhbHVlcygpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgZm9sbG93Q2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0ZXJtaW5hbFswXSkhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSA9PiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHByZWRpY3RMaW5lKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcHJlZGljdFRhYmxlLnNvcnQoKGEsYik9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RhdGVHcmFwaCgpOiBMUlN0YXRlTm9kZUZvclNob3cge1xyXG4gICAgICAgIGNvbnN0IHZpczogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBkZnMgPSAobm9kZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHZpc1tub2RlLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc1tub2RlLmlkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgdmlzW25vZGUuaWRdID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgbmV3Tm9kZS5pZCA9IG5vZGUuaWQ7XHJcbiAgICAgICAgICAgIG5ld05vZGUuaXRlbXMgPSBub2RlLml0ZW1zLm1hcCgoaXRlbTogYW55KT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlSXRlbVRvU3RyaW5nKGl0ZW0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBuZXdOb2RlLmVkZ2VzID0gW107XHJcbiAgICAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBub2RlLmVkZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvY2tlbjogZWRnZS50b2NrZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZGZzKGVkZ2UubmV4dClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ld05vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZnModGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhdGVJdGVtc1RvU3RyaW5nKGl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSk6IHN0cmluZyB7IFxyXG4gICAgaXRlbXMgID0gaXRlbXMuc29ydCgoYSxiKT0+e1xyXG4gICAgICAgIGlmKGE8Yikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfSlcclxuICAgIGxldCBhbnMgPSBcIlwiO1xyXG4gICAgZm9yKGxldCBpdGVtIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgYW5zICs9IGAgJHtzdGF0ZUl0ZW1Ub1N0cmluZyhpdGVtKX1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFucztcclxufVxyXG5mdW5jdGlvbiBzdGF0ZUl0ZW1Ub1N0cmluZyhpdGVtOiBMUlN0YXRlTm9kZUl0ZW0pOiBzdHJpbmcgeyBcclxuICAgIGxldCBhbnMgPSBgJHtpdGVtLm5vblRlcm1pbmFsfSA9PiBgO1xyXG4gICAgZm9yKGxldCBpPTA7aTxpdGVtLmRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgIGlmKGk9PT1pdGVtLm1hdGNoUG9pbnQpIHtcclxuICAgICAgICAgICAgaWYoIWkpYW5zICs9IFwiIFwiO1xyXG4gICAgICAgICAgICBhbnMgKz0gXCLCtyBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaT09PWl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGFucyArPSBgJHtpdGVtLmRlcml2YXRpb25baV19YDtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGFucyArPSBgJHtpdGVtLmRlcml2YXRpb25baV19IGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFucztcclxufVxyXG5cclxuZnVuY3Rpb24gZXhwYW5kU3RhdGVJdGVtcyhpdGVtczogTFJTdGF0ZU5vZGVJdGVtW10sbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXA6IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4sbGV4ZXI6IExleGVyKSB7XHJcbiAgICBmb3IobGV0IGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgY29uc3QgdG9ja2VuID0gaXRlbS5kZXJpdmF0aW9uW2l0ZW0ubWF0Y2hQb2ludF07XHJcbiAgICAgICAgaWYobGV4ZXIuaXNUZXJtaW5hbCh0b2NrZW4pKWNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuZ2V0KHRvY2tlbik7XHJcbiAgICAgICAgZGVyaXZhdGlvbnM/LmZvckVhY2goZGVyaXZhdGlvbj0+e1xyXG4gICAgICAgICAgICBsZXQgaW5GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvcihsZXQgakl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGpJdGVtLm5vblRlcm1pbmFsID09PSB0b2NrZW4gJiYgakl0ZW0ubWF0Y2hQb2ludCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGpJdGVtLmRlcml2YXRpb24ubGVuZ3RoICE9PSBkZXJpdmF0aW9uLmxlbmd0aCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGpJdGVtLmRlcml2YXRpb25baV0gIT09IGRlcml2YXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihlcXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbkZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaW5GbGFnKXJldHVybiA7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IHRvY2tlbixcclxuICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBnZW5lcmF0ZUZpcnN0U2V0LCB7IGdldERlcml2YXRpb25GaXJzdFNldCB9IGZyb20gXCJAL2ZpcnN0U2V0XCI7XHJcbmltcG9ydCBnZW5lcmF0ZUZsbG93U2V0IGZyb20gXCJAL2ZvbGxvd1NldFwiO1xyXG5pbXBvcnQgTGV4ZXIgZnJvbSBcIkAvbGV4ZXJcIjtcclxuaW1wb3J0IHsgZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyB9IGZyb20gXCJAL3NpbXBsZUdyYW1tZXJIZWxwZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lcnMsIExSUHJlZGljdExpbmUsIExSUHJlZGljdFJlc3VsdFRhYmxlLCBMUlByZWRpY3RUYWJsZUxpbmUsIExSUHJlZGljdFRhYmxlLCBMUlN0YXRlTm9kZSwgTFJTdGF0ZU5vZGVGb3JTaG93LCBMUlN0YXRlTm9kZUl0ZW0sIFByZWRpY3RUYWJsZSwgUHJvY2VzcywgUnVsZSwgTm9uVGVybWluYWwsIEdyYW1tZXJTZXRMaW5lLCBHcmFtbWVyU2V0LCBQcmVkaWN0TGluZSB9IGZyb20gXCJAL3R5cGVzL3R5cGVcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIsIEVuZGluZ0NoYXJhY3RlciB9IGZyb20gXCJAL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIkAvdXRpbHMvbG9nXCI7XHJcbmNvbnN0IEF1Z3VtZW50U3RhcnQgPSBcIkF1Z3VtZW50X1NcIjtcclxuZXhwb3J0IGNsYXNzIExSMVBhcnNlciAge1xyXG4gICAgaW5pdGlhbFN0YXRlTm9kZTogTFJTdGF0ZU5vZGUgfCBudWxsO1xyXG4gICAgYWxsU3RhdGVOb2Rlc01hcD86IE1hcDxzdHJpbmcsTFJTdGF0ZU5vZGU+O1xyXG4gICAgbGV4ZXI/OiBMZXhlcjtcclxuICAgIGdyYW1tZXJzPzogc3RyaW5nW107XHJcbiAgICBmaXJzdFNldD86IEdyYW1tZXJTZXQ7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZU5vZGUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVTdGF0ZShncmFtbWVyczogc3RyaW5nW10sIHBhcnNlU3RhcnROb25UZXJtaW5hbDogc3RyaW5nLG5vblRlcm1pbmFscz86IEFycmF5PHN0cmluZz4sIHRlcm1pbmFscz86IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+KSB7XHJcbiAgICAgICAgaWYgKCFub25UZXJtaW5hbHMgfHwgIXRlcm1pbmFscykge1xyXG4gICAgICAgICAgICBjb25zdCB0b2NrZW5BbmFSZXMgPSBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGdyYW1tZXJzKTtcclxuICAgICAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICAgICAgdGVybWluYWxzID0gdG9ja2VuQW5hUmVzLnRlcm1pbmFscztcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nLmxvZyhcIltub25UZXJtaW5hbHNdXCIsIG5vblRlcm1pbmFscyk7XHJcbiAgICAgICAgbG9nLmxvZyhcIlt0ZXJtaW5hbHNdXCIsIHRlcm1pbmFscyk7XHJcbiAgICAgICAgdGhpcy5ncmFtbWVycyA9IGdyYW1tZXJzO1xyXG4gICAgICAgIHRoaXMubGV4ZXIgPSBuZXcgTGV4ZXIodGVybWluYWxzLCBub25UZXJtaW5hbHMpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RTZXQgPSBnZW5lcmF0ZUZpcnN0U2V0KHRoaXMubGV4ZXIsZ3JhbW1lcnMpO1xyXG5cclxuICAgICAgICBjb25zdCBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLHN0cmluZ1tdW10+KCk7XHJcbiAgICAgICAgZm9yIChsZXQgZ3JhbW1lciBvZiBncmFtbWVycykge1xyXG4gICAgICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXIuc3BsaXQoLyg9Pil8KC0+KS8pLmZpbHRlcih2ID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGFyclsxXS5zcGxpdChcInxcIikuZmlsdGVyKHYgPT4gdikubWFwKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGV4ZXIhLnNwbGl0RGVyaXZhdGlvbihkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLnNldChub25UZXJtaW5hbCwgZGVyaXZhdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2cubG9nKG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVOb2RlID0ge1xyXG4gICAgICAgICAgICBpZDogMCxcclxuICAgICAgICAgICAgaXRlbXM6IFt7XHJcbiAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogQXVndW1lbnRTdGFydCxcclxuICAgICAgICAgICAgICAgIGRlcml2YXRpb246IFtwYXJzZVN0YXJ0Tm9uVGVybWluYWxdLFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogMCxcclxuICAgICAgICAgICAgICAgIGxvb2tBaGVhZFRvY2tlbjogW0VuZGluZ0NoYXJhY3Rlcl0sXHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cGFuZFN0YXRlSXRlbXModGhpcy5pbml0aWFsU3RhdGVOb2RlLml0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIsdGhpcy5maXJzdFNldCk7XHJcbiAgICAgICAgY29uc3QgYWxsU3RhdGVOb2Rlc01hcCA9IG5ldyBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPigpO1xyXG4gICAgICAgIHRoaXMuYWxsU3RhdGVOb2Rlc01hcCA9IGFsbFN0YXRlTm9kZXNNYXA7XHJcbiAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoc3RhdGVJdGVtc1RvU3RyaW5nKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyksdGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgICAgICBjb25zdCB2aXM6IGJvb2xlYW5bXSA9IFtdO1xyXG4gICAgICAgIGxldCBwcmVTaXplID0gMDtcclxuICAgICAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmKGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSA9PSBwcmVTaXplKWJyZWFrO1xyXG4gICAgICAgICAgICBwcmVTaXplID0gYWxsU3RhdGVOb2Rlc01hcC5zaXplO1xyXG4gICAgICAgICAgICBmb3IobGV0IHN0YXRlIG9mIGFsbFN0YXRlTm9kZXNNYXAudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmKHZpc1tzdGF0ZS5pZF0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgdmlzW3N0YXRlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKblj6/ku6XliLDmjqXlj5fnirbmgIFcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ubm9uVGVybWluYWwgPT09IEF1Z3VtZW50U3RhcnQgJiYgaXRlbS5tYXRjaFBvaW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBFbmRpbmdDaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCBvZiBub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gbm9uVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb2tBaGVhZFRvY2tlbjogaXRlbS5sb29rQWhlYWRUb2NrZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZighbWF0Y2hJdGVtcy5sZW5ndGgpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyhtYXRjaEl0ZW1zLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLHRoaXMubGV4ZXIsdGhpcy5maXJzdFNldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gc3RhdGVJdGVtc1RvU3RyaW5nKG1hdGNoSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFhbGxTdGF0ZU5vZGVzTWFwLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlTm9kZXNNYXAuc2V0KGtleSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYWxsU3RhdGVOb2Rlc01hcC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IG1hdGNoSXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW46IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBhbGxTdGF0ZU5vZGVzTWFwLmdldChrZXkpISxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgdGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoSXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggPT09IGl0ZW0ubWF0Y2hQb2ludCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uW2l0ZW0ubWF0Y2hQb2ludF0gPT09IHRlcm1pbmFsWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBpdGVtLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb246IGl0ZW0uZGVyaXZhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiBpdGVtLm1hdGNoUG9pbnQrMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWRUb2NrZW46IGl0ZW0ubG9va0FoZWFkVG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyLHRoaXMuZmlyc3RTZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAqZ2VuZXJhdGVTdGF0ZVByb2dyZXNzaXZlKGdyYW1tZXJzOiBzdHJpbmdbXSwgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBzdHJpbmcsbm9uVGVybWluYWxzPzogQXJyYXk8c3RyaW5nPiwgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT4pOiBJdGVyYWJsZUl0ZXJhdG9yPHVuZGVmaW5lZD4ge1xyXG4gICAgICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IEF1Z3VtZW50U3RhcnQgPSBcIkF1Z3VtZW50X1NcIjtcclxuICAgICAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgICAgICBsb2cubG9nKFwiW3Rlcm1pbmFsc11cIiwgdGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLmdyYW1tZXJzID0gZ3JhbW1lcnM7XHJcbiAgICAgICAgdGhpcy5sZXhlciA9IG5ldyBMZXhlcih0ZXJtaW5hbHMsIG5vblRlcm1pbmFscyk7XHJcbiAgICAgICAgaWYoIXRoaXMuZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5maXJzdFNldCA9IGdlbmVyYXRlRmlyc3RTZXQodGhpcy5sZXhlcixncmFtbWVycyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLHN0cmluZ1tdW10+KCk7XHJcbiAgICAgICAgZm9yIChsZXQgZ3JhbW1lciBvZiBncmFtbWVycykge1xyXG4gICAgICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXIuc3BsaXQoLyg9Pil8KC0+KS8pLmZpbHRlcih2ID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGFyclsxXS5zcGxpdChcInxcIikuZmlsdGVyKHYgPT4gdikubWFwKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGV4ZXIhLnNwbGl0RGVyaXZhdGlvbihkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLnNldChub25UZXJtaW5hbCwgZGVyaXZhdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2cubG9nKG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVOb2RlID0ge1xyXG4gICAgICAgICAgICBpZDogMCxcclxuICAgICAgICAgICAgaXRlbXM6IFt7XHJcbiAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogQXVndW1lbnRTdGFydCxcclxuICAgICAgICAgICAgICAgIGRlcml2YXRpb246IFtwYXJzZVN0YXJ0Tm9uVGVybWluYWxdLFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogMCxcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICB9XHJcbiAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUuaXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcix0aGlzLmZpcnN0U2V0ISk7XHJcbiAgICAgICAgeWllbGQ7XHJcbiAgICAgICAgY29uc3QgYWxsU3RhdGVOb2Rlc01hcCA9IG5ldyBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPigpO1xyXG4gICAgICAgIHRoaXMuYWxsU3RhdGVOb2Rlc01hcCA9IGFsbFN0YXRlTm9kZXNNYXA7XHJcbiAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoc3RhdGVJdGVtc1RvU3RyaW5nKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyksdGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgICAgICBjb25zdCB2aXM6IGJvb2xlYW5bXSA9IFtdO1xyXG4gICAgICAgIGxldCBwcmVTaXplID0gMDtcclxuICAgICAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmKGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSA9PSBwcmVTaXplKWJyZWFrO1xyXG4gICAgICAgICAgICBwcmVTaXplID0gYWxsU3RhdGVOb2Rlc01hcC5zaXplO1xyXG4gICAgICAgICAgICBmb3IobGV0IHN0YXRlIG9mIGFsbFN0YXRlTm9kZXNNYXAudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmKHZpc1tzdGF0ZS5pZF0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgdmlzW3N0YXRlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKblj6/ku6XliLDmjqXlj5fnirbmgIFcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ubm9uVGVybWluYWwgPT09IEF1Z3VtZW50U3RhcnQgJiYgaXRlbS5tYXRjaFBvaW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBFbmRpbmdDaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCBvZiBub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gbm9uVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyLHRoaXMuZmlyc3RTZXQhKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobWF0Y2hJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFsbFN0YXRlTm9kZXNNYXAuaGFzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoa2V5LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhbGxTdGF0ZU5vZGVzTWFwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbWF0Y2hJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogbm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFsbFN0YXRlTm9kZXNNYXAuZ2V0KGtleSkhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCBvZiB0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gdGVybWluYWxbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyLHRoaXMuZmlyc3RTZXQhKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobWF0Y2hJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFsbFN0YXRlTm9kZXNNYXAuaGFzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoa2V5LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhbGxTdGF0ZU5vZGVzTWFwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbWF0Y2hJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFsbFN0YXRlTm9kZXNNYXAuZ2V0KGtleSkhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBwcmVkaWN0SW5wdXQoaW5wdXQ6IHN0cmluZyxwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlKTogTFJQcmVkaWN0UmVzdWx0VGFibGUge1xyXG4gICAgICAgIGlmKCF0aGlzLmxleGVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltnZW5lcmF0ZVByZWRpY3RUYWJsZV0gbXVzdCBjYWxsIGdlbmVyYXRlU3RhdGUgYmVmb3JlIGdlbmVyYXRlUHJlZGljdFRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYW5zOiBMUlByZWRpY3RSZXN1bHRUYWJsZSA9IFtdO1xyXG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgIGFucy5wdXNoKHtcclxuICAgICAgICAgICAgc3RhY2s6IFswXSxcclxuICAgICAgICAgICAgc3ltYm9sczogW10sXHJcbiAgICAgICAgICAgIGlucHV0OiBbLi4udGhpcy5sZXhlci5zcGxpdERlcml2YXRpb24oaW5wdXQpLEVuZGluZ0NoYXJhY3Rlcl0sXHJcbiAgICAgICAgfSlcclxuICAgICAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBhbnNbYW5zLmxlbmd0aC0xXTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RlcCkpIGFzIExSUHJlZGljdExpbmU7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlSWQgPSBzdGVwLnN0YWNrW3N0ZXAuc3RhY2subGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSB8IHVuZGVmaW5lZCA9IGdldEl0ZW1CeUlkRnJvbUFycihwcmVkaWN0VGFibGUsc3RhdGVJZCk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgbGluZSBvZiBwcmVkaWN0VGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmKGxpbmUuaWQgPT09IHN0YXRlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZSA9IGxpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIXByZWRpY3RMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0XSBzdGF0ZUlkOiAke3N0YXRlSWR9IOeahOmihOa1i+ihjOaJvuS4jeWIsGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBlbXB0eUNoYXJhY3RlckZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IG1vdmU6IGFueVtdID0gW107XHJcbiAgICAgICAgICAgIG1vdmUgPSBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KHN0ZXAuaW5wdXRbMF0pITtcclxuICAgICAgICAgICAgaWYobW92ZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1vdmUgY29sbGlzaW9uICR7bW92ZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighbW92ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmKHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoRW1wdHlDaGFyYWN0ZXIpPy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlID0gcHJlZGljdExpbmUuYWN0aW9uLmdldChFbXB0eUNoYXJhY3RlcikhO1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5Q2hhcmFjdGVyRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbW92ZSBpcyBlbXB0eSAke21vdmV9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNNb3ZlID0gbW92ZVswXSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIGlmKGNNb3ZlID09PSBcImFjY1wiKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBcIuaOpeWPl1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY01vdmUuc3RhcnRzV2l0aChcIlNcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNoaWZ0XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg56e75YWlJHtzdGVwLmlucHV0WzBdfWA7XHJcbiAgICAgICAgICAgICAgICBpZihlbXB0eUNoYXJhY3RlckZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3ltYm9scy5wdXNoKG5leHQuaW5wdXQuc2hpZnQoKSEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wdXNoKE51bWJlcihjTW92ZS5zbGljZSgxKSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg5qC55o2uJHtjTW92ZX3lvZLnuqZgO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbW1lciA9IGNNb3ZlLnNsaWNlKDIsLTEpLnJlcGxhY2VBbGwoL1xccy9nLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBncmFtbWVyLnNwbGl0KFwiPT5cIilbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gdGhpcy5sZXhlci5zcGxpdERlcml2YXRpb24oZ3JhbW1lci5zcGxpdChcIj0+XCIpWzFdKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RhdGVJZCA9IHN0ZXAuc3RhY2tbbmV4dC5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpQcmVkaWN0TGluZSA9IGdldEl0ZW1CeUlkRnJvbUFycihwcmVkaWN0VGFibGUsbGVmdFN0YXRlSWQpOztcclxuICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucHVzaChqUHJlZGljdExpbmUuZ290by5nZXQobm9uVGVybWluYWwpIVswXSBhcyB1bmtub3duIGFzIG51bWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYW5zLnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbnM7XHJcbiAgICB9XHJcbiAgICBtZXJnZU5ld05vZGUobm9kZTogTFJTdGF0ZU5vZGUsYWRkTm9kZTogTFJTdGF0ZU5vZGUpIHtcclxuICAgICAgICBub2RlLmlkID0gTnVtYmVyKGAke25vZGUuaWR9JHthZGROb2RlLmlkfWApO1xyXG4gICAgICAgIGlmKG5vZGUuaXRlbXMubGVuZ3RoICE9PSBhZGROb2RlLml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbWVyZ2VOZXdOb2RlXSDlkIjlubbmoLjlv4PoioLngrnlh7rplJlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8bm9kZS5pdGVtcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBub2RlLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRJdGVtID0gYWRkTm9kZS5pdGVtc1tpXTtcclxuICAgICAgICAgICAgZm9yKGxldCBjaGEgb2YgYWRkSXRlbS5sb29rQWhlYWRUb2NrZW4hKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLmxvb2tBaGVhZFRvY2tlbj8uaW5kZXhPZihjaGEpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubG9va0FoZWFkVG9ja2VuLnB1c2goY2hhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBub2RlLmFjYyA9IG5vZGUuYWNjIHx8IGFkZE5vZGUuYWNjO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVMQUxSUHJlZGljdFRhYmxlKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmluaXRpYWxTdGF0ZU5vZGUgfHwgIXRoaXMuYWxsU3RhdGVOb2Rlc01hcCB8fCAhdGhpcy5sZXhlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbZ2VuZXJhdGVQcmVkaWN0VGFibGVdIG11c3QgY2FsbCBnZW5lcmF0ZVN0YXRlIGJlZm9yZSBnZW5lcmF0ZVByZWRpY3RUYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5ZCI5bm26aG56ZuGXHJcbiAgICAgICAgY29uc3QgbWVyZ2VNYXAgPSBuZXcgTWFwPHN0cmluZyxMUlN0YXRlTm9kZT4oKTtcclxuICAgICAgICBjb25zdCBqb2luTWFwRGZzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2aXMgPSBuZXcgTWFwPG51bWJlcixib29sZWFuPigpO1xyXG4gICAgICAgICAgICBjb25zdCBkZnMgPSAobm9kZTogTFJTdGF0ZU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHZpcy5oYXMobm9kZS5pZCkpcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIHZpcy5zZXQobm9kZS5pZCx0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhub2RlLml0ZW1zLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdOb2RlOiBMUlN0YXRlTm9kZSB8IHVuZGVmaW5lZCA9IG1lcmdlTWFwLmdldChrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYoIW5ld05vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdOb2RlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbm9kZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYzogbm9kZS5hY2NcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBub2RlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUuaXRlbXMucHVzaChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld05vZGUhLmVkZ2VzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VNYXAuc2V0KGtleSxuZXdOb2RlISk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VOZXdOb2RlKG5ld05vZGUsbm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGVkZ2Ugb2Ygbm9kZS5lZGdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRmcyhlZGdlLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRmcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgam9pbk1hcERmcygpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgaWQyaWRNYXAgPSBuZXcgTWFwPG51bWJlcixudW1iZXI+KCk7XHJcbiAgICAgICAgY29uc3QgTWFwTWFwRGZzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2aXMgPSBuZXcgTWFwPG51bWJlcixib29sZWFuPigpO1xyXG4gICAgICAgICAgICBjb25zdCBkZnMgPSAobm9kZTogTFJTdGF0ZU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHZpcy5oYXMobm9kZS5pZCkpcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIHZpcy5zZXQobm9kZS5pZCx0cnVlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhub2RlLml0ZW1zLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGlkMmlkTWFwLnNldChub2RlLmlkLG1lcmdlTWFwLmdldChrZXkpIS5pZCk7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGVkZ2Ugb2Ygbm9kZS5lZGdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRmcyhlZGdlLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRmcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWFwTWFwRGZzKCk7XHJcbiAgICAgICAgY29uc3QgaTJpID0gKGlkOiBudW1iZXIpOm51bWJlciA9PiBpZDJpZE1hcC5nZXQoaWQpITtcclxuICAgICAgICBjb25zdCBwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlID0gW107XHJcbiAgICAgICAgY29uc3QgdXNlZCA9IG5ldyBNYXA8bnVtYmVyLGJvb2xlYW4+KCk7XHJcbiAgICAgICAgZm9yKGxldCBzdGF0ZU5vZGUgb2YgdGhpcy5hbGxTdGF0ZU5vZGVzTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIGlmKHVzZWQuZ2V0KGkyaShzdGF0ZU5vZGUuaWQpKSljb250aW51ZTtcclxuICAgICAgICAgICAgdXNlZC5zZXQoaTJpKHN0YXRlTm9kZS5pZCksdHJ1ZSk7XHJcbiAgICAgICAgICAgIGxldCBwcmVkaWN0TGluZTogTFJQcmVkaWN0VGFibGVMaW5lID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGkyaShzdGF0ZU5vZGUuaWQpLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgICAgICBnb3RvOiBuZXcgTWFwKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCAgb2YgdGhpcy5sZXhlci5ub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmdvdG8uc2V0KG5vblRlcm1pbmFsLFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsICBvZiB0aGlzLmxleGVyLnRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldCh0ZXJtaW5hbFswXSxbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldChFbmRpbmdDaGFyYWN0ZXIsW10pO1xyXG4gICAgICAgICAgICBmb3IobGV0IGVkZ2Ugb2Ygc3RhdGVOb2RlLmVkZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihlZGdlLnRvY2tlbiA9PT0gRW5kaW5nQ2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goXCJhY2NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxleGVyLmlzVGVybWluYWwoZWRnZS50b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goYFMke2kyaShlZGdlLm5leHQuaWQpfWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLmdldChlZGdlLnRvY2tlbikhLnB1c2goaTJpKGVkZ2UubmV4dC5pZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBpdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBzdGF0ZU5vZGUuaXRlbXM7XHJcbiAgICAgICAgICAgIGlmKGkyaShzdGF0ZU5vZGUuaWQpICE9PSBzdGF0ZU5vZGUuaWQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gbWVyZ2VNYXAuZ2V0KHN0YXRlSXRlbXNUb1N0cmluZyhzdGF0ZU5vZGUuaXRlbXMsZmFsc2UpKSEuaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLm1hdGNoUG9pbnQgPT09IGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgpIHsgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub25UZXJtaW5hbCA9PT0gQXVndW1lbnRTdGFydCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHRvY2tlbiBvZiBpdGVtLmxvb2tBaGVhZFRvY2tlbiEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0b2NrZW4pIS5wdXNoKGByKCR7aXRlbS5ub25UZXJtaW5hbH0gPT4gJHtpdGVtLmRlcml2YXRpb24uam9pbihcIiBcIil9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0VGFibGUucHVzaChwcmVkaWN0TGluZSk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgICAgIHByZWRpY3RUYWJsZS5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgICAgIHJldHVybiBhLmlkIC0gYi5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHJlZGljdFRhYmxlO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVMUjFQcmVkaWN0VGFibGUoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuaW5pdGlhbFN0YXRlTm9kZSB8fCAhdGhpcy5hbGxTdGF0ZU5vZGVzTWFwIHx8ICF0aGlzLmxleGVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltnZW5lcmF0ZVByZWRpY3RUYWJsZV0gbXVzdCBjYWxsIGdlbmVyYXRlU3RhdGUgYmVmb3JlIGdlbmVyYXRlUHJlZGljdFRhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlID0gW107XHJcbiAgICAgICAgZm9yKGxldCBzdGF0ZU5vZGUgb2YgdGhpcy5hbGxTdGF0ZU5vZGVzTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmVkaWN0TGluZTogTFJQcmVkaWN0VGFibGVMaW5lID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHN0YXRlTm9kZS5pZCxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICAgICAgZ290bzogbmV3IE1hcCgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZvcihsZXQgbm9uVGVybWluYWwgIG9mIHRoaXMubGV4ZXIubm9uVGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLnNldChub25UZXJtaW5hbCxbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCAgb2YgdGhpcy5sZXhlci50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQodGVybWluYWxbMF0sW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQoRW5kaW5nQ2hhcmFjdGVyLFtdKTtcclxuICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIHN0YXRlTm9kZS5lZGdlcykge1xyXG4gICAgICAgICAgICAgICAgaWYoZWRnZS50b2NrZW4gPT09IEVuZGluZ0NoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKFwiYWNjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sZXhlci5pc1Rlcm1pbmFsKGVkZ2UudG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGBTJHtlZGdlLm5leHQuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmdvdG8uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChlZGdlLm5leHQuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZU5vZGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0ubWF0Y2hQb2ludCA9PT0gaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCkgeyAvLyByZWR1Y2VcclxuICAgICAgICAgICAgICAgICAgICBpZihpdGVtLm5vblRlcm1pbmFsID09PSBBdWd1bWVudFN0YXJ0KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdG9ja2VuIG9mIGl0ZW0ubG9va0FoZWFkVG9ja2VuISkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KHRvY2tlbikhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSA9PiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHByZWRpY3RMaW5lKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcHJlZGljdFRhYmxlLnNvcnQoKGEsYik9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RhdGVHcmFwaCgpOiBMUlN0YXRlTm9kZUZvclNob3cge1xyXG4gICAgICAgIGNvbnN0IHZpczogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBkZnMgPSAobm9kZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHZpc1tub2RlLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc1tub2RlLmlkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgdmlzW25vZGUuaWRdID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgbmV3Tm9kZS5pZCA9IG5vZGUuaWQ7XHJcbiAgICAgICAgICAgIG5ld05vZGUuaXRlbXMgPSBub2RlLml0ZW1zLm1hcCgoaXRlbTogYW55KT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlSXRlbVRvU3RyaW5nKGl0ZW0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBuZXdOb2RlLmVkZ2VzID0gW107XHJcbiAgICAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBub2RlLmVkZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvY2tlbjogZWRnZS50b2NrZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZGZzKGVkZ2UubmV4dClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ld05vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZnModGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhdGVJdGVtc1RvU3RyaW5nKGl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSxuZWVkTG9va0FoZWFkOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7IFxyXG4gICAgaXRlbXMgPSBpdGVtcy5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgaWYoYTxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9KVxyXG4gICAgbGV0IGFucyA9IFwiXCI7XHJcbiAgICBmb3IobGV0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICBhbnMgKz0gYCAke3N0YXRlSXRlbVRvU3RyaW5nKGl0ZW0sbmVlZExvb2tBaGVhZCl9YDtcclxuICAgIH1cclxuICAgIHJldHVybiBhbnM7XHJcbn1cclxuZnVuY3Rpb24gc3RhdGVJdGVtVG9TdHJpbmcoaXRlbTogTFJTdGF0ZU5vZGVJdGVtLG5lZWRMb29rQWhlYWQ6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHsgXHJcbiAgICBsZXQgYW5zID0gYCR7aXRlbS5ub25UZXJtaW5hbH0gPT4gYDtcclxuICAgIGZvcihsZXQgaT0wO2k8aXRlbS5kZXJpdmF0aW9uLmxlbmd0aDtpKyspIHtcclxuICAgICAgICBpZihpPT09aXRlbS5tYXRjaFBvaW50KSB7XHJcbiAgICAgICAgICAgIGlmKCFpKWFucyArPSBcIiBcIjtcclxuICAgICAgICAgICAgYW5zICs9IFwiwrcgXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGk9PT1pdGVtLmRlcml2YXRpb24ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBhbnMgKz0gYCR7aXRlbS5kZXJpdmF0aW9uW2ldfWA7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBhbnMgKz0gYCR7aXRlbS5kZXJpdmF0aW9uW2ldfSBgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmKGl0ZW0ubG9va0FoZWFkVG9ja2VuPy5sZW5ndGggJiYgbmVlZExvb2tBaGVhZCkge1xyXG4gICAgICAgIGFucyArPSBcIiAsIFwiICsgaXRlbS5sb29rQWhlYWRUb2NrZW4uam9pbihcIi9cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5zO1xyXG59XHJcbmZ1bmN0aW9uIGV4cGFuZFN0YXRlSXRlbXMoaXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdLG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwOiBNYXA8c3RyaW5nLHN0cmluZ1tdW10+LGxleGVyOiBMZXhlcixmaXJzdFNldDogR3JhbW1lclNldCkge1xyXG4gICAgZm9yKGxldCBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdO1xyXG4gICAgICAgIGlmKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSljb250aW51ZTtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgIGNvbnN0IGRlcmlGb3JGaXJzdFNldCA9IGl0ZW0uZGVyaXZhdGlvbi5zbGljZShpdGVtLm1hdGNoUG9pbnQrMSk7XHJcbiAgICAgICAgY29uc3QgbG9va0FoZWFkVG9ja2VuID0gWy4uLmdldERlcml2YXRpb25GaXJzdFNldChsZXhlcixkZXJpRm9yRmlyc3RTZXQsZmlyc3RTZXQpLnRlcm1pbmFsc107XHJcbiAgICAgICAgaWYoIWxvb2tBaGVhZFRvY2tlbi5sZW5ndGggfHwgbG9va0FoZWFkVG9ja2VuLmluZGV4T2YoRW1wdHlDaGFyYWN0ZXIpIT09LTEpIHtcclxuICAgICAgICAgICAgbG9va0FoZWFkVG9ja2VuLnB1c2goLi4uaXRlbS5sb29rQWhlYWRUb2NrZW4hKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVyaXZhdGlvbnM/LmZvckVhY2goZGVyaXZhdGlvbj0+e1xyXG4gICAgICAgICAgICBsZXQgaW5GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvcihsZXQgakl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGpJdGVtLm5vblRlcm1pbmFsID09PSB0b2NrZW4gJiYgakl0ZW0ubWF0Y2hQb2ludCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGpJdGVtLmRlcml2YXRpb24ubGVuZ3RoICE9PSBkZXJpdmF0aW9uLmxlbmd0aCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXF1YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGpJdGVtLmRlcml2YXRpb25baV0gIT09IGRlcml2YXRpb25baV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihlcXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbkZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaW5GbGFnKXJldHVybiA7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IHRvY2tlbixcclxuICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgbG9va0FoZWFkVG9ja2VuLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SXRlbUJ5SWRGcm9tQXJyKGFycjogYW55W10saWQ6IGFueSk6IGFueSB7XHJcbiAgICBmb3IobGV0IGl0ZW0gb2YgYXJyKSB7XHJcbiAgICAgICAgaWYoaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbInRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzIiwibGV4ZXIiLCJncmFtbWVycyIsIm1hcCIsImdyYW1tZXIiLCJyZXBsYWNlQWxsIiwiYXJyIiwic3BsaXQiLCJmaWx0ZXIiLCJ2IiwiZGVyaXZhdGlvbnMiLCJkZXJpdmF0aW9uIiwic3BsaXREZXJpdmF0aW9uIiwibm9uVGVybWluYWwiLCJzYWZlUmVnQ2hhcmFjdGVyIiwiY2hhciIsIkVtcHR5Q2hhcmFjdGVyIiwiRW5kaW5nQ2hhcmFjdGVyIiwiTG9nTGV2ZWwiLCJOb3JtYWwiLCJsb2dMZXZlbF9pbml0IiwiRXJyb3IiLCJsb2dMZXZlbCIsImxvZ0NoYW5uZWwiLCJjb25zdHJ1Y3RvciIsImNvbnNvbGUiLCJ0aGlzIiwibG9nIiwiaW5mbyIsIndhcm4iLCJXYXJubmluZyIsImVycm9yIiwiZ2VuZXJhdGVGaXJzdFNldCIsImluR3JhbW1lcnMiLCJmaXJzdFNldCIsIkFycmF5IiwidG9ja2VuIiwidGVybWluYWxzIiwiU2V0IiwiZ3JhbW1lck1hcCIsIk1hcCIsImZvckVhY2giLCJzZXQiLCJwdXNoIiwidGVybWluYWwiLCJpc1Rlcm1pbmFsIiwic2V0TGluZSIsImdldCIsImxlbmd0aCIsImhhcyIsImFkZCIsImZpcnN0U2V0TWFwIiwiaGFzQ2hhbmdlIiwiaSIsIm5leHRTZXRMaW5lIiwic29ydCIsImEiLCJiIiwiZnJvbSIsImdldERlcml2YXRpb25GaXJzdFNldCIsImpvaW4iLCJnZXREZXJpdmF0aW9uRmlyc3RTZXRXaXRoTWFwIiwiZ2VuZXJhdGVGbGxvd1NldCIsImZvbGxvd1NldCIsImZvbGxvd1NldE1hcCIsImoiLCJwU2V0TGluZSIsIkxleGVyIiwibm9uVGVybWluYWxzIiwiY3VycmVudExpbmUiLCJjdXJyZW50Q29sdW1uIiwic291cmNlIiwic2V0U291cmNlIiwicmVtYWluU3RyaW5nIiwic2xpY2UiLCJuZXh0Iiwib3JpZ2luIiwibWF0Y2hSZXN1bHQiLCJtYXRjaCIsInBvcCIsImUiLCJuZXh0Tm90RW1wdHlUZXJtaW5hbCIsIm5leHROb3RFbXB0eSIsInN0ZXAiLCJiYWNrIiwicG9wTm90RW1wdHlUZXJtaW5hbCIsInN0ciIsInNvbWUiLCJjb3VudFRpbWUiLCJpblN0ciIsIlJlZ0V4cCIsImdldE5ld05vblRlcm1pbmFsIiwidG1wIiwiaW5kZXhPZiIsInVuc2hpZnQiLCJnZW5lcmF0b3JQcmVkaWN0VGFibGUiLCJwcmVkaWN0VGFibGUiLCJub25UZXJtaW5hbDJUYWJsZVJvd01hcCIsInRhYmxlTGluZSIsInRlcm1pbmFsMkRlcml2YXRpb24iLCJub25UZXJtaW5hbDJGaXJzdFNldE1hcCIsIm5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUiLCJkZXJpdmF0aW9uRmlyc3RTZXQiLCJoYXNTZXQiLCJjZWxsR3JhbW1lciIsImNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCIsInRhYmxlIiwidDJkIiwiTEwxUGFyc2VyIiwidGV4dEdyYW1tZXJzIiwiZ2V0Rmlyc3RTZXQiLCJnZXRGb2xsb3dTZXQiLCJnZXRQcmVkaWN0VGFibGUiLCJnZXRQcmVkaWN0UHJvY2VzcyIsImlucHV0IiwicGFyc2VTdGFydE5vblRlcm1pbmFsIiwiX2lucHV0IiwicHJlZGljdFByb2Nlc3MiLCJhc3RJZHgiLCJhc3ROb2RlIiwiaWQiLCJ0ZXh0IiwiY2hlY2siLCJhc3RTdGFjayIsImN1cnJlbnRTdGF0ZSIsInBhcnNlU3RhY2siLCJyZW1haW5pbmdJbnB1dCIsInBhcnNlQWN0aW9uIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiY2hpbGRyZW4iLCJyZXZlcnNlIiwidG9TdHJpbmciLCJwcmVkaWN0IiwiY2hlY2tJc0xMMCIsImdldEZpcnN0U2V0UHJvZ3Jlc3NpdmUiLCJydWxlSW5kZXgiLCJyZXN1bHQiLCJnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUiLCJnZXRGb2xsb3dTZXRQcm9ncmVzc2l2ZSIsImdlbmVyYXRlRmxsb3dTZXRQcm9ncmVzc2l2ZSIsImdldFByZWRpY3RQcm9jZXNzUHJvZ3Jlc3NpdmUiLCJwcmVkaWN0UHJvZ3Jlc3NpdmUiLCJnZXRQcmVkaWN0VGFibGVQcm9ncmVzc2l2ZSIsImdlbmVyYXRlUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUiLCJzaW1wbGVOb25UZXJtaW5hbFJlZyIsInNpbXBsZVRlcm1pbmFsUmVnIiwiZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyIsImpzb25EYXRhIiwiY2hlY2tOZWVkdW5pb25HcmFtbWVycyIsInVuaW9uTWFwIiwidW5pb25HcmFtbWVycyIsInRvY2tlbkFuYVJlcyIsImRlcmkiLCJrZXlzIiwiY2hlY2tOZWVkbGlmdFVwQ29tbW9uVG9ja2VuIiwiZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAiLCJsaWZ0VXBDb21tb25Ub2NrZW4iLCJuZXdBZGRHcmFtbWVycyIsInRtcFJlc3VsdCIsIm5ld0Rlcml2YXRpb24iLCJuZXdVblRlcm1pbmFsIiwibmV3UmVzdWx0IiwiY2hlY2tOZWVkQ2xlYXJSaWdodFJlY3Vyc2lvbiIsIm5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwIiwiZ0kiLCJjbGVhclJpZ2h0UmVjdXJzaW9uIiwiZ0oiLCJrIiwiamdyYW1tZXIiLCJzcGxpY2UiLCJuZWVkSGFuZGxlSW5kZXgiLCJuZXdOb25UZXJtaW5hbFRvY2tlbiIsIm5ld0dyYW1tZXJzIiwibmV3Tm9uVGVybWluYWxHcmFtbWVycyIsImluZGV4IiwiTFJQYXJzZXIiLCJpbml0aWFsU3RhdGVOb2RlIiwiYWxsU3RhdGVOb2Rlc01hcCIsImdlbmVyYXRlU3RhdGUiLCJBdWd1bWVudFN0YXJ0IiwiaXRlbXMiLCJtYXRjaFBvaW50IiwiZWRnZXMiLCJleHBhbmRTdGF0ZUl0ZW1zIiwic3RhdGVJdGVtc1RvU3RyaW5nIiwidmlzIiwicHJlU2l6ZSIsInNpemUiLCJzdGF0ZSIsInZhbHVlcyIsIml0ZW0iLCJtYXRjaEl0ZW1zIiwia2V5IiwiZ2VuZXJhdGVTdGF0ZVByb2dyZXNzaXZlIiwicHJlZGljdElucHV0IiwiYW5zIiwic3RhY2siLCJzeW1ib2xzIiwicHJlZGljdExpbmUiLCJlbXB0eUNoYXJhY3RlckZsYWciLCJtb3ZlIiwiYWN0aW9uIiwiY01vdmUiLCJzdGFydHNXaXRoIiwic2hpZnQiLCJOdW1iZXIiLCJqUHJlZGljdExpbmUiLCJnb3RvIiwiZ2VuZXJhdGVMUjBQcmVkaWN0VGFibGUiLCJzdGF0ZU5vZGUiLCJlZGdlIiwiZ2VuZXJhdGVTTFIxUHJlZGljdFRhYmxlIiwiZm9sbG93Q2giLCJzdGF0ZUdyYXBoIiwiZGZzIiwibm9kZSIsIm5ld05vZGUiLCJzdGF0ZUl0ZW1Ub1N0cmluZyIsImluRmxhZyIsImpJdGVtIiwiZXF1YWwiLCJMUjFQYXJzZXIiLCJsb29rQWhlYWRUb2NrZW4iLCJzdGF0ZUlkIiwiZ2V0SXRlbUJ5SWRGcm9tQXJyIiwibGluZSIsIm1lcmdlTmV3Tm9kZSIsImFkZE5vZGUiLCJhZGRJdGVtIiwiY2hhIiwiYWNjIiwiZ2VuZXJhdGVMQUxSUHJlZGljdFRhYmxlIiwibWVyZ2VNYXAiLCJqb2luTWFwRGZzIiwiaWQyaWRNYXAiLCJNYXBNYXBEZnMiLCJpMmkiLCJ1c2VkIiwiZ2VuZXJhdGVMUjFQcmVkaWN0VGFibGUiLCJuZWVkTG9va0FoZWFkIl0sIm1hcHBpbmdzIjoiQUFHZ0IsU0FBQUEsRUFBd0JDLEVBQWNDLEdBQ2xELE9BQU9BLEVBQVNDLEtBQUlDLEdBQ1RBLEVBQVFDLFdBQVcsTUFBTyxNQUNsQ0YsS0FBSUMsSUFDSCxNQUFNRSxFQUFNRixFQUFRRyxNQUFNLGFBQWFDLFFBQU9DLEdBQVcsT0FBTkEsR0FBb0IsT0FBTkEsR0FBY0EsSUFDekVDLEVBQWNKLEVBQUksR0FBR0MsTUFBTSxLQUFLQyxRQUFPQyxHQUFLQSxHQUFXLE1BQU5BLElBQVdOLEtBQUlRLEdBQzNEVixFQUFNVyxnQkFBZ0JELEtBRWpDLE1BQU8sQ0FDSEUsWUFBYVAsRUFBSSxHQUNqQkksWUFBYUEsRUFDaEIsR0FHVCxDQVdNLFNBQVVJLEVBQWlCQyxHQUM3QixPQUFRQSxHQUNSLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxNQUFPLEtBQUtBLElBQ2hCLFFBQ0ksT0FBT0EsRUFFZixDQ3BDTyxNQUFNQyxFQUFpQixJQUNqQkMsRUFBa0IsSUNGL0IsSUFBT0MsR0FDUCxTQUFnQkEsR0FFWEEsRUFLSkEsRUFBQSxPQUFBLEdBQUEsU0FMREEsRUFBYUEsRUFBQSxTQUFBLEdBQUEsV0FDVEEsRUFBQUEsRUFBQSxNQUFBLEdBQUEsUUFD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
