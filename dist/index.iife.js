var lucy=function(e){"use strict";function t(e,t){return t.map((e=>e.replaceAll(/\s/g,""))).map((t=>{const n=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),i=n[1].split("|").filter((e=>e&&"|"!==e)).map((t=>e.splitDerivation(t)));return{nonTerminal:n[0],derivations:i}}))}function n(e){switch(e){case"+":case"*":case"(":case")":return`\\${e}`;default:return e}}const i="ε",r="$";var o;!function(e){e[e.Normal=0]="Normal",e[e.Warnning=1]="Warnning",e[e.Error=2]="Error",e[e.None=3]="None"}(o||(o={}));let s=o.Normal;s=o.Error;var l=new class{logLevel;logChannel;constructor(e=o.Normal,t=console){this.logLevel=e,this.logChannel=t}log(...e){this.logLevel<=o.Normal&&this.logChannel.log("[normal]",...e)}warn(...e){this.logLevel<=o.Warnning&&this.logChannel.warn("[warn]",...e)}error(...e){this.logLevel<=o.Error&&this.logChannel.error("[error]",...e)}logTo(e){this.logChannel=e}}(s);function a(e,n){l.log("[generateFirstSet start]");const r=t(e,n);l.log("[grammers after transferString2Grammers]",r);const o=new Array(...r.map((e=>({tocken:e.nonTerminal,terminals:new Set})))),s=new Map;r.forEach((e=>{s.set(e.nonTerminal,e.derivations)})),o.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0})))),o.forEach((e=>{if(!e.isTerminal)for(let t of s.get(e.tocken))1!==t.length||t[0]!==i||e.terminals.has(i)||e.terminals.add(i)}));const a=new Map;for(let e of o)a.set(e.tocken,e);for(;;){let t=!1;if(o.forEach((n=>{if(!n.isTerminal)for(let r of s.get(n.tocken))for(let o=0;o<r.length;o++){const s=r[o];if(e.isTerminal(s)){if(n.terminals.has(s)||(l.log(s),t=!0,n.terminals.add(s)),s!==i)break}else{const e=a.get(s);if(e.terminals.forEach((e=>{e!==i&&(n.terminals.has(e)||(t=!0,n.terminals.add(e)))})),!e.terminals.has(i))break}o===r.length-1&&n.terminals.add(i)}})),!t)break}return o.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}function c(e,t,n){const r=new Map;n.forEach((e=>{r.set(e.tocken,e)}));const o=new Set;for(let n=0;n<t.length;n++){const s=t[n];if(e.isTerminal(s)){if(s!==i){o.add(s);break}}else if(r.get(s)?.terminals.forEach((e=>{o.add(e)})),!r.get(s).terminals.has(i))break;n===t.length-1&&o.add(i)}return{tocken:t.join(""),terminals:o}}function h(e,t,n){const r=new Set;for(let o=0;o<t.length;o++){const s=t[o];if(e.isTerminal(s)){if(s!==i){r.add(s);break}}else if(n.get(s)?.terminals.forEach((e=>{r.add(e)})),!n.get(s).terminals.has(i))break;o===t.length-1&&r.add(i)}return{tocken:t.join(""),terminals:r}}function m(e,n,o){l.log("[generateFllowSet start]"),o=o?Array.from(o):a(e,n);const s=t(e,n);l.log("[grammers after transferString2Grammers]",s);const c=new Array(...s.map((e=>({tocken:e.nonTerminal,terminals:new Set([r])})))),h=new Map;s.forEach((e=>{h.set(e.nonTerminal,e.derivations)})),c.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([r]),isTerminal:!0}))));const m=new Map;for(let e of c)m.set(e.tocken,e);o.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0}))));const f=new Map;for(let e of o)f.set(e.tocken,e);for(;;){let e=!1;if(s.forEach((t=>{for(let n of t.derivations)for(let t=n.length-2;t>=0;t--){const r=m.get(n[t]);for(let o=t+1;o<n.length;o++){const t=f.get(n[o]).terminals;for(let n of t)n!==i&&(r?.terminals.has(n)||(e=!0,r?.terminals.add(n)));if(!t.has(i))break}}})),s.forEach((t=>{const n=m.get(t.nonTerminal);for(let r of t.derivations)for(let t=r.length-1;t>=0;t--){const o=r[t],s=m.get(o);for(let t of n.terminals)t!==i&&(s?.terminals.has(t)||(e=!0,s?.terminals.add(t)));if(!f.get(o).terminals.has(i))break}})),!e)break}return c.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}class f{nonTerminals;terminals;currentLine=0;currentColumn=0;source="";constructor(e,t){this.nonTerminals=[...t],this.terminals=[...e]}setSource(e){this.source=e,this.currentLine=0,this.currentColumn=0}getSource(){console.log(this.source)}remainString(){return this.source.slice(this.currentColumn)}next(){if(this.currentColumn>=this.source.length)return{tocken:r,origin:r};for(let e of this.terminals){const t=this.source.slice(this.currentColumn).match(e[1]);if(t)return{tocken:e[0],origin:t[0]}}throw new Error(`[词法分析]: 匹配下一个tocken失败  源输入字符串: ${this.source} 剩余字符串: ${this.source.slice(this.currentColumn)}`)}pop(){try{const e=this.next();return e.tocken!==r&&(this.currentColumn+=e.origin.length),e}catch(e){throw e}}nextNotEmptyTerminal(){for(;;){const e=this.next();if("whiteSpace"!==e.tocken)return e;this.currentColumn+=e.origin.length}}nextNotEmpty(e){const t=this.currentColumn;for(let t=0;t<e-1;t++)this.popNotEmptyTerminal();const n=this.nextNotEmptyTerminal();return this.currentColumn=t,n}popNotEmptyTerminal(){const e=this.nextNotEmptyTerminal();return e.tocken!==r&&(this.currentColumn+=e.origin.length),e}isTerminal(e){let t=!0;return this.nonTerminals.some((n=>n===e&&(t=!1,!0))),t}splitDerivation(e){const t=[];let i=0;const r=e;for(;e.length;){for(let n of this.nonTerminals){const i=e.match(new RegExp("^"+n));if(i){t.push(n),e=e.slice(i[0].length);break}}for(let i of this.terminals){const r=e.match(new RegExp("^"+n(i[0])));if(r){t.push(i[0]),e=e.slice(r[0].length);break}}if(i++,i>5e4)throw new Error(`[splitDerivation] error: excute over MAX_EXCUTE str: ${r}  remaining str: ${e} `)}return t}getNewNonTerminal(e){let t=e;for(;;)if(t+="'",-1===this.nonTerminals.indexOf(t))return this.nonTerminals.unshift(t),t}}function g(e,n,r,o){const s=t(e,n),a=[],c=new Map;e.nonTerminals.forEach((e=>{const t={nonTerminal:e,terminal2Derivation:new Map};c.set(e,t),a.push(t)}));const m=new Map,f=new Map;for(let e of o)f.set(e.tocken,e);for(let e of r)m.set(e.tocken,e);return s.forEach((t=>{for(let n of t.derivations){const r=h(e,n,m),o=c.get(t.nonTerminal);l.log(r);let s=new Map;for(let e of r.terminals){if(e===i)continue;let r=o?.terminal2Derivation.get(e);s.set(e,!0),r||(r={nonTerminal:t.nonTerminal,derivations:[]},o?.terminal2Derivation.set(e,r)),r.derivations.push(n)}if(r.terminals.has(i))for(let e of f.get(t.nonTerminal).terminals){if(s.has(e))continue;let i=o?.terminal2Derivation.get(e);i||(i={nonTerminal:t.nonTerminal,derivations:[]},o?.terminal2Derivation.set(e,i)),i.derivations.push(n)}}})),a}function p(e,t){for(let n of e.terminals){const e=n[0];t.forEach((t=>{const n=t.terminal2Derivation.get(e);if(n&&n.derivations.length>1)return!1}))}return!0}const d=/^[A-Z]'*/,u=/[a-z|\u0391-\u03C9]/;function k(e){const t=new Set,n=new Set;return e.forEach((e=>{const i=e.replaceAll(/\s/g,"").split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),r=i[0];t.add(r),i[1].split("|").filter((e=>e&&"|"!==e)).forEach((e=>{for(;e.length;){let i=null;if(i=e.match(d),i)t.add(i[0]),e=e.slice(i[0].length);else{if(i=e.match(u),!i)throw new Error(`[getTockFromSimpleGrammers error] cant recognize the character remaining: ${e}`);n.add(JSON.stringify([i[0],"^"+i[0]])),e=e.slice(i[0].length)}}}))})),{nonTerminals:Array.from(t).sort(((e,t)=>t.length-e.length)),terminals:Array.from(n).map((e=>{const t=JSON.parse(e);return t[1]=new RegExp(t[1]),t}))}}function T(e){e=e.sort(((e,t)=>e<t?-1:1));let t="";for(let n of e)t+=` ${S(n)}`;return t}function S(e){let t=`${e.nonTerminal} -> `;for(let n=0;n<e.derivation.length;n++)n===e.matchPoint&&(n||(t+=" "),t+="· "),n===e.derivation.length-1?t+=`${e.derivation[n]}`:t+=`${e.derivation[n]} `,n===e.derivation.length-1&&e.matchPoint===e.derivation.length&&(t+="·");return t}function v(e,t,n){for(let i=0;i<e.length;i++){const r=e[i],o=r.derivation[r.matchPoint];if(n.isTerminal(o))continue;const s=t.get(o);s?.forEach((t=>{let n=!1;for(let i of e)if(i.nonTerminal===o&&0===i.matchPoint){if(i.derivation.length!==t.length)continue;let e=!0;for(let n=0;n<t.length;n++)if(i.derivation[n]!==t[n]){e=!1;break}if(e){n=!0;break}}n||e.push({nonTerminal:o,matchPoint:0,derivation:t})}))}}const w="Augument_S";function x(e,t=!0){e=e.sort(((e,t)=>e<t?-1:1));let n="";for(let i of e)n+=` ${b(i,t)}`;return n}function b(e,t=!0){let n=`${e.nonTerminal} -> `;for(let t=0;t<e.derivation.length;t++)t===e.matchPoint&&(t||(n+=" "),n+="· "),t===e.derivation.length-1?n+=`${e.derivation[t]}`:n+=`${e.derivation[t]} `,t===e.derivation.length-1&&e.matchPoint===e.derivation.length&&(n+="·");return e.lookAheadTocken?.length&&t&&(n+=" , "+e.lookAheadTocken.join("/")),n}function N(e,t,n,r){for(let o=0;o<e.length;o++){const s=e[o],l=s.derivation[s.matchPoint];if(n.isTerminal(l))continue;const a=t.get(l),h=[...c(n,s.derivation.slice(s.matchPoint+1),r).terminals];h.length&&-1===h.indexOf(i)||h.push(...s.lookAheadTocken),a?.forEach((t=>{let n=!1;for(let i of e)if(i.nonTerminal===l&&0===i.matchPoint){if(i.derivation.length!==t.length)continue;let e=!0;for(let n=0;n<t.length;n++)if(i.derivation[n]!==t[n]){e=!1;break}if(e){n=!0;break}}n||e.push({nonTerminal:l,matchPoint:0,derivation:t,lookAheadTocken:h})}))}}function P(e,t){for(let n of e)if(n.id===t)return n}return e.LL1Parser=class{lexer;textGrammers;constructor(e,t,n){this.lexer=new f(e,t),this.textGrammers=n}getFirstSet(){return a(this.lexer,this.textGrammers)}getFollowSet(e){return e||(e=this.getFirstSet()),m(this.lexer,this.textGrammers,e)}getPredictTable(e,t){return e||(e=this.getFirstSet()),t||(t=this.getFollowSet(e)),g(this.lexer,this.textGrammers,e,t)}getPredictProcess(e,t,n){if(n||(n=g(this.lexer,this.textGrammers,this.getFirstSet(),this.getFollowSet())),!this.lexer.nonTerminals.some((e=>t===e)))throw new Error("1");return function(e,t,n,o){let s=n.replaceAll(/\s/g,"");const a=[];let c=1;const h={id:0,text:o,check:!1},m=[h];let f={parseStack:[r,o],remainingInput:n,parseAction:""};e.setSource(s);const g=new Map;t.forEach((e=>{g.set(e.nonTerminal,e)}));try{for(;;){const t=f.parseStack[f.parseStack.length-1];if(e.isTerminal(t)){const n=e.next();if(t!==n.tocken)throw new Error(`[预测错误] 非终结符匹配错误: ${t} stack: ${f.parseStack} 剩余字符串: ${e.remainString()}`);{if(f.parseAction=`match ${n.tocken}${n.tocken===n.origin?"":": "+n.origin}`,a.push(f),f=JSON.parse(JSON.stringify(f)),e.pop(),f.parseAction="",f.remainingInput=e.remainString(),f.parseStack.pop(),0===f.parseStack.length)break;const t=m.pop();t.children||(t.children=[]),t.children.push({id:c++,text:n.origin,check:!1})}continue}const n=e.next(),r=g.get(t).terminal2Derivation.get(n.tocken);if(1!==r?.derivations?.length)throw new Error(`[预测错误] 分析输入错误  终结符: ${n}   剩余字符串: ${e.remainString()} 文法: ${r} `);f.parseAction=`Predict ${r.nonTerminal} -> ${r.derivations[0].join(" ")}`,l.log("[predict State]",f),a.push(f),f=JSON.parse(JSON.stringify(f)),f.parseStack.pop();const o=m.pop(),s=r.derivations[0].filter((e=>e!==i));o.children||(o.children=[]);for(let e of s)o.children.push({id:c++,text:e,check:!1});m.push(...[...o.children].reverse()),f.parseStack.push(...s.reverse()),f.parseAction="",f.remainingInput=e.remainString()}}catch(e){f.parseAction=e.toString(),a.push(f)}return a.astNode=h,a}(this.lexer,n,e,t)}checkPredickTableIsValid(e){return p(this.lexer,e)}checkIsLL0(){return p(this.lexer,this.getPredictTable())}getFirstSetProgressive(){return function*(e,n){yield["1. 如果X式一个终结符号，那么FIRST(X) = X ","2. 如果 X -> ε 是一个产生式，那么将e加人到 FIRST（X)中。","3. A -> B0B1B2B3，i = 0，循环i\n            FIRST(Bi) - ε 加入到 FIRST(A)中\n            如果FIRST(B1)ε\n            若B0 - B3均含有ε，将ε加入到FIRST(A)中\n        ","4. 去除所有终结符号的表项"],l.log("[generateFirstSet start]");const r=t(e,n);l.log("[grammers after transferString2Grammers]",r);const o=new Array(...r.map((e=>({tocken:e.nonTerminal,terminals:new Set})))),s=new Map;r.forEach((e=>{s.set(e.nonTerminal,e.derivations)})),o.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0})))),yield{ruleIndex:0,result:o},o.forEach((e=>{if(!e.isTerminal)for(let t of s.get(e.tocken))1!==t.length||t[0]!==i||e.terminals.has(i)||e.terminals.add(i)})),yield{ruleIndex:1,result:o};const a=new Map;for(let e of o)a.set(e.tocken,e);for(;;){let t=!1;if(o.forEach((n=>{if(!n.isTerminal)for(let r of s.get(n.tocken))for(let o=0;o<r.length;o++){const s=r[o];if(e.isTerminal(s)){if(n.terminals.has(s)||(l.log(s),t=!0,n.terminals.add(s)),s!==i)break}else{const e=a.get(s);if(e.terminals.forEach((e=>{e!==i&&(n.terminals.has(e)||(t=!0,n.terminals.add(e)))})),!e.terminals.has(i))break}o===r.length-1&&n.terminals.add(i)}})),!t)break;yield{ruleIndex:2,result:o}}yield{ruleIndex:3,result:o.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}}(this.lexer,this.textGrammers)}getFollowSetProgressive(e){return e||(e=this.getFirstSet()),function*(e,n,o){yield["1. 将$放到FOLLOW(S)中","2. 如果存在一个产生式A -> aBb ， 那么FIRST(b) 中除ε 之外的所有符号都在FOLLOW(B)中。attention: A -> aBCd 那么把first(Cd)加入到Follow(B)中去","3.如果存在一个产生式 A -> aB ， 或存在产生式 A -> aBb 且FIRST(b) 包含 ε ，那么FOLLOW(A)中的所有符号都在FOLLOW(B)中。","4. 去除所有终结符号的表项"],l.log("[generateFllowSet start]"),o=o?Array.from(o):a(e,n);const s=t(e,n);l.log("[grammers after transferString2Grammers]",s);const c=new Array(...s.map((e=>({tocken:e.nonTerminal,terminals:new Set([r])})))),h=new Map;s.forEach((e=>{h.set(e.nonTerminal,e.derivations)})),c.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([r]),isTerminal:!0})))),yield{ruleIndex:0,result:c};const m=new Map;for(let e of c)m.set(e.tocken,e);o.push(...e.terminals.map((e=>({tocken:e[0],terminals:new Set([e[0]]),isTerminal:!0}))));const f=new Map;for(let e of o)f.set(e.tocken,e);for(;;){let e=!1;if(s.forEach((t=>{for(let n of t.derivations)for(let t=n.length-2;t>=0;t--){const r=m.get(n[t]);for(let o=t+1;o<n.length;o++){const t=f.get(n[o]).terminals;for(let n of t)n!==i&&(r?.terminals.has(n)||(e=!0,r?.terminals.add(n)));if(!t.has(i))break}}})),e&&(yield{ruleIndex:1,result:c},e=!1),s.forEach((t=>{const n=m.get(t.nonTerminal);for(let r of t.derivations)for(let t=r.length-1;t>=0;t--){const o=r[t],s=m.get(o);for(let t of n.terminals)t!==i&&(s?.terminals.has(t)||(e=!0,s?.terminals.add(t)));if(!f.get(o).terminals.has(i))break}})),e&&(yield{ruleIndex:2,result:c}),!e)break}yield{ruleIndex:3,result:c.filter((e=>!e.isTerminal)).sort(((e,t)=>e.tocken<t.tocken?-1:1)).map((e=>(e.terminals=new Set(Array.from(e.terminals).sort(((e,t)=>e<t?-1:1))),e)))}}(this.lexer,this.textGrammers,e)}getPredictProcessProgressive(e,t,n){if(n||(n=g(this.lexer,this.textGrammers,this.getFirstSet(),this.getFollowSet())),!this.lexer.nonTerminals.some((e=>t===e)))throw new Error("1");return function*(e,t,n,o){let s=n.replaceAll(/\s/g,"");const a=[];let c=1;const h={id:0,text:o,check:!1};a.astNode=h;const m=[h];let f={parseStack:[r,o],remainingInput:n,parseAction:""};e.setSource(s);const g=new Map;t.forEach((e=>{g.set(e.nonTerminal,e)})),yield a;try{for(;;){const t=f.parseStack[f.parseStack.length-1];if(e.isTerminal(t)){const n=e.next();if(t!==n.tocken)throw new Error(`[预测错误] 非终结符匹配错误: ${t} stack: ${f.parseStack} 剩余字符串: ${e.remainString()}`);{if(f.parseAction=`match ${n.tocken}${n.tocken===n.origin?"":": "+n.origin}`,a.push(f),f=JSON.parse(JSON.stringify(f)),e.pop(),f.parseAction="",f.remainingInput=e.remainString(),f.parseStack.pop(),0===f.parseStack.length)break;const t=m.pop();t.children||(t.children=[]),t.children.push({id:c++,text:n.origin,check:!1})}yield a;continue}const n=e.next(),r=g.get(t).terminal2Derivation.get(n.tocken);if(1!==r?.derivations?.length)throw new Error(`[预测错误] 分析输入错误  终结符: ${n}   剩余字符串: ${e.remainString()} 文法: ${r} `);f.parseAction=`Predict ${r.nonTerminal} -> ${r.derivations[0].join(" ")}`,l.log("[predict State]",f),a.push(f),f=JSON.parse(JSON.stringify(f)),f.parseStack.pop();const o=m.pop(),s=r.derivations[0].filter((e=>e!==i));o.children||(o.children=[]);for(let e of s)o.children.push({id:c++,text:e,check:!1});m.push(...[...o.children].reverse()),f.parseStack.push(...s.reverse()),f.parseAction="",f.remainingInput=e.remainString(),yield a}}catch(e){f.parseAction=e.toString(),a.push(f)}return a.astNode=h,a}(this.lexer,n,e,t)}getPredictTableProgressive(e,n){return e||(e=this.getFirstSet()),n||(n=this.getFollowSet(e)),function*(e,n,r,o){yield["1. 对 First(u) 中的所有终结符 a （不含 ε ），置 M[A, a] = A -> u","2. 若 First(u) 含 ε ，则对 Follow(A) 中的所有符号 a （可含 $ ），置 M[A, a] = A -> u"];const s=t(e,n),a=[],c=new Map;e.nonTerminals.forEach((e=>{const t={nonTerminal:e,terminal2Derivation:new Map};c.set(e,t),a.push(t)}));const m=new Map,f=new Map;for(let e of o)f.set(e.tocken,e);for(let e of r)m.set(e.tocken,e);for(let t of s)for(let n of t.derivations){const r=h(e,n,m),o=c.get(t.nonTerminal);l.log(r);for(let e of r.terminals){if(e===i)continue;let r=o?.terminal2Derivation.get(e);r||(r={nonTerminal:t.nonTerminal,derivations:[]},o?.terminal2Derivation.set(e,r)),r.derivations.push(n),yield{ruleIndex:0,result:a}}if(r.terminals.has(i))for(let e of f.get(t.nonTerminal).terminals){let i=o?.terminal2Derivation.get(e);i||(i={nonTerminal:t.nonTerminal,derivations:[]},o?.terminal2Derivation.set(e,i)),i.derivations.push(n),yield{ruleIndex:1,result:a}}}}(this.lexer,this.textGrammers,e,n)}},e.LR1Parser=class{initialStateNode;allStateNodesMap;lexer;grammers;firstSet;constructor(){this.initialStateNode=null}generateState(e,t,n,i){if(!n||!i){const t=k(e);n=t.nonTerminals,i=t.terminals}l.log("[nonTerminals]",n),l.log("[terminals]",i),this.grammers=e,this.lexer=new f(i,n),this.firstSet=a(this.lexer,e);const o=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));o.set(n,i)}l.log(o),this.initialStateNode={id:0,items:[{nonTerminal:w,derivation:[t],matchPoint:0,lookAheadTocken:[r]}],edges:[]},N(this.initialStateNode.items,o,this.lexer,this.firstSet);const s=new Map;this.allStateNodesMap=s,s.set(x(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;s.size!=h;){h=s.size;for(let e of s.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===w&&1===t.matchPoint&&e.edges.push({tocken:r,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1,lookAheadTocken:i.lookAheadTocken});if(!n.length)continue;N(n,o,this.lexer,this.firstSet);const i=x(n);s.has(i)||s.set(i,{id:s.size,items:n,edges:[]}),e.edges.push({tocken:t,next:s.get(i)})}for(let t of i){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1,lookAheadTocken:i.lookAheadTocken});if(!n.length)continue;N(n,o,this.lexer,this.firstSet);const i=x(n);s.has(i)||s.set(i,{id:s.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:s.get(i)})}}}}predictInput(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let n=[];for(e=e.replaceAll(/\s/g,""),n.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),r]});;){const e=n[n.length-1],r=JSON.parse(JSON.stringify(e)),o=e.stack[e.stack.length-1];let s=P(t,o);for(let e of t)if(e.id===o){s=e;break}if(!s)throw new Error(`[predict] stateId: ${o} 的预测行找不到`);let l=!1,a=[];if(a=s.action.get(e.input[0]),a.length>1)throw new Error(`move collision ${a}`);if(!a.length){if(1!==s.action.get(i)?.length)throw new Error(`move is empty ${a}`);a=s.action.get(i),l=!0}let c=a[0];if("acc"===c){e.move="接受";break}if(c.startsWith("S"))e.move=`移入${e.input[0]}`,l?r.symbols.push(i):r.symbols.push(r.input.shift()),r.stack.push(Number(c.slice(1)));else{e.move=`根据${c}归约`;const n=c.slice(2,-1).replaceAll(/\s/g,""),i=n.split("->")[0],o=this.lexer.splitDerivation(n.split("->")[1]);for(let e=0;e<o.length;e++)r.stack.pop(),r.symbols.pop();r.symbols.push(i);const s=P(t,e.stack[r.stack.length-1]);r.stack.push(s.goto.get(i)[0])}n.push(r)}return n}mergeNewNode(e,t){if(e.id=Number(`${e.id}${t.id}`),e.items.length!==t.items.length)throw new Error("[mergeNewNode] 合并核心节点出错");for(let n=0;n<e.items.length;n++){const i=e.items[n],r=t.items[n];for(let e of r.lookAheadTocken)-1===i.lookAheadTocken?.indexOf(e)&&i.lookAheadTocken.push(e)}e.acc=e.acc||t.acc}generateLALRPredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=new Map;(()=>{const t=new Map,n=i=>{if(t.has(i.id))return;t.set(i.id,!0);const r=x(i.items,!1);let o=e.get(r);if(o)this.mergeNewNode(o,i);else{o={id:i.id,items:[],edges:[],acc:i.acc};for(let e of i.items)o.items.push(JSON.parse(JSON.stringify(e)));o.edges=[],e.set(r,o)}for(let e of i.edges)n(e.next)};n(this.initialStateNode)})();const t=new Map;(()=>{const n=new Map,i=r=>{if(n.has(r.id))return;n.set(r.id,!0);const o=x(r.items,!1);t.set(r.id,e.get(o).id);for(let e of r.edges)i(e.next)};i(this.initialStateNode)})();const n=e=>t.get(e),i=[],o=new Map;for(let t of this.allStateNodesMap.values()){if(o.get(n(t.id)))continue;o.set(n(t.id),!0);let s={id:n(t.id),action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)s.goto.set(e,[]);for(let e of this.lexer.terminals)s.action.set(e[0],[]);s.action.set(r,[]);for(let e of t.edges)e.tocken!==r?this.lexer.isTerminal(e.tocken)?s.action.get(e.tocken).push(`S${n(e.next.id)}`):s.goto.get(e.tocken).push(n(e.next.id)):s.action.get(e.tocken).push("acc");let l=t.items;n(t.id)!==t.id&&(l=e.get(x(t.items,!1)).items);for(let e of l)if(e.matchPoint===e.derivation.length){if(e.nonTerminal===w)continue;for(let t of e.lookAheadTocken)s.action.get(t).push(`r(${e.nonTerminal} -> ${e.derivation.join(" ")})`)}i.push(s)}return i.sort(((e,t)=>e.id-t.id)),i}generateLR1PredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=[];for(let t of this.allStateNodesMap.values()){let n={id:t.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)n.goto.set(e,[]);for(let e of this.lexer.terminals)n.action.set(e[0],[]);n.action.set(r,[]);for(let e of t.edges)e.tocken!==r?this.lexer.isTerminal(e.tocken)?n.action.get(e.tocken).push(`S${e.next.id}`):n.goto.get(e.tocken).push(e.next.id):n.action.get(e.tocken).push("acc");for(let e of t.items)if(e.matchPoint===e.derivation.length){if(e.nonTerminal===w)continue;for(let t of e.lookAheadTocken)n.action.get(t).push(`r(${e.nonTerminal} -> ${e.derivation.join(" ")})`)}e.push(n)}return e.sort(((e,t)=>e.id-t.id)),e}get stateGraph(){const e=[],t=n=>{if(e[n.id])return e[n.id];const i={};e[n.id]=i,i.id=n.id;let r=0;n.items?.forEach((e=>{e.matchPoint===e.derivation.length&&r++})),i.isCollision=r>=2,i.items=n.items.map((e=>b(e))),i.edges=[];for(let e of n.edges)i.edges.push({tocken:e.tocken,next:t(e.next)});return i};return t(this.initialStateNode)}},e.LRParser=class{initialStateNode;allStateNodesMap;lexer;grammers;constructor(){this.initialStateNode=null}generateState(e,t,n,i){if(!n||!i){const t=k(e);n=t.nonTerminals,i=t.terminals}const o="Augument_S";l.log("[nonTerminals]",n),l.log("[terminals]",i),this.grammers=e,this.lexer=new f(i,n);const s=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));s.set(n,i)}l.log(s),this.initialStateNode={id:0,items:[{nonTerminal:o,derivation:[t],matchPoint:0}],edges:[]},v(this.initialStateNode.items,s,this.lexer);const a=new Map;this.allStateNodesMap=a,a.set(T(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;a.size!=h;){h=a.size;for(let e of a.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===o&&1===t.matchPoint&&e.edges.push({tocken:r,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;v(n,s,this.lexer);const i=T(n);a.has(i)||a.set(i,{id:a.size,items:n,edges:[]}),e.edges.push({tocken:t,next:a.get(i)})}for(let t of i){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;v(n,s,this.lexer);const i=T(n);a.has(i)||a.set(i,{id:a.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:a.get(i)})}}}}*generateStateProgressive(e,t,n,i){if(!n||!i){const t=k(e);n=t.nonTerminals,i=t.terminals}const o="Augument_S";l.log("[nonTerminals]",n),l.log("[terminals]",i),this.grammers=e,this.lexer=new f(i,n);const s=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>this.lexer.splitDerivation(e)));s.set(n,i)}l.log(s),this.initialStateNode={id:0,items:[{nonTerminal:o,derivation:[t],matchPoint:0}],edges:[]},v(this.initialStateNode.items,s,this.lexer),yield;const a=new Map;this.allStateNodesMap=a,a.set(T(this.initialStateNode.items),this.initialStateNode);const c=[];let h=0;for(;a.size!=h;){h=a.size;for(let e of a.values())if(!c[e.id]){c[e.id]=!0;for(let t of e.items)t.nonTerminal===o&&1===t.matchPoint&&e.edges.push({tocken:r,next:{id:-1,items:[],edges:[]}});for(let t of n){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;v(n,s,this.lexer);const i=T(n);a.has(i)||a.set(i,{id:a.size,items:n,edges:[]}),e.edges.push({tocken:t,next:a.get(i)}),yield}for(let t of i){let n=[];for(let i of e.items)i.derivation.length!==i.matchPoint&&i.derivation[i.matchPoint]===t[0]&&n.push({nonTerminal:i.nonTerminal,derivation:i.derivation,matchPoint:i.matchPoint+1});if(!n.length)continue;v(n,s,this.lexer);const i=T(n);a.has(i)||a.set(i,{id:a.size,items:n,edges:[]}),e.edges.push({tocken:t[0],next:a.get(i)}),yield}}}}predictInput(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let n=[];for(e=e.replaceAll(/\s/g,""),n.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),r]});;){const e=n[n.length-1],r=JSON.parse(JSON.stringify(e)),o=t[e.stack[e.stack.length-1]];let s=!1,l=o.action.get(e.input[0]);if(l.length>1)throw new Error(`move collision ${l}`);if(!l.length){if(1!==o.action.get(i)?.length)throw new Error(`move is empty ${l}`);l=o.action.get(i),s=!0}let a=l[0];if("acc"===a){e.move="接受";break}if(a.startsWith("S"))e.move=`移入${e.input[0]}`,s?r.symbols.push(i):r.symbols.push(r.input.shift()),r.stack.push(Number(a.slice(1)));else{e.move=`根据${a}归约`;const n=a.slice(2,-1).replaceAll(/\s/g,""),i=n.split("->")[0],o=this.lexer.splitDerivation(n.split("->")[1]);for(let e=0;e<o.length;e++)r.stack.pop(),r.symbols.pop();r.symbols.push(i);const s=t[e.stack[r.stack.length-1]];r.stack.push(s.goto.get(i)[0])}n.push(r)}return n}predictInputWithAST(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let n=[];e=e.replaceAll(/\s/g,"");for(n.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),r]});;){const e=n[n.length-1],i=JSON.parse(JSON.stringify(e)),r=t[e.stack[e.stack.length-1]].action.get(e.input[0]);if(r.length>1)throw new Error(`move collision ${r}`);if(!r.length)throw new Error(`move is empty ${r}`);let o=r[0];if("acc"===o){e.move="接受";break}if(o.startsWith("S")){e.move=`移入${e.input[0]}`;const t={id:1,text:i.input.shift(),check:!1};i.symbols.push(t),i.stack.push(Number(o.slice(1)))}else{e.move=`根据${o}归约`;const n=o.slice(2,-1).replaceAll(/\s/g,""),r=n.split("->")[0],s=this.lexer.splitDerivation(n.split("->")[1]),l={id:2,text:r,check:!1};l.children||(l.children=[]);for(let e=0;e<s.length;e++){i.stack.pop();const e=i.symbols.pop();l.children.push(e)}i.symbols.push(l);const a=t[e.stack[i.stack.length-1]];i.stack.push(a.goto.get(r)[0])}n.push(i)}return n}*predictInputProgressive(e,t){if(!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");let n=[];e=e.replaceAll(/\s/g,"");for(n.push({stack:[0],symbols:[],input:[...this.lexer.splitDerivation(e),r]}),yield n;;){const e=n[n.length-1],i=JSON.parse(JSON.stringify(e)),r=t[e.stack[e.stack.length-1]].action.get(e.input[0]);if(r.length>1)throw new Error(`move collision ${r}`);if(!r.length)throw new Error(`move is empty ${r}`);let o=r[0];if("acc"===o){e.move="接受";break}if(o.startsWith("S")){e.move=`移入${e.input[0]}`;const t={id:100,text:i.input.shift(),check:!1};i.symbols.push(t),i.stack.push(Number(o.slice(1)))}else{e.move=`根据${o}归约`;const n=o.slice(2,-1).replaceAll(/\s/g,""),r=n.split("->")[0],s=this.lexer.splitDerivation(n.split("->")[1]),l={id:99,text:r,check:!1};l.children||(l.children=[]);for(let e=0;e<s.length;e++){i.stack.pop();const e=i.symbols.pop();l.children.push(e)}i.symbols.push(l);const a=t[e.stack[i.stack.length-1]];i.stack.push(a.goto.get(r)[0])}yield n,n.push(i)}return n}generateLR0PredictTable(){if(!this.initialStateNode||!this.allStateNodesMap||!this.lexer)throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=[];for(let t of this.allStateNodesMap.values()){let n={id:t.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)n.goto.set(e,[]);for(let e of this.lexer.terminals)n.action.set(e[0],[]);n.action.set(r,[]);for(let e of t.edges)e.tocken!==r?this.lexer.isTerminal(e.tocken)?n.action.get(e.tocken).push(`S${e.next.id}`):n.goto.get(e.tocken).push(e.next.id):n.action.get(e.tocken).push("acc");for(let e of t.items)if(e.matchPoint===e.derivation.length){for(let t of this.lexer.terminals)n.action.get(t[0]).push(`r(${e.nonTerminal} -> ${e.derivation.join(" ")})`);n.action.get(r)?.length||n.action.get(r).push(`r(${e.nonTerminal} -> ${e.derivation.join(" ")})`)}e.push(n)}return e.sort(((e,t)=>e.id-t.id)),e}generateSLR1PredictTable(){if(!(this.initialStateNode&&this.allStateNodesMap&&this.lexer&&this.grammers))throw new Error("[generatePredictTable] must call generateState before generatePredictTable");const e=m(this.lexer,this.grammers);console.log(e);const t=[];for(let n of this.allStateNodesMap.values()){let i={id:n.id,action:new Map,goto:new Map};for(let e of this.lexer.nonTerminals)i.goto.set(e,[]);for(let e of this.lexer.terminals)i.action.set(e[0],[]);i.action.set(r,[]);for(let e of n.edges)e.tocken!==r?this.lexer.isTerminal(e.tocken)?i.action.get(e.tocken).push(`S${e.next.id}`):i.goto.get(e.tocken).push(e.next.id):i.action.get(e.tocken).push("acc");for(let t of n.items)if(t.matchPoint===t.derivation.length){let n=[];for(let i of e)if(i.tocken===t.nonTerminal){n=[...i.terminals.values()];break}for(let e of n)i.action.get(e[0]).push(`r(${t.nonTerminal} -> ${t.derivation.join(" ")})`)}t.push(i)}return t.sort(((e,t)=>e.id-t.id)),t}get stateGraph(){const e=[],t=n=>{if(e[n.id])return e[n.id];const i={};e[n.id]=i,i.id=n.id;let r=0,o=0;n.items?.forEach((e=>{e.matchPoint===e.derivation.length&&r++,this.lexer?.isTerminal(e.derivation[e.matchPoint])&&o++})),i.isCollision=r>=2||r>=1&&o>0,i.items=n.items.map((e=>S(e))),i.edges=[];for(let e of n.edges)i.edges.push({tocken:e.tocken,next:t(e.next)});return i};return t(this.initialStateNode)}},e.Lexer=f,e.checkNeedClearRightRecursion=function(e,t,n){if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}l.log("[nonTerminals]",t),l.log("[terminals]",n);let i=new f(n,t);const r=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],o=e[1].split("|").filter((e=>e)).map((e=>i.splitDerivation(e)));r.set(n,o)}l.log("[nonTerminals2DerivationMap]",r);for(let e=0;e<t.length;e++){const n=r.get(t[e]);for(let i=n.length-1;i>=0;i--){if(n[i][0]===t[e])return!0}}return!1},e.checkNeedliftUpCommonTocken=function(e,t,n){let i=e;if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let r=new f(n,t);for(let e of i){e=e.replaceAll(/\s/g,"");const t=e.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e))[1].split("|").filter((e=>e)).map((e=>(l.log("[debug]",i),r.splitDerivation(e)))),n=new Map;t.forEach((e=>{let t=n.get(e[0]);t?t.push(e.slice(1)):t=[e.slice(1)],n.set(e[0],t)}));for(let e of n.keys())if(1!==n.get(e)?.length)return!0}return!1},e.checkNeedunionGrammers=function(e){let t=new Map;for(let n of e){n=n.replaceAll(/\s/g,"");const e=n.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),i=e[0],r=e[1];if(t.has(i))return!0;t.set(i,[r])}return!1},e.clearRightRecursion=function(e,t,n){const r=[];if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}l.log("[nonTerminals]",t),l.log("[terminals]",n);let o=new f(n,t);const s=new Map;for(let t of e){t=t.replaceAll(/\s/g,"");const e=t.split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=e[0],i=e[1].split("|").filter((e=>e)).map((e=>o.splitDerivation(e)));s.set(n,i)}l.log("[nonTerminals2DerivationMap]",s);for(let e=0;e<t.length;e++){const n=s.get(t[e]);for(let i=0;i<e;i++){const e=s.get(t[i]);for(let r=n.length-1;r>=0;r--){const o=n[r];if(o[0]===t[i]){l.log(o,t[i]);for(let t of e)l.log("[-]",t),n?.push([...t,...o.slice(1)]);n?.splice(r,1)}}}const r=[];for(let i=n.length-1;i>=0;i--){n[i][0]===t[e]&&r.push(i)}if(r.length){const l=o.getNewNonTerminal(t[e]),a=[],c=[];for(let e=n.length-1;e>=0;e--)-1===r.indexOf(e)&&a.push([...n[e][0]===i?n[e].slice(1):n[e],l]);for(let e of r)c.push([...n[e].slice(1),l]);c.push([i]),s.set(t[e],[...a,...r.length?[]:n]),s.set(l,c)}l.log("[nonTerminals2DerivationMap in process]",s,n)}for(let e of s.keys()){const t=s.get(e).map((e=>e.join(" "))).join(" | ");r.push(`${e} -> ${t}`)}return r},e.getTockFromSimpleGrammers=k,e.liftUpCommonTocken=function(e,t,n){let i=e;if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let r=new f(n,t);for(;;){let e=[];const t=i.map((t=>{const n=(t=t.replaceAll(/\s/g,"")).split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),o=n[0],s=n[1].split("|").filter((e=>e)).map((e=>(l.log("[debug]",i),r.splitDerivation(e)))),a=[],c=new Map;s.forEach((e=>{let t=c.get(e[0]);t?t.push(e.slice(1)):t=[e.slice(1)],c.set(e[0],t)}));for(let t of c.keys()){if(1===c.get(t)?.length){a.push(t+c.get(t)[0].join(""));continue}const n=c.get(t),i=r.getNewNonTerminal(o);a.push(t+i),e.push(i+" -> "+n?.map((e=>e.join(" "))).join(" | "))}return o+" -> "+a.join(" | ")}));l.log("[pre]",t,e);const n=[...t,...e];if(l.log("[com]",i,n),i.length===n.length)break;i=n}return i},e.unionGrammers=function(e,t,n){let i=new Map;const r=[];if(!t||!n){const i=k(e);t=i.nonTerminals,n=i.terminals}let o=new f(n,t);e.forEach((e=>{const t=(e=e.replaceAll(/\s/g,"")).split(/(=>)|(->)/).filter((e=>"=>"!==e&&"->"!==e&&e)),n=t[0],s=t[1].split("|").filter((e=>e)).map((e=>(l.log("[debug]",r),o.splitDerivation(e))));if(i.has(n)){const e=i.get(n);s.forEach((t=>{const n=t.join(" ");-1===e?.indexOf(n)&&e.push(n)}))}else i.set(n,s.map((e=>e.join(" "))))}));for(let e of i.keys()){const t=[...new Set(i.get(e))];r.push(`${e} -> ${t.join("|")}`.split("|").join(" | "))}return l.log(r),r},e}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguaWlmZS5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL2luZGV4LnRzIiwiLi4vc3JjL3V0aWxzL2NvbnN0LnRzIiwiLi4vc3JjL3V0aWxzL2xvZy50cyIsIi4uL3NyYy9maXJzdFNldC50cyIsIi4uL3NyYy9mb2xsb3dTZXQudHMiLCIuLi9zcmMvbGV4ZXIudHMiLCIuLi9zcmMvTEwxL3ByZWRpY3RUYWJsZS50cyIsIi4uL3NyYy9zaW1wbGVHcmFtbWVySGVscGVyLnRzIiwiLi4vc3JjL0xSMC9MUlN0YXRlLnRzIiwiLi4vc3JjL0xSMS9MUjFTdGF0ZS50cyIsIi4uL3NyYy9MTDEvcGFyc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMZXhlciBmcm9tIFwiQC9sZXhlclwiO1xyXG5pbXBvcnQgeyBHcmFtbWVycyB9IGZyb20gXCJAL3R5cGVzL3R5cGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2ZlclN0cmluZzJHcmFtbWVycyhsZXhlcjogTGV4ZXIsIGdyYW1tZXJzOiBBcnJheTxzdHJpbmc+KTogR3JhbW1lcnMge1xyXG4gICAgcmV0dXJuIGdyYW1tZXJzLm1hcChncmFtbWVyID0+IHtcclxuICAgICAgICByZXR1cm4gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICB9KS5tYXAoZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5zcGxpdCgvKD0+KXwoLT4pLykuZmlsdGVyKHYgPT4gdiAhPT0gXCI9PlwiICYmIHYgIT09IFwiLT5cIiAmJiB2KTtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGFyclsxXS5zcGxpdChcInxcIikuZmlsdGVyKHYgPT4gdiAmJiB2ICE9PSBcInxcIikubWFwKGRlcml2YXRpb24gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV4ZXIuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9uVGVybWluYWw6IGFyclswXSxcclxuICAgICAgICAgICAgZGVyaXZhdGlvbnM6IGRlcml2YXRpb25zLFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0SW5jbHVkZXMoYTogU2V0PHVua25vd24+LCBiOiBTZXQ8dW5rbm93bj4pOiBib29sZWFuIHtcclxuICAgIGZvciAobGV0IGl0ZW0gb2YgYi5rZXlzKCkpIHtcclxuICAgICAgICBpZiAoIWEuaGFzKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVSZWdDaGFyYWN0ZXIoY2hhcjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAoY2hhcikge1xyXG4gICAgY2FzZSBcIitcIjpcclxuICAgIGNhc2UgXCIqXCI6XHJcbiAgICBjYXNlIFwiKFwiOlxyXG4gICAgY2FzZSBcIilcIjpcclxuICAgICAgICByZXR1cm4gYFxcXFwke2NoYXJ9YDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGNoYXI7XHJcbiAgICB9XHJcbn0iLCJcclxuXHJcbmV4cG9ydCBjb25zdCBFbXB0eUNoYXJhY3RlciA9IFwizrVcIjtcclxuZXhwb3J0IGNvbnN0IEVuZGluZ0NoYXJhY3RlciA9IFwiJFwiOyIsIi8qU1RBUlQuT05MWVRFU1QqL1xyXG5pbXBvcnQgY29sb3JzIGZyb20gXCJjb2xvcnNcIlxyXG4vKkVORC5PTkxZVEVTVCovXHJcblxyXG5lbnVtIExvZ0xldmVsIHtcclxuICAgIE5vcm1hbCxcclxuICAgIFdhcm5uaW5nLFxyXG4gICAgRXJyb3IsXHJcbiAgICBOb25lXHJcbn1cclxuaW50ZXJmYWNlIExvZ0NoYW5uZWwge1xyXG4gICAgbG9nKC4uLmRhdGE6IGFueVtdKTogdm9pZDtcclxuICAgIHdhcm4oLi4uZGF0YTogYW55W10pOiB2b2lkO1xyXG4gICAgZXJyb3IoLi4uZGF0YTogYW55W10pOiB2b2lkO1xyXG5cclxufVxyXG5cclxuY2xhc3MgTG9nZ2VyIHtcclxuICAgIHB1YmxpYyBsb2dMZXZlbDogTG9nTGV2ZWw7XHJcbiAgICBwdWJsaWMgbG9nQ2hhbm5lbDogTG9nQ2hhbm5lbDtcclxuICAgIGNvbnN0cnVjdG9yKGxvZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLk5vcm1hbCwgbG9nQ2hhbm5lbDogTG9nQ2hhbm5lbCA9IGNvbnNvbGUpIHtcclxuICAgICAgICB0aGlzLmxvZ0xldmVsID0gbG9nTGV2ZWw7XHJcbiAgICAgICAgdGhpcy5sb2dDaGFubmVsID0gbG9nQ2hhbm5lbDtcclxuICAgIH1cclxuICAgIGxvZyguLi5pbmZvOiBhbnlbXSkge1xyXG4gICAgICAgIGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLk5vcm1hbCkge1xyXG4gICAgICAgICAgICAvKlNUQVJULk9OTFlURVNUKi9cclxuICAgICAgICAgICAgY29sb3JzLmVuYWJsZSgpO1xyXG4gICAgICAgICAgICAvKkVORC5PTkxZVEVTVCovXHJcbiAgICAgICAgICAgIHRoaXMubG9nQ2hhbm5lbC5sb2coXCJbbm9ybWFsXVwiLypTVEFSVC5PTkxZVEVTVCovLnJhaW5ib3cvKkVORC5PTkxZVEVTVCovLCAuLi5pbmZvKTtcclxuICAgICAgICAgICAgLypTVEFSVC5PTkxZVEVTVCovXHJcbiAgICAgICAgICAgIGNvbG9ycy5kaXNhYmxlKCk7XHJcbiAgICAgICAgICAgIC8qRU5ELk9OTFlURVNUKi9cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB3YXJuKC4uLmluZm86IGFueVtdKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuV2Fybm5pbmcpIHtcclxuICAgICAgICAgICAgLypTVEFSVC5PTkxZVEVTVCovXHJcbiAgICAgICAgICAgIGNvbG9ycy5lbmFibGUoKTtcclxuICAgICAgICAgICAgLypFTkQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0NoYW5uZWwud2FybihcIlt3YXJuXVwiLypTVEFSVC5PTkxZVEVTVCovLnllbGxvdy8qRU5ELk9OTFlURVNUKi8sIC4uLmluZm8pO1xyXG4gICAgICAgICAgICAvKlNUQVJULk9OTFlURVNUKi9cclxuICAgICAgICAgICAgY29sb3JzLmRpc2FibGUoKTtcclxuICAgICAgICAgICAgLypFTkQuT05MWVRFU1QqL1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlcnJvciguLi5pbmZvOiBhbnlbXSkge1xyXG4gICAgICAgIGlmICh0aGlzLmxvZ0xldmVsIDw9IExvZ0xldmVsLkVycm9yKSB7XHJcbiAgICAgICAgICAgIC8qU1RBUlQuT05MWVRFU1QqL1xyXG4gICAgICAgICAgICBjb2xvcnMuZW5hYmxlKCk7XHJcbiAgICAgICAgICAgIC8qRU5ELk9OTFlURVNUKi9cclxuICAgICAgICAgICAgdGhpcy5sb2dDaGFubmVsLmVycm9yKFwiW2Vycm9yXVwiLypTVEFSVC5PTkxZVEVTVCovLnJlZC8qRU5ELk9OTFlURVNUKi8sIC4uLmluZm8pO1xyXG4gICAgICAgICAgICAvKlNUQVJULk9OTFlURVNUKi9cclxuICAgICAgICAgICAgY29sb3JzLmRpc2FibGUoKTtcclxuICAgICAgICAgICAgLypFTkQuT05MWVRFU1QqL1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ1RvKGxvZ0NoYW5uZWw6IExvZ0NoYW5uZWwpIHtcclxuICAgICAgICB0aGlzLmxvZ0NoYW5uZWwgPSBsb2dDaGFubmVsO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBOdWxsTG9nQ2hhbm5lbCB7XHJcbiAgICBwdWJsaWMgbG9nKC4uLmRhdGE6IGFueVtdKTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyB3YXJuKC4uLmRhdGE6IGFueVtdKTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyBlcnJvciguLi5kYXRhOiBhbnlbXSk6IHZvaWQgeyB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IG51bGxMb2dDaGFubmVsID0gbmV3IE51bGxMb2dDaGFubmVsKCk7XHJcblxyXG5sZXQgbG9nTGV2ZWxfaW5pdCA9IExvZ0xldmVsLk5vcm1hbFxyXG52YXIgX19lbnZfXyA9IFwiXCI7XHJcbnN3aXRjaCAoX19lbnZfXykge1xyXG5jYXNlIFwicHJvZFwiOlxyXG4gICAgbG9nTGV2ZWxfaW5pdCA9IExvZ0xldmVsLkVycm9yXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgbmV3IExvZ2dlcihsb2dMZXZlbF9pbml0KVxyXG4iLCJpbXBvcnQgTGV4ZXIgZnJvbSBcIi4vbGV4ZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lclNldCwgR3JhbW1lclNldExpbmUsIE5vblRlcm1pbmFsLCBQcm9jZXNzLCBSdWxlLCBUZXJtaW5hbCB9IGZyb20gXCIuL3R5cGVzL3R5cGVcIjtcclxuaW1wb3J0IHsgdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnMgfSBmcm9tIFwiLi91dGlsc1wiXHJcbmltcG9ydCB7IEVtcHR5Q2hhcmFjdGVyIH0gZnJvbSBcIi4vdXRpbHMvY29uc3RcIjtcclxuaW1wb3J0IGxvZyBmcm9tIFwiLi91dGlscy9sb2dcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlRmlyc3RTZXQobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+KTogR3JhbW1lclNldCB7XHJcbiAgICBsb2cubG9nKFwiW2dlbmVyYXRlRmlyc3RTZXQgc3RhcnRdXCIpO1xyXG4gICAgY29uc3QgZ3JhbW1lcnMgPSB0cmFuc2ZlclN0cmluZzJHcmFtbWVycyhsZXhlciwgaW5HcmFtbWVycyk7XHJcbiAgICBsb2cubG9nKFwiW2dyYW1tZXJzIGFmdGVyIHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzXVwiLCBncmFtbWVycyk7XHJcbiAgICBjb25zdCBmaXJzdFNldDogR3JhbW1lclNldCA9IG5ldyBBcnJheSguLi5ncmFtbWVycy5tYXAoZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQ8VGVybWluYWw+KCksXHJcbiAgICAgICAgfVxyXG4gICAgfSkpO1xyXG4gICAgY29uc3QgZ3JhbW1lck1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXVtdPigpO1xyXG4gICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICBncmFtbWVyTWFwLnNldChncmFtbWVyLm5vblRlcm1pbmFsLCBncmFtbWVyLmRlcml2YXRpb25zKTtcclxuICAgIH0pXHJcbiAgICAvKiBcclxuICAgICAgICDlpoLmnpxY5byP5LiA5Liq57uI57uT56ym5Y+377yM6YKj5LmIRklSU1QoWCkgPSBYIFxyXG4gICAgKi9cclxuICAgIGZpcnN0U2V0LnB1c2goLi4ubGV4ZXIudGVybWluYWxzLm1hcCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0KFt0ZXJtaW5hbFswXV0pLFxyXG4gICAgICAgICAgICBpc1Rlcm1pbmFsOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSkpXHJcbiAgICAvKiBcclxuICAgICAgICDlpoLmnpwgWCA9PiDOtSDmmK/kuIDkuKrkuqfnlJ/lvI/vvIzpgqPkuYjlsIZl5Yqg5Lq65YiwIEZJUlNU77yIWCnkuK3jgIJcclxuICAgICovXHJcbiAgICBmaXJzdFNldC5mb3JFYWNoKHNldExpbmUgPT4ge1xyXG4gICAgICAgIGlmIChzZXRMaW5lLmlzVGVybWluYWwpIHJldHVybjtcclxuICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXJNYXAuZ2V0KHNldExpbmUudG9ja2VuKSEpIHtcclxuICAgICAgICAgICAgaWYgKGRlcml2YXRpb24ubGVuZ3RoID09PSAxICYmIGRlcml2YXRpb25bMF0gPT09IEVtcHR5Q2hhcmFjdGVyICYmICFzZXRMaW5lLnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscy5hZGQoRW1wdHlDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGNvbnN0IGZpcnN0U2V0TWFwID0gbmV3IE1hcDxzdHJpbmcsIEdyYW1tZXJTZXRMaW5lPigpO1xyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIGZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICAvLyDlvqrnjq/kuIvpnaLmraXpqqQg55u05Yiw5rKh5pyJ5Y+Y5YyW5Li65q2iXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGxldCBoYXNDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgQSA9PiBCMEIxQjJCM1xyXG4gICAgICAgICAgICBpID0gMFxyXG4gICAgICAgICAgICBGSVJTVChCaSkgLSBFbXB0eUNoYXJhY3RlciDliqDlhaXliLAgRklSU1QoQSnkuK1cclxuICAgICAgICAgICAg5aaC5p6cRklSU1QoQjEp5LiN5ZCr5pyJRW1wdHlDaGFyYWN0ZXLpgIDlh7rlvqrnjq9cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIOiLpUIwLUIz5Z2H5ZCr5pyJRW1wdHlDaGFyYWN0ZXIg5bCGRW1wdHlDaGFyYWN0ZXLliqDlhaXliLBGSVJTVChBKeS4rVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZmlyc3RTZXQuZm9yRWFjaChzZXRMaW5lID0+IHtcclxuICAgICAgICAgICAgaWYgKHNldExpbmUuaXNUZXJtaW5hbCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXJNYXAuZ2V0KHNldExpbmUudG9ja2VuKSEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVyaXZhdGlvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvY2tlbiA9IGRlcml2YXRpb25baV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNldExpbmUudGVybWluYWxzLmhhcyh0b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cubG9nKHRvY2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMuYWRkKHRvY2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvY2tlbiAhPT0gRW1wdHlDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFNldExpbmUgPSBmaXJzdFNldE1hcC5nZXQodG9ja2VuKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZXRMaW5lLnRlcm1pbmFscy5mb3JFYWNoKHRlcm1pbmFsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCAhPT0gRW1wdHlDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNldExpbmUudGVybWluYWxzLmhhcyh0ZXJtaW5hbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMuYWRkKHRlcm1pbmFsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dFNldExpbmUudGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBkZXJpdmF0aW9uLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMuYWRkKEVtcHR5Q2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICghaGFzQ2hhbmdlKSBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBmaXJzdFNldC5maWx0ZXIodiA9PiAhdi5pc1Rlcm1pbmFsKS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgaWYgKGEudG9ja2VuIDwgYi50b2NrZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgIH0pLm1hcChzZXRMaW5lID0+IHtcclxuICAgICAgICBzZXRMaW5lLnRlcm1pbmFscyA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXRMaW5lLnRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYSA8IGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgcmV0dXJuIHNldExpbmU7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlcml2YXRpb25GaXJzdFNldChsZXhlcjogTGV4ZXIsIGRlcml2YXRpb246IHN0cmluZ1tdLCBmaXJzdFNldDogR3JhbW1lclNldCk6IEdyYW1tZXJTZXRMaW5lIHtcclxuICAgIGNvbnN0IGZpcnN0U2V0TWFwOiBNYXA8Tm9uVGVybWluYWwsIEdyYW1tZXJTZXRMaW5lPiA9IG5ldyBNYXAoKTtcclxuICAgIGZpcnN0U2V0LmZvckVhY2goc2V0TGluZSA9PiB7XHJcbiAgICAgICAgZmlyc3RTZXRNYXAuc2V0KHNldExpbmUudG9ja2VuLHNldExpbmUpO1xyXG4gICAgfSlcclxuICAgIGNvbnN0IHRlcm1pbmFscyA9IG5ldyBTZXQ8VGVybWluYWw+KCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcml2YXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0b2NrZW4gPSBkZXJpdmF0aW9uW2ldO1xyXG4gICAgICAgIGlmIChsZXhlci5pc1Rlcm1pbmFsKHRvY2tlbikpIHtcclxuICAgICAgICAgICAgaWYgKHRvY2tlbiAhPT0gRW1wdHlDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRlcm1pbmFscy5hZGQodG9ja2VuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbik/LnRlcm1pbmFscy5mb3JFYWNoKHRlcm1pbmFsID0+IHtcclxuICAgICAgICAgICAgICAgIHRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgPT09IGRlcml2YXRpb24ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0ZXJtaW5hbHMuYWRkKEVtcHR5Q2hhcmFjdGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvY2tlbjogZGVyaXZhdGlvbi5qb2luKFwiXCIpLFxyXG4gICAgICAgIHRlcm1pbmFscyxcclxuICAgIH0gXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZXJpdmF0aW9uRmlyc3RTZXRXaXRoTWFwKGxleGVyOiBMZXhlciwgZGVyaXZhdGlvbjogc3RyaW5nW10sIGZpcnN0U2V0TWFwOiBNYXA8Tm9uVGVybWluYWwsIEdyYW1tZXJTZXRMaW5lPik6IEdyYW1tZXJTZXRMaW5lIHtcclxuICAgIGNvbnN0IHRlcm1pbmFscyA9IG5ldyBTZXQ8VGVybWluYWw+KCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcml2YXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0b2NrZW4gPSBkZXJpdmF0aW9uW2ldO1xyXG4gICAgICAgIGlmIChsZXhlci5pc1Rlcm1pbmFsKHRvY2tlbikpIHtcclxuICAgICAgICAgICAgaWYgKHRvY2tlbiAhPT0gRW1wdHlDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRlcm1pbmFscy5hZGQodG9ja2VuKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbik/LnRlcm1pbmFscy5mb3JFYWNoKHRlcm1pbmFsID0+IHtcclxuICAgICAgICAgICAgICAgIHRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgPT09IGRlcml2YXRpb24ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0ZXJtaW5hbHMuYWRkKEVtcHR5Q2hhcmFjdGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvY2tlbjogZGVyaXZhdGlvbi5qb2luKFwiXCIpLFxyXG4gICAgICAgIHRlcm1pbmFscyxcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiBnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+KTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxHcmFtbWVyU2V0Pj4ge1xyXG4gICAgeWllbGQgW1xyXG4gICAgICAgIFwiMS4g5aaC5p6cWOW8j+S4gOS4que7iOe7k+espuWPt++8jOmCo+S5iEZJUlNUKFgpID0gWCBcIixcclxuICAgICAgICBcIjIuIOWmguaenCBYIC0+IM61IOaYr+S4gOS4quS6p+eUn+W8j++8jOmCo+S5iOWwhmXliqDkurrliLAgRklSU1TvvIhYKeS4reOAglwiLFxyXG4gICAgICAgIGAzLiBBIC0+IEIwQjFCMkIz77yMaSA9IDDvvIzlvqrnjq9pXHJcbiAgICAgICAgICAgIEZJUlNUKEJpKSAtIM61IOWKoOWFpeWIsCBGSVJTVChBKeS4rVxyXG4gICAgICAgICAgICDlpoLmnpxGSVJTVChCMSnOtVxyXG4gICAgICAgICAgICDoi6VCMCAtIEIz5Z2H5ZCr5pyJzrXvvIzlsIbOteWKoOWFpeWIsEZJUlNUKEEp5LitXHJcbiAgICAgICAgYCxcclxuICAgICAgICBcIjQuIOWOu+mZpOaJgOaciee7iOe7k+espuWPt+eahOihqOmhuVwiLFxyXG4gICAgXVxyXG4gICAgbG9nLmxvZyhcIltnZW5lcmF0ZUZpcnN0U2V0IHN0YXJ0XVwiKTtcclxuICAgIGNvbnN0IGdyYW1tZXJzID0gdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnMobGV4ZXIsIGluR3JhbW1lcnMpO1xyXG4gICAgbG9nLmxvZyhcIltncmFtbWVycyBhZnRlciB0cmFuc2ZlclN0cmluZzJHcmFtbWVyc11cIiwgZ3JhbW1lcnMpO1xyXG4gICAgY29uc3QgZmlyc3RTZXQ6IEdyYW1tZXJTZXQgPSBuZXcgQXJyYXkoLi4uZ3JhbW1lcnMubWFwKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogZ3JhbW1lci5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0PFRlcm1pbmFsPigpLFxyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGNvbnN0IGdyYW1tZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW11bXT4oKTtcclxuICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgZ3JhbW1lck1hcC5zZXQoZ3JhbW1lci5ub25UZXJtaW5hbCwgZ3JhbW1lci5kZXJpdmF0aW9ucyk7XHJcbiAgICB9KVxyXG4gICAgLyogXHJcbiAgICAgICAg5aaC5p6cWOW8j+S4gOS4que7iOe7k+espuWPt++8jOmCo+S5iEZJUlNUKFgpID0gWCBcclxuICAgICovXHJcbiAgICBmaXJzdFNldC5wdXNoKC4uLmxleGVyLnRlcm1pbmFscy5tYXAodGVybWluYWwgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldChbdGVybWluYWxbMF1dKSxcclxuICAgICAgICAgICAgaXNUZXJtaW5hbDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pKVxyXG4gICAgeWllbGQge1xyXG4gICAgICAgIHJ1bGVJbmRleDogMCxcclxuICAgICAgICByZXN1bHQ6IGZpcnN0U2V0XHJcbiAgICB9O1xyXG4gICAgLyogXHJcbiAgICAgICAg5aaC5p6cIFggPT4gzrUg5piv5LiA5Liq5Lqn55Sf5byP77yM6YKj5LmI5bCGZeWKoOS6uuWIsCBGSVJTVO+8iFgp5Lit44CCXHJcbiAgICAqL1xyXG4gICAgZmlyc3RTZXQuZm9yRWFjaChzZXRMaW5lID0+IHtcclxuICAgICAgICBpZiAoc2V0TGluZS5pc1Rlcm1pbmFsKSByZXR1cm47XHJcbiAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyTWFwLmdldChzZXRMaW5lLnRvY2tlbikhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uLmxlbmd0aCA9PT0gMSAmJiBkZXJpdmF0aW9uWzBdID09PSBFbXB0eUNoYXJhY3RlciAmJiAhc2V0TGluZS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMuYWRkKEVtcHR5Q2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICB5aWVsZCB7XHJcbiAgICAgICAgcnVsZUluZGV4OiAxLFxyXG4gICAgICAgIHJlc3VsdDogZmlyc3RTZXRcclxuICAgIH07XHJcbiAgICBjb25zdCBmaXJzdFNldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZmlyc3RTZXQpIHtcclxuICAgICAgICBmaXJzdFNldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgLy8g5b6q546v5LiL6Z2i5q2l6aqkIOebtOWIsOayoeacieWPmOWMluS4uuatolxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBsZXQgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIEEgPT4gQjBCMUIyQjNcclxuICAgICAgICAgICAgaSA9IDBcclxuICAgICAgICAgICAgRklSU1QoQmkpIC0gRW1wdHlDaGFyYWN0ZXIg5Yqg5YWl5YiwIEZJUlNUKEEp5LitXHJcbiAgICAgICAgICAgIOWmguaenEZJUlNUKEIxKeS4jeWQq+aciUVtcHR5Q2hhcmFjdGVy6YCA5Ye65b6q546vXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICDoi6VCMC1CM+Wdh+WQq+aciUVtcHR5Q2hhcmFjdGVyIOWwhkVtcHR5Q2hhcmFjdGVy5Yqg5YWl5YiwRklSU1QoQSnkuK1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZpcnN0U2V0LmZvckVhY2goc2V0TGluZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzZXRMaW5lLmlzVGVybWluYWwpIHJldHVybjtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyTWFwLmdldChzZXRMaW5lLnRvY2tlbikhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcml2YXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2NrZW4gPSBkZXJpdmF0aW9uW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZXhlci5pc1Rlcm1pbmFsKHRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXRMaW5lLnRlcm1pbmFscy5oYXModG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmxvZyh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2NrZW4gIT09IEVtcHR5Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTZXRMaW5lID0gZmlyc3RTZXRNYXAuZ2V0KHRvY2tlbikhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2V0TGluZS50ZXJtaW5hbHMuZm9yRWFjaCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVybWluYWwgIT09IEVtcHR5Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXRMaW5lLnRlcm1pbmFscy5oYXModGVybWluYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZCh0ZXJtaW5hbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRTZXRMaW5lLnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmUudGVybWluYWxzLmFkZChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoIWhhc0NoYW5nZSkgYnJlYWs7XHJcbiAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICBydWxlSW5kZXg6IDIsXHJcbiAgICAgICAgICAgIHJlc3VsdDogZmlyc3RTZXRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgeWllbGQge1xyXG4gICAgICAgIHJ1bGVJbmRleDogMyxcclxuICAgICAgICByZXN1bHQ6IGZpcnN0U2V0LmZpbHRlcih2ID0+ICF2LmlzVGVybWluYWwpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEudG9ja2VuIDwgYi50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkubWFwKHNldExpbmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscyA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXRMaW5lLnRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZ2VuZXJhdGVGaXJzdFNldCBmcm9tIFwiLi9maXJzdFNldFwiO1xyXG5pbXBvcnQgTGV4ZXIgZnJvbSBcIi4vbGV4ZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lclNldCwgR3JhbW1lclNldExpbmUsIFByb2Nlc3MsIFJ1bGUsIFRlcm1pbmFsIH0gZnJvbSBcIi4vdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgeyB0cmFuc2ZlclN0cmluZzJHcmFtbWVycyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEVtcHR5Q2hhcmFjdGVyLCBFbmRpbmdDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlscy9jb25zdFwiO1xyXG5pbXBvcnQgbG9nIGZyb20gXCIuL3V0aWxzL2xvZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlRmxsb3dTZXQobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LCBmaXJzdFNldD86IEdyYW1tZXJTZXQpOiBHcmFtbWVyU2V0IHtcclxuICAgIGxvZy5sb2coXCJbZ2VuZXJhdGVGbGxvd1NldCBzdGFydF1cIik7XHJcbiAgICBpZiAoIWZpcnN0U2V0KSB7XHJcbiAgICAgICAgZmlyc3RTZXQgPSBnZW5lcmF0ZUZpcnN0U2V0KGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlyc3RTZXQgPSBBcnJheS5mcm9tKGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGdyYW1tZXJzID0gdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnMobGV4ZXIsIGluR3JhbW1lcnMpO1xyXG4gICAgbG9nLmxvZyhcIltncmFtbWVycyBhZnRlciB0cmFuc2ZlclN0cmluZzJHcmFtbWVyc11cIiwgZ3JhbW1lcnMpO1xyXG4gICAgLypcclxuICAgICAgICAxLiDlsIYk5pS+5YiwRk9MTE9XKFMp5LitXHJcbiAgICAqL1xyXG4gICAgY29uc3QgZm9sbG93U2V0OiBHcmFtbWVyU2V0ID0gbmV3IEFycmF5KC4uLmdyYW1tZXJzLm1hcChncmFtbWVyID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldDxUZXJtaW5hbD4oW0VuZGluZ0NoYXJhY3Rlcl0pLFxyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGNvbnN0IGdyYW1tZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW11bXT4oKTtcclxuICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgZ3JhbW1lck1hcC5zZXQoZ3JhbW1lci5ub25UZXJtaW5hbCwgZ3JhbW1lci5kZXJpdmF0aW9ucyk7XHJcbiAgICB9KVxyXG4gICAgZm9sbG93U2V0LnB1c2goLi4ubGV4ZXIudGVybWluYWxzLm1hcCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0KFtFbmRpbmdDaGFyYWN0ZXJdKSxcclxuICAgICAgICAgICAgaXNUZXJtaW5hbDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pKVxyXG5cclxuICAgIGNvbnN0IGZvbGxvd1NldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgZm9sbG93U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlyc3RTZXQucHVzaCguLi5sZXhlci50ZXJtaW5hbHMubWFwKHRlcm1pbmFsID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b2NrZW46IHRlcm1pbmFsWzBdLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQoW3Rlcm1pbmFsWzBdXSksXHJcbiAgICAgICAgICAgIGlzVGVybWluYWw6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9KSlcclxuICAgIGNvbnN0IGZpcnN0U2V0TWFwID0gbmV3IE1hcDxzdHJpbmcsIEdyYW1tZXJTZXRMaW5lPigpO1xyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIGZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICAvLyDlvqrnjq/kuIvpnaLmraXpqqQg55u05Yiw5rKh5pyJ5Y+Y5YyW5Li65q2iXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGxldCBoYXNDaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAvKiBcclxuICAgICAgICAgICAgMi7lpoLmnpzlrZjlnKjkuIDkuKrkuqfnlJ/lvI9BID0+IGFCYiDvvIwg6YKj5LmIRklSU1QoYikg5Lit6ZmkzrUg5LmL5aSW55qE5omA5pyJ56ym5Y+36YO95ZyoRk9MTE9XKEIp5Lit44CCXHJcbiAgICAgICAgICAgIGF0dGVudGlvbjogQSA9PiBhQkNkIOmCo+S5iOaKimZpcnN0KENkKeWKoOWFpeWIsEZvbGxvdyhCKeS4reWOu1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyLmRlcml2YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZGVyaXZhdGlvbi5sZW5ndGggLSAyOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGRlcml2YXRpb25baV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGRlcml2YXRpb24ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxzID0gZmlyc3RTZXRNYXAuZ2V0KGRlcml2YXRpb25bal0pIS50ZXJtaW5hbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0TGluZT8udGVybWluYWxzLmhhcyh0ZXJtaW5hbCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBID0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSA9PiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcFNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXIuZGVyaXZhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXJpdmF0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9ja2VuID0gZGVyaXZhdGlvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHBTZXRMaW5lIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXRMaW5lPy50ZXJtaW5hbHMuaGFzKHRlcm1pbmFsKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICghaGFzQ2hhbmdlKSBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBmb2xsb3dTZXQuZmlsdGVyKHYgPT4gIXYuaXNUZXJtaW5hbCkuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIGlmIChhLnRvY2tlbiA8IGIudG9ja2VuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9KS5tYXAoc2V0TGluZSA9PiB7XHJcbiAgICAgICAgc2V0TGluZS50ZXJtaW5hbHMgPSBuZXcgU2V0KEFycmF5LmZyb20oc2V0TGluZS50ZXJtaW5hbHMpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUobGV4ZXI6IExleGVyLCBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LCBmaXJzdFNldD86IEdyYW1tZXJTZXQpOiBJdGVyYWJsZUl0ZXJhdG9yPFJ1bGUgfCBQcm9jZXNzPEdyYW1tZXJTZXQ+PiB7XHJcbiAgICB5aWVsZCBbXHJcbiAgICAgICAgXCIxLiDlsIYk5pS+5YiwRk9MTE9XKFMp5LitXCIsXHJcbiAgICAgICAgXCIyLiDlpoLmnpzlrZjlnKjkuIDkuKrkuqfnlJ/lvI9BIC0+IGFCYiDvvIwg6YKj5LmIRklSU1QoYikg5Lit6ZmkzrUg5LmL5aSW55qE5omA5pyJ56ym5Y+36YO95ZyoRk9MTE9XKEIp5Lit44CCYXR0ZW50aW9uOiBBIC0+IGFCQ2Qg6YKj5LmI5oqKZmlyc3QoQ2Qp5Yqg5YWl5YiwRm9sbG93KEIp5Lit5Y67XCIsXHJcbiAgICAgICAgXCIzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBIC0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSAtPiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglwiLFxyXG4gICAgICAgIFwiNC4g5Y676Zmk5omA5pyJ57uI57uT56ym5Y+355qE6KGo6aG5XCIsXHJcbiAgICBdXHJcbiAgICBsb2cubG9nKFwiW2dlbmVyYXRlRmxsb3dTZXQgc3RhcnRdXCIpO1xyXG4gICAgaWYgKCFmaXJzdFNldCkge1xyXG4gICAgICAgIGZpcnN0U2V0ID0gZ2VuZXJhdGVGaXJzdFNldChsZXhlciwgaW5HcmFtbWVycyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpcnN0U2V0ID0gQXJyYXkuZnJvbShmaXJzdFNldCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGxvZy5sb2coXCJbZ3JhbW1lcnMgYWZ0ZXIgdHJhbnNmZXJTdHJpbmcyR3JhbW1lcnNdXCIsIGdyYW1tZXJzKTtcclxuICAgIC8qXHJcbiAgICAgICAgMS4g5bCGJOaUvuWIsEZPTExPVyhTKeS4rVxyXG4gICAgKi9cclxuICAgIGNvbnN0IGZvbGxvd1NldDogR3JhbW1lclNldCA9IG5ldyBBcnJheSguLi5ncmFtbWVycy5tYXAoZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbHM6IG5ldyBTZXQ8VGVybWluYWw+KFtFbmRpbmdDaGFyYWN0ZXJdKSxcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCBncmFtbWVyTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdW10+KCk7XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGdyYW1tZXJNYXAuc2V0KGdyYW1tZXIubm9uVGVybWluYWwsIGdyYW1tZXIuZGVyaXZhdGlvbnMpO1xyXG4gICAgfSlcclxuICAgIGZvbGxvd1NldC5wdXNoKC4uLmxleGVyLnRlcm1pbmFscy5tYXAodGVybWluYWwgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgIHRlcm1pbmFsczogbmV3IFNldChbRW5kaW5nQ2hhcmFjdGVyXSksXHJcbiAgICAgICAgICAgIGlzVGVybWluYWw6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9KSlcclxuICAgIHlpZWxkIHtcclxuICAgICAgICBydWxlSW5kZXg6IDAsXHJcbiAgICAgICAgcmVzdWx0OiBmb2xsb3dTZXRcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb2xsb3dTZXRNYXAgPSBuZXcgTWFwPHN0cmluZywgR3JhbW1lclNldExpbmU+KCk7XHJcbiAgICBmb3IgKGxldCBzZXRMaW5lIG9mIGZvbGxvd1NldCkge1xyXG4gICAgICAgIGZvbGxvd1NldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0U2V0LnB1c2goLi4ubGV4ZXIudGVybWluYWxzLm1hcCh0ZXJtaW5hbCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgdGVybWluYWxzOiBuZXcgU2V0KFt0ZXJtaW5hbFswXV0pLFxyXG4gICAgICAgICAgICBpc1Rlcm1pbmFsOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSkpXHJcbiAgICBjb25zdCBmaXJzdFNldE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZmlyc3RTZXQpIHtcclxuICAgICAgICBmaXJzdFNldE1hcC5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgLy8g5b6q546v5LiL6Z2i5q2l6aqkIOebtOWIsOayoeacieWPmOWMluS4uuatolxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBsZXQgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgLyogXHJcbiAgICAgICAgICAgIDIu5aaC5p6c5a2Y5Zyo5LiA5Liq5Lqn55Sf5byPQSA9PiBhQmIg77yMIOmCo+S5iEZJUlNUKGIpIOS4remZpM61IOS5i+WklueahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICAgICBhdHRlbnRpb246IEEgPT4gYUJDZCDpgqPkuYjmiopmaXJzdChDZCnliqDlhaXliLBGb2xsb3coQinkuK3ljrtcclxuICAgICAgICAqL1xyXG4gICAgICAgIGdyYW1tZXJzLmZvckVhY2goZ3JhbW1lciA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lci5kZXJpdmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRlcml2YXRpb24ubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldChkZXJpdmF0aW9uW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBkZXJpdmF0aW9uLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFscyA9IGZpcnN0U2V0TWFwLmdldChkZXJpdmF0aW9uW2pdKSEudGVybWluYWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiB0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCA9PT0gRW1wdHlDaGFyYWN0ZXIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldExpbmU/LnRlcm1pbmFscy5oYXModGVybWluYWwpKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaW5lPy50ZXJtaW5hbHMuYWRkKHRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoaGFzQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgICAgIHJ1bGVJbmRleDogMSxcclxuICAgICAgICAgICAgICAgIHJlc3VsdDogZm9sbG93U2V0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGFzQ2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAzLuWmguaenOWtmOWcqOS4gOS4quS6p+eUn+W8jyBBID0+IGFCIO+8jCDmiJblrZjlnKjkuqfnlJ/lvI8gQSA9PiBhQmIg5LiURklSU1QoYikg5YyF5ZCrIM61IO+8jOmCo+S5iEZPTExPVyhBKeS4reeahOaJgOacieespuWPt+mDveWcqEZPTExPVyhCKeS4reOAglxyXG4gICAgICAgICovXHJcbiAgICAgICAgZ3JhbW1lcnMuZm9yRWFjaChncmFtbWVyID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcFNldExpbmUgPSBmb2xsb3dTZXRNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkZXJpdmF0aW9uIG9mIGdyYW1tZXIuZGVyaXZhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXJpdmF0aW9uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9ja2VuID0gZGVyaXZhdGlvbltpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRMaW5lID0gZm9sbG93U2V0TWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIHBTZXRMaW5lIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBFbXB0eUNoYXJhY3RlcikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXRMaW5lPy50ZXJtaW5hbHMuaGFzKHRlcm1pbmFsKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExpbmU/LnRlcm1pbmFscy5hZGQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0U2V0TWFwLmdldCh0b2NrZW4pIS50ZXJtaW5hbHMuaGFzKEVtcHR5Q2hhcmFjdGVyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChoYXNDaGFuZ2UpIHtcclxuICAgICAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICAgICAgcnVsZUluZGV4OiAyLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBmb2xsb3dTZXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWhhc0NoYW5nZSkgYnJlYWs7XHJcbiAgICB9XHJcbiAgICB5aWVsZCB7XHJcbiAgICAgICAgcnVsZUluZGV4OiAzLFxyXG4gICAgICAgIHJlc3VsdDogZm9sbG93U2V0LmZpbHRlcih2ID0+ICF2LmlzVGVybWluYWwpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEudG9ja2VuIDwgYi50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkubWFwKHNldExpbmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRMaW5lLnRlcm1pbmFscyA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXRMaW5lLnRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHJldHVybiBzZXRMaW5lO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTm9uVGVybWluYWwsIFRlcm1pbmFsLCBUb2NrZW4gfSBmcm9tIFwiLi90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IHNhZmVSZWdDaGFyYWN0ZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBFbXB0eUNoYXJhY3RlciwgRW5kaW5nQ2hhcmFjdGVyIH0gZnJvbSBcIi4vdXRpbHMvY29uc3RcIjtcclxuaW1wb3J0IGxvZyBmcm9tIFwiLi91dGlscy9sb2dcIjtcclxuXHJcblxyXG4vL+ivjeazleWIhuaekOWZqOS4jeS7heS7heWQkeivreazleWIhuaekOWZqOi/lOWbnuS4gOS4quivjeazleWNleWFg+WQjeWtl++8jOi/mOS8mui/lOWbnuS4gOS4quaPj+i/sOivpeivjeazleWNleWFg+eahOivjee0oOeahOWxnuaAp+WAvFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXhlciB7XHJcbiAgICBwdWJsaWMgbm9uVGVybWluYWxzOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgcHVibGljIHRlcm1pbmFsczogQXJyYXk8W3N0cmluZywgUmVnRXhwXT47XHJcbiAgICBjdXJyZW50TGluZTogbnVtYmVyID0gMDtcclxuICAgIGN1cnJlbnRDb2x1bW46IG51bWJlciA9IDA7XHJcbiAgICBzb3VyY2U6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXJtaW5hbHM6IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+LCBub25UZXJtaW5hbHM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgIC8vIOi+k+WFpeaJgOacieeahOe7iOe7k+espuWPt+mbhuWQiFxyXG4gICAgICAgIHRoaXMubm9uVGVybWluYWxzID0gWy4uLm5vblRlcm1pbmFsc107XHJcbiAgICAgICAgdGhpcy50ZXJtaW5hbHMgPSBbLi4udGVybWluYWxzXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRTb3VyY2Uoc291cmNlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDb2x1bW4gPSAwO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFNvdXJjZSgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc291cmNlKVxyXG4gICAgfVxyXG4gICAgcHVibGljIHJlbWFpblN0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zbGljZSh0aGlzLmN1cnJlbnRDb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIG5leHQoKTogVG9ja2VuIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29sdW1uID49IHRoaXMuc291cmNlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdG9ja2VuOiBFbmRpbmdDaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW46IEVuZGluZ0NoYXJhY3RlclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiB0aGlzLnRlcm1pbmFscykge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHRoaXMuc291cmNlLnNsaWNlKHRoaXMuY3VycmVudENvbHVtbikubWF0Y2godGVybWluYWxbMV0pO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiB0ZXJtaW5hbFswXSxcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IG1hdGNoUmVzdWx0WzBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBb6K+N5rOV5YiG5p6QXTog5Yy56YWN5LiL5LiA5LiqdG9ja2Vu5aSx6LSlICDmupDovpPlhaXlrZfnrKbkuLI6ICR7dGhpcy5zb3VyY2V9IOWJqeS9meWtl+espuS4sjogJHt0aGlzLnNvdXJjZS5zbGljZSh0aGlzLmN1cnJlbnRDb2x1bW4pfWApO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHBvcCgpOiBUb2NrZW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvY2tlbjogVG9ja2VuID0gdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgICAgIGlmICh0b2NrZW4udG9ja2VuICE9PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENvbHVtbiArPSB0b2NrZW4ub3JpZ2luLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9ja2VuO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbmV4dE5vdEVtcHR5VGVybWluYWwoKTogVG9ja2VuIHtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b2NrZW4gPSB0aGlzLm5leHQoKTtcclxuICAgICAgICAgICAgaWYgKHRvY2tlbi50b2NrZW4gIT09IFwid2hpdGVTcGFjZVwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9ja2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbHVtbiArPSB0b2NrZW4ub3JpZ2luLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbmV4dE5vdEVtcHR5KHN0ZXA6IG51bWJlcik6IFRvY2tlbiB7XHJcbiAgICAgICAgY29uc3QgYmFjayA9IHRoaXMuY3VycmVudENvbHVtbjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXAgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5wb3BOb3RFbXB0eVRlcm1pbmFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IHRoaXMubmV4dE5vdEVtcHR5VGVybWluYWwoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDb2x1bW4gPSBiYWNrO1xyXG4gICAgICAgIHJldHVybiB0b2NrZW47XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcG9wTm90RW1wdHlUZXJtaW5hbCgpOiBUb2NrZW4ge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IHRoaXMubmV4dE5vdEVtcHR5VGVybWluYWwoKTtcclxuICAgICAgICBpZiAodG9ja2VuLnRvY2tlbiAhPT0gRW5kaW5nQ2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbHVtbiArPSB0b2NrZW4ub3JpZ2luLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvY2tlbjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBpc1Rlcm1pbmFsKHN0cjogc3RyaW5nKTpib29sZWFuIHtcclxuICAgICAgICBsZXQgaXNUZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub25UZXJtaW5hbHMuc29tZSh2ID0+IHtcclxuICAgICAgICAgICAgaWYgKHYgPT09IHN0cikge1xyXG4gICAgICAgICAgICAgICAgaXNUZXJtaW5hbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGlzVGVybWluYWw7XHJcbiAgICB9XHJcbiAgICAvLyDliIflibLmjqjlr7zlvI9cclxuICAgIHB1YmxpYyBzcGxpdERlcml2YXRpb24oc3RyOiBzdHJpbmcpOiBBcnJheTxOb25UZXJtaW5hbCB8IFRlcm1pbmFsPiB7XHJcbiAgICAgICAgY29uc3QgdGVybWluYWxzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGxldCBjb3VudFRpbWUgPSAwO1xyXG4gICAgICAgIGNvbnN0IE1BWF9FWENVVEUgPSA1MDAwMDtcclxuICAgICAgICBjb25zdCBpblN0ciA9IHN0cjtcclxuICAgICAgICB3aGlsZSAoc3RyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBub25UZXJtaW5hbCBvZiB0aGlzLm5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChcIl5cIiArIG5vblRlcm1pbmFsKSlcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFscy5wdXNoKG5vblRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UobWF0Y2hSZXN1bHRbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiB0aGlzLnRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChcIl5cIiArIHNhZmVSZWdDaGFyYWN0ZXIodGVybWluYWxbMF0pKSlcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFscy5wdXNoKHRlcm1pbmFsWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc2xpY2UobWF0Y2hSZXN1bHRbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb3VudFRpbWUrKztcclxuICAgICAgICAgICAgaWYgKGNvdW50VGltZSA+IE1BWF9FWENVVEUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW3NwbGl0RGVyaXZhdGlvbl0gZXJyb3I6IGV4Y3V0ZSBvdmVyIE1BWF9FWENVVEUgc3RyOiAke2luU3RyfSAgcmVtYWluaW5nIHN0cjogJHtzdHJ9IGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZXJtaW5hbHM7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAg55Sf5oiQ5o+Q5YWs5Zug5a2QIOS7peWPiiDmtojpmaTlt6bpgJLlvZLkvb/nlKjnmoTpnZ7nu4jnu5PnrKZcclxuICAqL1xyXG4gICAgcHVibGljIGdldE5ld05vblRlcm1pbmFsKG5vblRlcm1pbmFsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCB0bXAgPSBub25UZXJtaW5hbDtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICB0bXAgKz0gXCInXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5vblRlcm1pbmFscy5pbmRleE9mKHRtcCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vblRlcm1pbmFscy51bnNoaWZ0KHRtcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgZ2V0RGVyaXZhdGlvbkZpcnN0U2V0V2l0aE1hcCB9IGZyb20gXCJAL2ZpcnN0U2V0XCI7XHJcbmltcG9ydCBMZXhlciBmcm9tIFwiQC9sZXhlclwiO1xyXG5pbXBvcnQgeyBBc3ROb2RlLCBHcmFtbWVyLCBHcmFtbWVyU2V0LCBHcmFtbWVyU2V0TGluZSwgTm9uVGVybWluYWwsIFByZWRpY3RMaW5lLCBQcmVkaWN0UHJvY2Vzc0xpbmUsIFByZWRpY3RUYWJsZSwgUHJvY2VzcywgUnVsZSwgVGVybWluYWwgfSBmcm9tIFwiQC90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzIH0gZnJvbSBcIkAvdXRpbHNcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIsIEVuZGluZ0NoYXJhY3RlciB9IGZyb20gXCJAL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIkAvdXRpbHMvbG9nXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5lcmF0b3JQcmVkaWN0VGFibGUoXHJcbiAgICBsZXhlcjogTGV4ZXIsXHJcbiAgICBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LFxyXG4gICAgZmlyc3RTZXQ6IEdyYW1tZXJTZXQsXHJcbiAgICBmb2xsb3dTZXQ6IEdyYW1tZXJTZXQsXHJcbik6IFByZWRpY3RUYWJsZSB7XHJcbiAgICAvKlxyXG4gICAg5a+56K+t5rOV5Lit55qE5q+P5p2h5Lqn55Sf5byP77yaIEEgLT4gdSDvvJpcclxuICAgICAgKDEp5a+5IEZpcnN0KHUpIOS4reeahOaJgOaciee7iOe7k+espiBhIO+8iOS4jeWQqyDOtSDvvInvvIznva4gTVtBLCBhXSA9IOKAnEEgLT4gdeKAnSDvvJtcclxuICAgICAgKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIFxyXG4gICovXHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGNvbnN0IHByZWRpY3RUYWJsZTogUHJlZGljdFRhYmxlID0gW107XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgbGV4ZXIubm9uVGVybWluYWxzLmZvckVhY2gobm9uVGVybWluYWwgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgbm9uVGVybWluYWw6IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbDJEZXJpdmF0aW9uOiBuZXcgTWFwPFRlcm1pbmFsLCBHcmFtbWVyPigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbm9uVGVybWluYWwyVGFibGVSb3dNYXAuc2V0KG5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyRmlyc3RTZXRNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgbm9uVGVybWluYWwyRm9sbG93U2V0TGluZS5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICBncmFtbWVycy5mb3JFYWNoKGdyYW1tZXIgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGRlcml2YXRpb24gb2YgZ3JhbW1lci5kZXJpdmF0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uRmlyc3RTZXQgPSBnZXREZXJpdmF0aW9uRmlyc3RTZXRXaXRoTWFwKGxleGVyLCBkZXJpdmF0aW9uLCBub25UZXJtaW5hbDJGaXJzdFNldE1hcCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldChncmFtbWVyLm5vblRlcm1pbmFsKTtcclxuICAgICAgICAgICAgbG9nLmxvZyhkZXJpdmF0aW9uRmlyc3RTZXQpO1xyXG4gICAgICAgICAgICAvLyAoMSnlr7kgRmlyc3QodSkg5Lit55qE5omA5pyJ57uI57uT56ymIGEg77yI5LiN5ZCrIM61IO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIO+8m1xyXG4gICAgICAgICAgICBsZXQgaGFzU2V0OiBNYXA8c3RyaW5nLGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiBkZXJpdmF0aW9uRmlyc3RTZXQudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVybWluYWwgPT09IEVtcHR5Q2hhcmFjdGVyKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsR3JhbW1lcjogR3JhbW1lciB8IHVuZGVmaW5lZCA9IHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgaGFzU2V0LnNldCh0ZXJtaW5hbCx0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY2VsbEdyYW1tZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb25zOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLnNldCh0ZXJtaW5hbCwgY2VsbEdyYW1tZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIuZGVyaXZhdGlvbnMucHVzaChkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAoMinoi6UgRmlyc3QodSkg5ZCrIM61IO+8jOWImeWvuSBGb2xsb3coQSkg5Lit55qE5omA5pyJ56ym5Y+3IGEg77yI5Y+v5ZCrICQg77yJ77yM572uIE1bQSwgYV0gPSDigJxBIC0+IHXigJ0gXHJcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uRmlyc3RTZXQudGVybWluYWxzLmhhcyhFbXB0eUNoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpIS50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihoYXNTZXQuaGFzKHRlcm1pbmFsKSljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbEdyYW1tZXI6IEdyYW1tZXIgfCB1bmRlZmluZWQgPSB0YWJsZUxpbmU/LnRlcm1pbmFsMkRlcml2YXRpb24uZ2V0KHRlcm1pbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNlbGxHcmFtbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxHcmFtbWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGdyYW1tZXIubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uczogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLnNldCh0ZXJtaW5hbCwgY2VsbEdyYW1tZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lci5kZXJpdmF0aW9ucy5wdXNoKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQcmVkaWNrVGFibGVJc1ZhbGlkKGxleGVyOiBMZXhlciwgdGFibGU6IFByZWRpY3RUYWJsZSk6IGJvb2xlYW4ge1xyXG4gICAgLy8g5q+P5LiAQ2VsbOacgOWkmuWPquiDveacieS4gOS4quaOqOWvvOW8jyBcclxuICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIGxleGVyLnRlcm1pbmFscykge1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IHRlcm1pbmFsWzBdO1xyXG4gICAgICAgIHRhYmxlLmZvckVhY2godGFibGVMaW5lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdDJkID0gdGFibGVMaW5lLnRlcm1pbmFsMkRlcml2YXRpb24uZ2V0KHRvY2tlbik7XHJcbiAgICAgICAgICAgIGlmICh0MmQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0MmQuZGVyaXZhdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZWRpY3QobGV4ZXI6IExleGVyLCB0YWJsZTogUHJlZGljdFRhYmxlLCBfaW5wdXQ6IHN0cmluZywgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBOb25UZXJtaW5hbCk6IEFycmF5PFByZWRpY3RQcm9jZXNzTGluZT4ge1xyXG4gICAgbGV0IGlucHV0ID0gX2lucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgIGNvbnN0IHByZWRpY3RQcm9jZXNzOiBBcnJheTxQcmVkaWN0UHJvY2Vzc0xpbmU+ID0gW107XHJcbiAgICBsZXQgYXN0SWR4ID0gMTtcclxuICAgIGNvbnN0IGFzdE5vZGU6IEFzdE5vZGUgPSB7XHJcbiAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgdGV4dDogcGFyc2VTdGFydE5vblRlcm1pbmFsLFxyXG4gICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBhc3RTdGFjayA9IFthc3ROb2RlXTtcclxuICAgIGxldCBjdXJyZW50U3RhdGU6IFByZWRpY3RQcm9jZXNzTGluZSA9IHtcclxuICAgICAgICBwYXJzZVN0YWNrOiBbRW5kaW5nQ2hhcmFjdGVyLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWxdLFxyXG4gICAgICAgIHJlbWFpbmluZ0lucHV0OiBfaW5wdXQsXHJcbiAgICAgICAgcGFyc2VBY3Rpb246IFwiXCIsXHJcbiAgICB9XHJcbiAgICBsZXhlci5zZXRTb3VyY2UoaW5wdXQpO1xyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyVGFibGVSb3dNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBQcmVkaWN0TGluZT4oKTtcclxuICAgIHRhYmxlLmZvckVhY2godGFibGVMaW5lID0+IHtcclxuICAgICAgICBub25UZXJtaW5hbDJUYWJsZVJvd01hcC5zZXQodGFibGVMaW5lLm5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgfSlcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgLy8g5Y+W5Ye65qCI6aG25YWD57SgXHJcbiAgICAgICAgICAgIGNvbnN0IHRvY2tlbiA9IGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrW2N1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGV4ZXIuaXNUZXJtaW5hbCh0b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2NrZW4gPT09IHRlcm1pbmFsLnRvY2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoIHN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VBY3Rpb24gPSBgbWF0Y2ggJHt0ZXJtaW5hbC50b2NrZW59JHt0ZXJtaW5hbC50b2NrZW49PT10ZXJtaW5hbC5vcmlnaW4/XCJcIjpcIjogXCIrdGVybWluYWwub3JpZ2lufWBcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyZW50U3RhdGUpKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXhlci5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VBY3Rpb24gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUucGFyc2VTdGFjay5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzdE5vZGUgPSBhc3RTdGFjay5wb3AoKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFzdE5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRlcm1pbmFsLm9yaWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g6Z2e57uI57uT56ym5Yy56YWN6ZSZ6K+vOiAke3RvY2tlbn0gc3RhY2s6ICR7Y3VycmVudFN0YXRlLnBhcnNlU3RhY2t9IOWJqeS9meWtl+espuS4sjogJHtsZXhlci5yZW1haW5TdHJpbmcoKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSB0ZXJtaW5hbCBtYXRjaCBlcnJvciB0b2NrZW46ICR7dG9ja2VufSBzdGFjazogJHtjdXJyZW50U3RhdGUucGFyc2VTdGFja30gcmVtYWluaW5nSW5wdXQ6ICR7bGV4ZXIucmVtYWluU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lOiBQcmVkaWN0TGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldCh0b2NrZW4pITtcclxuICAgICAgICAgICAgY29uc3QgZ3JhbW1lcjogR3JhbW1lciA9IHRhYmxlTGluZSEudGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwudG9ja2VuKTtcclxuICAgICAgICAgICAgaWYgKGdyYW1tZXI/LmRlcml2YXRpb25zPy5sZW5ndGggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g5YiG5p6Q6L6T5YWl6ZSZ6K+vICDnu4jnu5PnrKY6ICR7dGVybWluYWx9ICAg5Ymp5L2Z5a2X56ym5LiyOiAke2xleGVyLnJlbWFpblN0cmluZygpfSDmlofms5U6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSBwYXJzZSBpbnB1dCBmYWlsIFxcbiB0ZXJtaW5hbDogJHt0ZXJtaW5hbH0gXFxuICByZW1haW5pbmdJbnB1dDogJHtsZXhlci5yZW1haW5TdHJpbmcoKX0gXFxuIGdyYW1tZXI6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYFByZWRpY3QgJHtncmFtbWVyLm5vblRlcm1pbmFsfSAtPiAke2dyYW1tZXIuZGVyaXZhdGlvbnNbMF0uam9pbihcIiBcIil9YDtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIltwcmVkaWN0IFN0YXRlXVwiLCBjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gZ3JhbW1lci5kZXJpdmF0aW9uc1swXS5maWx0ZXIoY2hhciA9PiBjaGFyICE9PSBFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0b2NrZW4gb2YgZGVyaXZhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXN0U3RhY2sucHVzaCguLi5bLi4uYXN0Tm9kZS5jaGlsZHJlbl0ucmV2ZXJzZSgpKTtcclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlU3RhY2sucHVzaCguLi5kZXJpdmF0aW9uLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2goZTogYW55KSB7XHJcbiAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gZS50b1N0cmluZygpO1xyXG4gICAgICAgIHByZWRpY3RQcm9jZXNzLnB1c2goY3VycmVudFN0YXRlKTtcclxuICAgIH1cclxuICAgIChwcmVkaWN0UHJvY2VzcyBhcyBhbnkpLmFzdE5vZGUgPSBhc3ROb2RlXHJcbiAgICByZXR1cm4gcHJlZGljdFByb2Nlc3M7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogcHJlZGljdFByb2dyZXNzaXZlKGxleGVyOiBMZXhlciwgdGFibGU6IFByZWRpY3RUYWJsZSwgX2lucHV0OiBzdHJpbmcsIHBhcnNlU3RhcnROb25UZXJtaW5hbDogTm9uVGVybWluYWwpOiBJdGVyYWJsZUl0ZXJhdG9yPEFycmF5PFByZWRpY3RQcm9jZXNzTGluZT4+IHtcclxuICAgIGxldCBpbnB1dCA9IF9pbnB1dC5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICBjb25zdCBwcmVkaWN0UHJvY2VzczogQXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPiA9IFtdO1xyXG4gICAgbGV0IGFzdElkeCA9IDE7XHJcbiAgICBjb25zdCBhc3ROb2RlOiBBc3ROb2RlID0ge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIHRleHQ6IHBhcnNlU3RhcnROb25UZXJtaW5hbCxcclxuICAgICAgICBjaGVjazogZmFsc2UsXHJcbiAgICB9O1xyXG4gICAgKHByZWRpY3RQcm9jZXNzIGFzIGFueSkuYXN0Tm9kZSA9IGFzdE5vZGVcclxuICAgIGNvbnN0IGFzdFN0YWNrID0gW2FzdE5vZGVdO1xyXG4gICAgbGV0IGN1cnJlbnRTdGF0ZTogUHJlZGljdFByb2Nlc3NMaW5lID0ge1xyXG4gICAgICAgIHBhcnNlU3RhY2s6IFtFbmRpbmdDaGFyYWN0ZXIsIHBhcnNlU3RhcnROb25UZXJtaW5hbF0sXHJcbiAgICAgICAgcmVtYWluaW5nSW5wdXQ6IF9pbnB1dCxcclxuICAgICAgICBwYXJzZUFjdGlvbjogXCJcIixcclxuICAgIH1cclxuICAgIGxleGVyLnNldFNvdXJjZShpbnB1dCk7XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgdGFibGUuZm9yRWFjaCh0YWJsZUxpbmUgPT4ge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLnNldCh0YWJsZUxpbmUubm9uVGVybWluYWwsIHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgeWllbGQgcHJlZGljdFByb2Nlc3M7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIC8vIOWPluWHuuagiOmhtuWFg+e0oFxyXG4gICAgICAgICAgICBjb25zdCB0b2NrZW4gPSBjdXJyZW50U3RhdGUucGFyc2VTdGFja1tjdXJyZW50U3RhdGUucGFyc2VTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGxleGVyLmlzVGVybWluYWwodG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBsZXhlci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9ja2VuID09PSB0ZXJtaW5hbC50b2NrZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaCBzdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYG1hdGNoICR7dGVybWluYWwudG9ja2VufSR7dGVybWluYWwudG9ja2VuPT09dGVybWluYWwub3JpZ2luP1wiXCI6XCI6IFwiK3Rlcm1pbmFsLm9yaWdpbn1gXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdFByb2Nlc3MucHVzaChjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV4ZXIucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucmVtYWluaW5nSW5wdXQgPSBsZXhlci5yZW1haW5TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUucGFyc2VTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlLnBhcnNlU3RhY2subGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzdE5vZGUuY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFzdElkeCsrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXJtaW5hbC5vcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvpooTmtYvplJnor69dIOmdnue7iOe7k+espuWMuemFjemUmeivrzogJHt0b2NrZW59IHN0YWNrOiAke2N1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrfSDliankvZnlrZfnrKbkuLI6ICR7bGV4ZXIucmVtYWluU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKGBbcHJlZGljdCBlcnJvcl0gdGVybWluYWwgbWF0Y2ggZXJyb3IgdG9ja2VuOiAke3RvY2tlbn0gc3RhY2s6ICR7Y3VycmVudFN0YXRlLnBhcnNlU3RhY2t9IHJlbWFpbmluZ0lucHV0OiAke2xleGVyLnJlbWFpblN0cmluZygpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgeWllbGQgcHJlZGljdFByb2Nlc3M7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGxleGVyLm5leHQoKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lOiBQcmVkaWN0TGluZSA9IG5vblRlcm1pbmFsMlRhYmxlUm93TWFwLmdldCh0b2NrZW4pITtcclxuICAgICAgICAgICAgY29uc3QgZ3JhbW1lcjogR3JhbW1lciA9IHRhYmxlTGluZSEudGVybWluYWwyRGVyaXZhdGlvbi5nZXQodGVybWluYWwudG9ja2VuKTtcclxuICAgICAgICAgICAgaWYgKGdyYW1tZXI/LmRlcml2YXRpb25zPy5sZW5ndGggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW+mihOa1i+mUmeivr10g5YiG5p6Q6L6T5YWl6ZSZ6K+vICDnu4jnu5PnrKY6ICR7dGVybWluYWx9ICAg5Ymp5L2Z5a2X56ym5LiyOiAke2xleGVyLnJlbWFpblN0cmluZygpfSDmlofms5U6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFtwcmVkaWN0IGVycm9yXSBwYXJzZSBpbnB1dCBmYWlsIFxcbiB0ZXJtaW5hbDogJHt0ZXJtaW5hbH0gXFxuICByZW1haW5pbmdJbnB1dDogJHtsZXhlci5yZW1haW5TdHJpbmcoKX0gXFxuIGdyYW1tZXI6ICR7Z3JhbW1lcn0gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlQWN0aW9uID0gYFByZWRpY3QgJHtncmFtbWVyLm5vblRlcm1pbmFsfSAtPiAke2dyYW1tZXIuZGVyaXZhdGlvbnNbMF0uam9pbihcIiBcIil9YDtcclxuICAgICAgICAgICAgbG9nLmxvZyhcIltwcmVkaWN0IFN0YXRlXVwiLCBjdXJyZW50U3RhdGUpO1xyXG4gICAgICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VycmVudFN0YXRlKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZVN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gYXN0U3RhY2sucG9wKCkhO1xyXG4gICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gZ3JhbW1lci5kZXJpdmF0aW9uc1swXS5maWx0ZXIoY2hhciA9PiBjaGFyICE9PSBFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIGlmKCFhc3ROb2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBhc3ROb2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0b2NrZW4gb2YgZGVyaXZhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgYXN0Tm9kZS5jaGlsZHJlbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXN0SWR4KyssXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXN0U3RhY2sucHVzaCguLi5bLi4uYXN0Tm9kZS5jaGlsZHJlbl0ucmV2ZXJzZSgpKTtcclxuICAgICAgICAgICAgY3VycmVudFN0YXRlLnBhcnNlU3RhY2sucHVzaCguLi5kZXJpdmF0aW9uLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5yZW1haW5pbmdJbnB1dCA9IGxleGVyLnJlbWFpblN0cmluZygpO1xyXG4gICAgICAgICAgICB5aWVsZCBwcmVkaWN0UHJvY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoKGU6IGFueSkge1xyXG4gICAgICAgIGN1cnJlbnRTdGF0ZS5wYXJzZUFjdGlvbiA9IGUudG9TdHJpbmcoKTtcclxuICAgICAgICBwcmVkaWN0UHJvY2Vzcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAocHJlZGljdFByb2Nlc3MgYXMgYW55KS5hc3ROb2RlID0gYXN0Tm9kZVxyXG4gICAgcmV0dXJuIHByZWRpY3RQcm9jZXNzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIGdlbmVyYXRlUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUoXHJcbiAgICBsZXhlcjogTGV4ZXIsXHJcbiAgICBpbkdyYW1tZXJzOiBBcnJheTxzdHJpbmc+LFxyXG4gICAgZmlyc3RTZXQ6IEdyYW1tZXJTZXQsXHJcbiAgICBmb2xsb3dTZXQ6IEdyYW1tZXJTZXQsXHJcbik6IEl0ZXJhYmxlSXRlcmF0b3I8UnVsZSB8IFByb2Nlc3M8UHJlZGljdFRhYmxlPj4ge1xyXG4gICAgLypcclxuICAgIOWvueivreazleS4reeahOavj+adoeS6p+eUn+W8j++8miBBIC0+IHUg77yaXHJcbiAgICAgICgxKeWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSBBIC0+IHVcclxuICAgICAgKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0gQSAtPiB1XHJcbiAgKi9cclxuICAgIHlpZWxkIFtcclxuICAgICAgICBcIjEuIOWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSBBIC0+IHVcIixcclxuICAgICAgICBcIjIuIOiLpSBGaXJzdCh1KSDlkKsgzrUg77yM5YiZ5a+5IEZvbGxvdyhBKSDkuK3nmoTmiYDmnInnrKblj7cgYSDvvIjlj6/lkKsgJCDvvInvvIznva4gTVtBLCBhXSA9IEEgLT4gdVwiXHJcbiAgICBdXHJcbiAgICBjb25zdCBncmFtbWVycyA9IHRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzKGxleGVyLCBpbkdyYW1tZXJzKTtcclxuICAgIGNvbnN0IHByZWRpY3RUYWJsZTogUHJlZGljdFRhYmxlID0gW107XHJcbiAgICBjb25zdCBub25UZXJtaW5hbDJUYWJsZVJvd01hcCA9IG5ldyBNYXA8Tm9uVGVybWluYWwsIFByZWRpY3RMaW5lPigpO1xyXG4gICAgbGV4ZXIubm9uVGVybWluYWxzLmZvckVhY2gobm9uVGVybWluYWwgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgbm9uVGVybWluYWw6IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbDJEZXJpdmF0aW9uOiBuZXcgTWFwPFRlcm1pbmFsLCBHcmFtbWVyPigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbm9uVGVybWluYWwyVGFibGVSb3dNYXAuc2V0KG5vblRlcm1pbmFsLCB0YWJsZUxpbmUpO1xyXG4gICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHRhYmxlTGluZSk7XHJcbiAgICB9KVxyXG4gICAgY29uc3Qgbm9uVGVybWluYWwyRmlyc3RTZXRNYXAgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUgPSBuZXcgTWFwPE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZT4oKTtcclxuICAgIGZvciAobGV0IHNldExpbmUgb2YgZm9sbG93U2V0KSB7XHJcbiAgICAgICAgbm9uVGVybWluYWwyRm9sbG93U2V0TGluZS5zZXQoc2V0TGluZS50b2NrZW4sIHNldExpbmUpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgc2V0TGluZSBvZiBmaXJzdFNldCkge1xyXG4gICAgICAgIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwLnNldChzZXRMaW5lLnRvY2tlbiwgc2V0TGluZSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgZGVyaXZhdGlvbiBvZiBncmFtbWVyLmRlcml2YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25GaXJzdFNldCA9IGdldERlcml2YXRpb25GaXJzdFNldFdpdGhNYXAobGV4ZXIsIGRlcml2YXRpb24sIG5vblRlcm1pbmFsMkZpcnN0U2V0TWFwKTtcclxuICAgICAgICAgICAgY29uc3QgdGFibGVMaW5lID0gbm9uVGVybWluYWwyVGFibGVSb3dNYXAuZ2V0KGdyYW1tZXIubm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICBsb2cubG9nKGRlcml2YXRpb25GaXJzdFNldCk7XHJcbiAgICAgICAgICAgIC8vICgxKeWvuSBGaXJzdCh1KSDkuK3nmoTmiYDmnInnu4jnu5PnrKYgYSDvvIjkuI3lkKsgzrUg77yJ77yM572uIE1bQSwgYV0gPSDigJxBIC0+IHXigJ0g77ybXHJcbiAgICAgICAgICAgIGZvciAobGV0IHRlcm1pbmFsIG9mIGRlcml2YXRpb25GaXJzdFNldC50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCA9PT0gRW1wdHlDaGFyYWN0ZXIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNlbGxHcmFtbWVyOiBHcmFtbWVyIHwgdW5kZWZpbmVkID0gdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLmdldCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNlbGxHcmFtbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uczogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5zZXQodGVybWluYWwsIGNlbGxHcmFtbWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNlbGxHcmFtbWVyLmRlcml2YXRpb25zLnB1c2goZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZUluZGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcHJlZGljdFRhYmxlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gKDIp6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0g4oCcQSAtPiB14oCdIFxyXG4gICAgICAgICAgICBpZiAoZGVyaXZhdGlvbkZpcnN0U2V0LnRlcm1pbmFscy5oYXMoRW1wdHlDaGFyYWN0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0ZXJtaW5hbCBvZiBub25UZXJtaW5hbDJGb2xsb3dTZXRMaW5lLmdldChncmFtbWVyLm5vblRlcm1pbmFsKSEudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxHcmFtbWVyOiBHcmFtbWVyIHwgdW5kZWZpbmVkID0gdGFibGVMaW5lPy50ZXJtaW5hbDJEZXJpdmF0aW9uLmdldCh0ZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsR3JhbW1lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsR3JhbW1lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBncmFtbWVyLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbnM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlTGluZT8udGVybWluYWwyRGVyaXZhdGlvbi5zZXQodGVybWluYWwsIGNlbGxHcmFtbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbEdyYW1tZXIuZGVyaXZhdGlvbnMucHVzaChkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVJbmRleDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBwcmVkaWN0VGFibGVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTGV4ZXIgZnJvbSBcIi4vbGV4ZXJcIjtcclxuaW1wb3J0IHsgTm9uVGVybWluYWwsIFRlcm1pbmFsIH0gZnJvbSBcIi4vdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgeyBFbXB0eUNoYXJhY3RlciB9IGZyb20gXCIuL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIi4vdXRpbHMvbG9nXCI7XHJcblxyXG4vKlxyXG4gICAg5aaC5p6c55So5oi36L6T5YWl55qE5piv5Lmm5LiK6YKj56eN566A5Y2V5paH5rOV77yM6K+l5Ye95pWw6Ieq5Yqo6K+G5Yir5Ye657uI57uT56ym5ZKM6Z2e57uI57uT56ymXHJcbiAgICDpnZ7nu4jnu5PnrKY6IC9eW0EtWl0nKiAvXHJcbiAgICDnu4jnu5PnrKY6IC9bYS16fFxcdTAzOTEtXFx1MDNDOV0vICAo5bCP5YaZ5a2X5q+N5Lul5Y+KR3JlZWsgU3ltYm9scylcclxuICAgIGV4OiBodHRwczovL3VuaWNvZGUtdGFibGUuY29tL2VuL3NldHMvZ3JlZWstc3ltYm9scy9cclxuICAgIOaOqOWvvOespuWPtzogPT4gLT5cclxuKi9cclxuY29uc3Qgc2ltcGxlTm9uVGVybWluYWxSZWcgPSAvXltBLVpdJyovO1xyXG5jb25zdCBzaW1wbGVUZXJtaW5hbFJlZyA9IC9bYS16fFxcdTAzOTEtXFx1MDNDOV0vO1xyXG5jb25zdCBvdGhlclRlcm1pbmFsID0gW1wiKFwiLCBcIilcIiwgXCIrXCIsIFwiKlwiLCBcIi1cIl07XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGluR3JhbW1lcnM6IEFycmF5PHN0cmluZz4pOiB7XHJcbiAgbm9uVGVybWluYWxzOiBBcnJheTxzdHJpbmc+O1xyXG4gIHRlcm1pbmFsczogQXJyYXk8W3N0cmluZywgUmVnRXhwXT47XHJcbn0ge1xyXG4gICAgY29uc3Qgbm9uVGVybWluYWxzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuICAgIGNvbnN0IHRlcm1pbmFsczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XHJcbiAgICBpbkdyYW1tZXJzLmZvckVhY2goKGdyYW1tZXIpID0+IHtcclxuICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyXHJcbiAgICAgICAgICAgIC5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIilcclxuICAgICAgICAgICAgLnNwbGl0KC8oPT4pfCgtPikvKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgIG5vblRlcm1pbmFscy5hZGQobm9uVGVybWluYWwpO1xyXG4gICAgICAgIGFyclsxXVxyXG4gICAgICAgICAgICAuc3BsaXQoXCJ8XCIpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYgJiYgdiAhPT0gXCJ8XCIpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChkZXJpdmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZGVyaXZhdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hSZXN1bHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0ID0gZGVyaXZhdGlvbi5tYXRjaChzaW1wbGVOb25UZXJtaW5hbFJlZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YiH5YmyQUJD6L+Z56eN6Z2e57uI57uT56ymXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFscy5hZGQobWF0Y2hSZXN1bHRbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uID0gZGVyaXZhdGlvbi5zbGljZShtYXRjaFJlc3VsdFswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQgPSBkZXJpdmF0aW9uLm1hdGNoKHNpbXBsZVRlcm1pbmFsUmVnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxzLmFkZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KFttYXRjaFJlc3VsdFswXSwgXCJeXCIgKyBtYXRjaFJlc3VsdFswXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb24gPSBkZXJpdmF0aW9uLnNsaWNlKG1hdGNoUmVzdWx0WzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyBlcnJvcl0gY2FudCByZWNvZ25pemUgdGhlIGNoYXJhY3RlciByZW1haW5pbmc6ICR7ZGVyaXZhdGlvbn1gXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm9uVGVybWluYWxzOiBBcnJheS5mcm9tKG5vblRlcm1pbmFscykuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAvLyDlgZrkuIDkuKrnroDljZXmjpLluo8g6Ziy5q2iQiDlkowgQicg5Yay56qBXHJcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHRlcm1pbmFsczogQXJyYXkuZnJvbSh0ZXJtaW5hbHMpLm1hcCgoanNvbkRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBKU09OLnBhcnNlKGpzb25EYXRhKTtcclxuICAgICAgICAgICAgdGVybWluYWxbMV0gPSBuZXcgUmVnRXhwKHRlcm1pbmFsWzFdKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlcm1pbmFsO1xyXG4gICAgICAgIH0pLFxyXG4gICAgfTtcclxufVxyXG5cclxuLypcclxuICAgIOajgOa1i+aWh+azleaYr+WQpumcgOimgeeugOWNleWQiOW5tuWOu+mHjVxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOZWVkdW5pb25HcmFtbWVycyhncmFtbWVyczogQXJyYXk8c3RyaW5nPik6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHVuaW9uTWFwID0gbmV3IE1hcDxzdHJpbmcsIEFycmF5PHN0cmluZz4+KCk7XHJcbiAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXJcclxuICAgICAgICAgICAgLnNwbGl0KC8oPT4pfCgtPikvKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gYXJyWzBdO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb24gPSBhcnJbMV07XHJcbiAgICAgICAgaWYgKHVuaW9uTWFwLmhhcyhub25UZXJtaW5hbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdW5pb25NYXAuc2V0KG5vblRlcm1pbmFsLCBbZGVyaXZhdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vKlxyXG4gICAgQSAtPiBhXHJcbiAgICBBIC0+IGNcclxuICAgID09PT5cclxuICAgIEEgLT4gYSB8IGNcclxuXHJcbiAgICDlubbkuJTkvJrnroDljZXljrvph41cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uR3JhbW1lcnMoXHJcbiAgICBncmFtbWVyczogQXJyYXk8c3RyaW5nPixcclxuICAgIG5vblRlcm1pbmFscz86IEFycmF5PHN0cmluZz4sXHJcbiAgICB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPlxyXG4pOiBBcnJheTxzdHJpbmc+IHtcclxuICAgIGxldCB1bmlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBcnJheTxzdHJpbmc+PigpO1xyXG4gICAgY29uc3QgcmVzdWx0OiBBcnJheTxzdHJpbmc+ID0gW107XHJcbiAgICBpZiAoIW5vblRlcm1pbmFscyB8fCAhdGVybWluYWxzKSB7XHJcbiAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICB0ZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMudGVybWluYWxzO1xyXG4gICAgfVxyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGdyYW1tZXJzLmZvckVhY2goKGdyYW1tZXIpID0+IHtcclxuICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lclxyXG4gICAgICAgICAgICAuc3BsaXQoLyg9Pil8KC0+KS8pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV1cclxuICAgICAgICAgICAgLnNwbGl0KFwifFwiKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2KVxyXG4gICAgICAgICAgICAubWFwKChkZXJpdmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2cubG9nKFwiW2RlYnVnXVwiLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxleGVyLnNwbGl0RGVyaXZhdGlvbihkZXJpdmF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh1bmlvbk1hcC5oYXMobm9uVGVybWluYWwpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IHVuaW9uTWFwLmdldChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgIGRlcml2YXRpb25zLmZvckVhY2goKGRlcml2YXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlcmkgPSBkZXJpdmF0aW9uLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycj8uaW5kZXhPZihkZXJpKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChkZXJpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdW5pb25NYXAuc2V0KFxyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9ucy5tYXAoKGRlcml2YXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVyaXZhdGlvbi5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBmb3IgKGxldCBub25UZXJtaW5hbCBvZiB1bmlvbk1hcC5rZXlzKCkpIHtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IFsuLi5uZXcgU2V0KHVuaW9uTWFwLmdldChub25UZXJtaW5hbCkhKV07XHJcbiAgICAgICAgcmVzdWx0LnB1c2goXHJcbiAgICAgICAgICAgIGAke25vblRlcm1pbmFsfSAtPiAke2Rlcml2YXRpb25zLmpvaW4oXCJ8XCIpfWAuc3BsaXQoXCJ8XCIpLmpvaW4oXCIgfCBcIilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgbG9nLmxvZyhyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLypcclxuICAgIOajgOa1i+aYr+WQpumcgOimgei/m+ihjOaPkOW3puWFrOWFseWboOWtkFxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOZWVkbGlmdFVwQ29tbW9uVG9ja2VuKFxyXG4gICAgZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sXHJcbiAgICBub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LFxyXG4gICAgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT5cclxuKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgcmVzdWx0OiBBcnJheTxzdHJpbmc+ID0gZ3JhbW1lcnM7XHJcbiAgICBpZiAoIW5vblRlcm1pbmFscyB8fCAhdGVybWluYWxzKSB7XHJcbiAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICB0ZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMudGVybWluYWxzO1xyXG4gICAgfVxyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGZvciAobGV0IGdyYW1tZXIgb2YgcmVzdWx0KSB7XHJcbiAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgIGNvbnN0IGFyciA9IGdyYW1tZXJcclxuICAgICAgICAgICAgLnNwbGl0KC8oPT4pfCgtPikvKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdXHJcbiAgICAgICAgICAgIC5zcGxpdChcInxcIilcclxuICAgICAgICAgICAgLmZpbHRlcigodikgPT4gdilcclxuICAgICAgICAgICAgLm1hcCgoZGVyaXZhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbG9nLmxvZyhcIltkZWJ1Z11cIiwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZXhlci5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwID0gbmV3IE1hcDxcclxuICAgICAgTm9uVGVybWluYWwgfCBUZXJtaW5hbCxcclxuICAgICAgc3RyaW5nW11bXVxyXG4gICAgPigpO1xyXG4gICAgICAgIGRlcml2YXRpb25zLmZvckVhY2goKGRlcml2YXRpb24pID0+IHtcclxuICAgICAgICAgICAgbGV0IGFyciA9IGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLmdldChkZXJpdmF0aW9uWzBdKTtcclxuICAgICAgICAgICAgaWYgKCFhcnIpIHtcclxuICAgICAgICAgICAgICAgIGFyciA9IFtkZXJpdmF0aW9uLnNsaWNlKDEpXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFyci5wdXNoKGRlcml2YXRpb24uc2xpY2UoMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLnNldChkZXJpdmF0aW9uWzBdLCBhcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAobGV0IHRvY2tlbiBvZiBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgaWYgKGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLmdldCh0b2NrZW4pPy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbGlmdFVwQ29tbW9uVG9ja2VuKFxyXG4gICAgZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sXHJcbiAgICBub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LFxyXG4gICAgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT5cclxuKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICBsZXQgcmVzdWx0OiBBcnJheTxzdHJpbmc+ID0gZ3JhbW1lcnM7XHJcbiAgICBpZiAoIW5vblRlcm1pbmFscyB8fCAhdGVybWluYWxzKSB7XHJcbiAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICB0ZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMudGVybWluYWxzO1xyXG4gICAgfVxyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgbGV0IG5ld0FkZEdyYW1tZXJzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRtcFJlc3VsdCA9IHJlc3VsdC5tYXAoKGdyYW1tZXIpID0+IHtcclxuICAgICAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoLyg9Pil8KC0+KS8pXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgICAgICBjb25zdCBub25UZXJtaW5hbCA9IGFyclswXTtcclxuICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV1cclxuICAgICAgICAgICAgICAgIC5zcGxpdChcInxcIilcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYpXHJcbiAgICAgICAgICAgICAgICAubWFwKChkZXJpdmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nLmxvZyhcIltkZWJ1Z11cIiwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGV4ZXIuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0Rlcml2YXRpb24gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RUb2NrZW4yRGVyaXZhdGlvbnNNYXAgPSBuZXcgTWFwPFxyXG4gICAgICAgIE5vblRlcm1pbmFsIHwgVGVybWluYWwsXHJcbiAgICAgICAgc3RyaW5nW11bXVxyXG4gICAgICA+KCk7XHJcbiAgICAgICAgICAgIGRlcml2YXRpb25zLmZvckVhY2goKGRlcml2YXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBhcnIgPSBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5nZXQoZGVyaXZhdGlvblswXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IFtkZXJpdmF0aW9uLnNsaWNlKDEpXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goZGVyaXZhdGlvbi5zbGljZSgxKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5zZXQoZGVyaXZhdGlvblswXSwgYXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvY2tlbiBvZiBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5nZXQodG9ja2VuKT8ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGVyaXZhdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW4gKyBmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcC5nZXQodG9ja2VuKSFbMF0uam9pbihcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9ucyA9IGZpcnN0VG9ja2VuMkRlcml2YXRpb25zTWFwLmdldCh0b2NrZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y+v5Lul5o+Q5Y+W5YWs5Zug5a2QXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVblRlcm1pbmFsID0gbGV4ZXIuZ2V0TmV3Tm9uVGVybWluYWwobm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgbmV3RGVyaXZhdGlvbi5wdXNoKHRvY2tlbiArIG5ld1VuVGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgbmV3QWRkR3JhbW1lcnMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICBuZXdVblRlcm1pbmFsICtcclxuICAgICAgICAgICAgXCIgLT4gXCIgK1xyXG4gICAgICAgICAgICBkZXJpdmF0aW9ucz8ubWFwKCh2KSA9PiB2LmpvaW4oXCIgXCIpKS5qb2luKFwiIHwgXCIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub25UZXJtaW5hbCArIFwiIC0+IFwiICsgbmV3RGVyaXZhdGlvbi5qb2luKFwiIHwgXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxvZy5sb2coXCJbcHJlXVwiLCB0bXBSZXN1bHQsIG5ld0FkZEdyYW1tZXJzKTtcclxuICAgICAgICBjb25zdCBuZXdSZXN1bHQgPSBbLi4udG1wUmVzdWx0LCAuLi5uZXdBZGRHcmFtbWVyc107XHJcbiAgICAgICAgbG9nLmxvZyhcIltjb21dXCIsIHJlc3VsdCwgbmV3UmVzdWx0KTtcclxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gbmV3UmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0ID0gbmV3UmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vKlxyXG4gICAg5qOA5p+l5piv5ZCm6ZyA6KaB5riF5qWa5bem6YCS5b2SXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja05lZWRDbGVhclJpZ2h0UmVjdXJzaW9uKFxyXG4gICAgZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sXHJcbiAgICBub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LFxyXG4gICAgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT5cclxuKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICBjb25zdCB0b2NrZW5BbmFSZXMgPSBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGdyYW1tZXJzKTtcclxuICAgICAgICBub25UZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMubm9uVGVybWluYWxzO1xyXG4gICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICB9XHJcbiAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgIGxvZy5sb2coXCJbdGVybWluYWxzXVwiLCB0ZXJtaW5hbHMpO1xyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxOb25UZXJtaW5hbCwgc3RyaW5nW11bXT4oKTtcclxuICAgIGZvciAobGV0IGdyYW1tZXIgb2YgZ3JhbW1lcnMpIHtcclxuICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lclxyXG4gICAgICAgICAgICAuc3BsaXQoLyg9Pil8KC0+KS8pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV1cclxuICAgICAgICAgICAgLnNwbGl0KFwifFwiKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2KVxyXG4gICAgICAgICAgICAubWFwKChkZXJpdmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV4ZXIuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zKTtcclxuICAgIH1cclxuICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXBdXCIsIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uVGVybWluYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgZ0kgPSBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5nZXQobm9uVGVybWluYWxzW2ldKTtcclxuICAgICAgICAvLyDmtojpmaTlt6bpgJLlvZJcclxuICAgICAgICBmb3IgKGxldCBqID0gZ0khLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBnSSFbal07XHJcbiAgICAgICAgICAgIGlmIChncmFtbWVyWzBdID09PSBub25UZXJtaW5hbHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIC8vIOWtmOWcqOW3pumAkuW9klxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuLypcclxuICAgIOa2iOmZpOW3pumAkuW9klxyXG4gICAg55u05o6l5bem6YCS5b2SLemXtOaOpeW3pumAkuW9klxyXG4gICAg6KaB5rGC77yaIOi+k+WFpeaWh+azleS4jeWQq+aciUVtcHR5Q2hhcmF0ZXIg5ZKMIOeOr1xyXG4qL1xyXG4vLyBUT0RPISBjbGVhckxlZnRSZWN1cnNpb24g5ZCN5a2X5omT6ZSZ5LqG6KaB5pS5XHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhclJpZ2h0UmVjdXJzaW9uKFxyXG4gICAgZ3JhbW1lcnM6IEFycmF5PHN0cmluZz4sXHJcbiAgICBub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LFxyXG4gICAgdGVybWluYWxzPzogQXJyYXk8W3N0cmluZywgUmVnRXhwXT5cclxuKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICBjb25zdCB0b2NrZW5BbmFSZXMgPSBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGdyYW1tZXJzKTtcclxuICAgICAgICBub25UZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMubm9uVGVybWluYWxzO1xyXG4gICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICB9XHJcbiAgICBsb2cubG9nKFwiW25vblRlcm1pbmFsc11cIiwgbm9uVGVybWluYWxzKTtcclxuICAgIGxvZy5sb2coXCJbdGVybWluYWxzXVwiLCB0ZXJtaW5hbHMpO1xyXG4gICAgbGV0IGxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxOb25UZXJtaW5hbCwgc3RyaW5nW11bXT4oKTtcclxuICAgIGZvciAobGV0IGdyYW1tZXIgb2YgZ3JhbW1lcnMpIHtcclxuICAgICAgICBncmFtbWVyID0gZ3JhbW1lci5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lclxyXG4gICAgICAgICAgICAuc3BsaXQoLyg9Pil8KC0+KS8pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYgIT09IFwiPT5cIiAmJiB2ICE9PSBcIi0+XCIgJiYgdik7XHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV1cclxuICAgICAgICAgICAgLnNwbGl0KFwifFwiKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2KVxyXG4gICAgICAgICAgICAubWFwKChkZXJpdmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV4ZXIuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zKTtcclxuICAgIH1cclxuICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXBdXCIsIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uVGVybWluYWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgZ0kgPSBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5nZXQobm9uVGVybWluYWxzW2ldKTtcclxuICAgICAgICAvLyDmm7/mjaLkuqfnlJ/lvI9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xyXG4gICAgICAgICAgICBjb25zdCBnSiA9IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLmdldChub25UZXJtaW5hbHNbal0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gZ0khLmxlbmd0aCAtIDE7IGsgPj0gMDsgay0tKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmFtbWVyID0gZ0khW2tdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyYW1tZXJbMF0gPT09IG5vblRlcm1pbmFsc1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2VcclxuICAgICAgICAgICAgICAgICAgICBsb2cubG9nKGdyYW1tZXIsIG5vblRlcm1pbmFsc1tqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgamdyYW1tZXIgb2YgZ0ohKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5sb2coXCJbLV1cIiwgamdyYW1tZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnST8ucHVzaChbLi4uamdyYW1tZXIsIC4uLmdyYW1tZXIuc2xpY2UoMSldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ0k/LnNwbGljZShrLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZWVkSGFuZGxlSW5kZXg6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgLy8g5raI6Zmk5bem6YCS5b2SXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGdJIS5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xyXG4gICAgICAgICAgICBjb25zdCBncmFtbWVyID0gZ0khW2pdO1xyXG4gICAgICAgICAgICBpZiAoZ3JhbW1lclswXSA9PT0gbm9uVGVybWluYWxzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlrZjlnKjlt6bpgJLlvZJcclxuICAgICAgICAgICAgICAgIG5lZWRIYW5kbGVJbmRleC5wdXNoKGopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZWVkSGFuZGxlSW5kZXgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05vblRlcm1pbmFsVG9ja2VuID0gbGV4ZXIuZ2V0TmV3Tm9uVGVybWluYWwobm9uVGVybWluYWxzW2ldKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3R3JhbW1lcnM6IHN0cmluZ1tdW10gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgbmV3Tm9uVGVybWluYWxHcmFtbWVyczogc3RyaW5nW11bXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGdJIS5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRIYW5kbGVJbmRleC5pbmRleE9mKGopICE9PSAtMSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAvLyBFbXB0eUNoYXJhY3RlcuS9nOS4uummluS4quespuWPtyDmsqHmnInmhI/kuYlcclxuICAgICAgICAgICAgICAgIG5ld0dyYW1tZXJzLnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLihnSSFbal1bMF0gPT09IEVtcHR5Q2hhcmFjdGVyID8gZ0khW2pdLnNsaWNlKDEpIDogZ0khW2pdKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXdOb25UZXJtaW5hbFRvY2tlbixcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4IG9mIG5lZWRIYW5kbGVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9uVGVybWluYWxHcmFtbWVycy5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAuLi5nSSFbaW5kZXhdLnNsaWNlKDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld05vblRlcm1pbmFsVG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9uVGVybWluYWxHcmFtbWVycy5wdXNoKFtFbXB0eUNoYXJhY3Rlcl0pO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWxzW2ldLCBbXHJcbiAgICAgICAgICAgICAgICAuLi5uZXdHcmFtbWVycyxcclxuICAgICAgICAgICAgICAgIC4uLihuZWVkSGFuZGxlSW5kZXgubGVuZ3RoID8gW10gOiBnSSEpLFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuc2V0KFxyXG4gICAgICAgICAgICAgICAgbmV3Tm9uVGVybWluYWxUb2NrZW4sXHJcbiAgICAgICAgICAgICAgICBuZXdOb25UZXJtaW5hbEdyYW1tZXJzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZy5sb2coXHJcbiAgICAgICAgICAgIFwiW25vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwIGluIHByb2Nlc3NdXCIsXHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwLFxyXG4gICAgICAgICAgICBnSVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBub25UZXJtaW5hbCBvZiBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5rZXlzKCkpIHtcclxuICAgICAgICBjb25zdCBkZXJpdmF0aW9uOiBzdHJpbmcgPSBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcFxyXG4gICAgICAgICAgICAuZ2V0KG5vblRlcm1pbmFsKSFcclxuICAgICAgICAgICAgLm1hcCgoZGVyaXZhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlcml2YXRpb24uam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5qb2luKFwiIHwgXCIpO1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKGAke25vblRlcm1pbmFsfSAtPiAke2Rlcml2YXRpb259YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbiIsImltcG9ydCBnZW5lcmF0ZUZpcnN0U2V0IGZyb20gXCJAL2ZpcnN0U2V0XCI7XHJcbmltcG9ydCBnZW5lcmF0ZUZsbG93U2V0IGZyb20gXCJAL2ZvbGxvd1NldFwiO1xyXG5pbXBvcnQgTGV4ZXIgZnJvbSBcIkAvbGV4ZXJcIjtcclxuaW1wb3J0IHsgZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyB9IGZyb20gXCJAL3NpbXBsZUdyYW1tZXJIZWxwZXJcIjtcclxuaW1wb3J0IHsgR3JhbW1lcnMsIExSUHJlZGljdExpbmUsIExSUHJlZGljdFJlc3VsdFRhYmxlLCBMUlByZWRpY3RUYWJsZUxpbmUsIExSUHJlZGljdFRhYmxlLCBMUlN0YXRlTm9kZSwgTFJTdGF0ZU5vZGVGb3JTaG93LCBMUlN0YXRlTm9kZUl0ZW0sIFByZWRpY3RUYWJsZSwgUHJvY2VzcywgUnVsZSwgTFJQcmVkaWN0TGluZVdpdGhBU1QsIExSQVNUTm9kZSwgTFJQcmVkaWN0UmVzdWx0VGFibGVXaXRoQVNUTm9kZSB9IGZyb20gXCJAL3R5cGVzL3R5cGVcIjtcclxuaW1wb3J0IHsgRW1wdHlDaGFyYWN0ZXIsIEVuZGluZ0NoYXJhY3RlciB9IGZyb20gXCJAL3V0aWxzL2NvbnN0XCI7XHJcbmltcG9ydCBsb2cgZnJvbSBcIkAvdXRpbHMvbG9nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTFJQYXJzZXIgIHtcclxuICAgIGluaXRpYWxTdGF0ZU5vZGU6IExSU3RhdGVOb2RlIHwgbnVsbDtcclxuICAgIGFsbFN0YXRlTm9kZXNNYXA/OiBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPjtcclxuICAgIGxleGVyPzogTGV4ZXI7XHJcbiAgICBncmFtbWVycz86IHN0cmluZ1tdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVOb2RlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlU3RhdGUoZ3JhbW1lcnM6IHN0cmluZ1tdLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZyxub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LCB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPikge1xyXG4gICAgICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgLy8g5aaC5p6c55So5oi35rKh5pyJ6Ieq5a6a5LmJ57uI57uT56ym5ZKM6Z2e57uI57uT56ym77yM6YKj5LmI6buY6K6k5a6D55qE6K+t5rOV5piv5ruh6Laz6K++5pys6YeM55qEXHJcbiAgICAgICAgICAgIGNvbnN0IHRvY2tlbkFuYVJlcyA9IGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMoZ3JhbW1lcnMpO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMubm9uVGVybWluYWxzO1xyXG4gICAgICAgICAgICB0ZXJtaW5hbHMgPSB0b2NrZW5BbmFSZXMudGVybWluYWxzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBBdWd1bWVudFN0YXJ0ID0gXCJBdWd1bWVudF9TXCI7XHJcbiAgICAgICAgbG9nLmxvZyhcIltub25UZXJtaW5hbHNdXCIsIG5vblRlcm1pbmFscyk7XHJcbiAgICAgICAgbG9nLmxvZyhcIlt0ZXJtaW5hbHNdXCIsIHRlcm1pbmFscyk7XHJcbiAgICAgICAgdGhpcy5ncmFtbWVycyA9IGdyYW1tZXJzO1xyXG4gICAgICAgIHRoaXMubGV4ZXIgPSBuZXcgTGV4ZXIodGVybWluYWxzLCBub25UZXJtaW5hbHMpO1xyXG4gICAgICAgIC8vIOWumuS5ieS7jumdnue7iOe7k+espuWvueW6lOWPs+mDqOW8j+WtkOeahOe7k+aehFxyXG4gICAgICAgIGNvbnN0IG5vblRlcm1pbmFsczJEZXJpdmF0aW9uTWFwID0gbmV3IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4oKTtcclxuICAgICAgICBmb3IgKGxldCBncmFtbWVyIG9mIGdyYW1tZXJzKSB7XHJcbiAgICAgICAgICAgIGdyYW1tZXIgPSBncmFtbWVyLnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyID0gZ3JhbW1lci5zcGxpdCgvKD0+KXwoLT4pLykuZmlsdGVyKHYgPT4gdiAhPT0gXCI9PlwiICYmIHYgIT09IFwiLT5cIiAmJiB2KTsvL1snUycsJ0FCJ11cclxuICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBhcnJbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gYXJyWzFdLnNwbGl0KFwifFwiKS5maWx0ZXIodiA9PiB2KS5tYXAoZGVyaXZhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZXhlciEuc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pOyAgIC8vIOWwhuS6p+eUn+W8j+eahOS9k+aLhuW8gO+8jOe7iOe7k+espuWSjOmdnue7iOe7k+espuaIkOS4uuS4quS9k1xyXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gdGhpcy5sZXhlcj8uc3BsaXREZXJpdmF0aW9uKGRlcml2YXRpb24pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nLmxvZyhub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlTm9kZSA9IHtcclxuICAgICAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBbe1xyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IEF1Z3VtZW50U3RhcnQsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBbcGFyc2VTdGFydE5vblRlcm1pbmFsXSwgLy8gU1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogMCxcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICB9XHJcbiAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUuaXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcik7XHJcbiAgICAgICAgY29uc3QgYWxsU3RhdGVOb2Rlc01hcCA9IG5ldyBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPigpO1xyXG4gICAgICAgIHRoaXMuYWxsU3RhdGVOb2Rlc01hcCA9IGFsbFN0YXRlTm9kZXNNYXA7XHJcbiAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoc3RhdGVJdGVtc1RvU3RyaW5nKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyksdGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgICAgICBjb25zdCB2aXM6IGJvb2xlYW5bXSA9IFtdO1xyXG4gICAgICAgIGxldCBwcmVTaXplID0gMDtcclxuICAgICAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmKGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSA9PSBwcmVTaXplKWJyZWFrOyAvLyDnm67liY3lm77kuK3nmoRub2Rl6YO95aSE55CG5a6M5LqGXHJcbiAgICAgICAgICAgIHByZVNpemUgPSBhbGxTdGF0ZU5vZGVzTWFwLnNpemU7XHJcbiAgICAgICAgICAgIGZvcihsZXQgc3RhdGUgb2YgYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYodmlzW3N0YXRlLmlkXSkgY29udGludWU7IC8vIOWmguaenOivpeeKtuaAgeW3sue7j+mBjeWOhui/h++8jOWwseeVpei/h1xyXG4gICAgICAgICAgICAgICAgdmlzW3N0YXRlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKblj6/ku6XliLDmjqXlj5fnirbmgIFcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykgeyAgLy8g6K6/6Zeu6L+Z5Liq54q25oCB5Lit55qE6aG555uuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub25UZXJtaW5hbCA9PT0gQXVndW1lbnRTdGFydCAmJiBpdGVtLm1hdGNoUG9pbnQgPT09IDEpIHsgLy8g5Yik5pat5piv5ZCm5piv5o6l5Y+X54q25oCBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBFbmRpbmdDaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCBvZiBub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlOy8v6K+05piO6L+Z5LiqaXRlbeW3sue7j+e7k+adn+S6hlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gbm9uVGVybWluYWwpIHsgLy8q5ZCO6Z2i5piv6L+Z5Liqbm9uVGVybWluYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7IC8vIOWIm+W7uuS4gOS4quaWsOeahOiKgueCue+8jOaYr+mAmui/h+iOt+WPlui/meS4qm5vblRlcm1pbmFs6I635b6X55qEICAg55yL5Yiw6L+Z6YeM5LqGXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlOyBcclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKG1hdGNoSXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcik7IC8v6I635Y+W6L+Z5Liqc3RhdGXlhbbku5ZpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gc3RhdGVJdGVtc1RvU3RyaW5nKG1hdGNoSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFhbGxTdGF0ZU5vZGVzTWFwLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlTm9kZXNNYXAuc2V0KGtleSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYWxsU3RhdGVOb2Rlc01hcC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IG1hdGNoSXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW46IG5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBhbGxTdGF0ZU5vZGVzTWFwLmdldChrZXkpISxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgdGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoSXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggPT09IGl0ZW0ubWF0Y2hQb2ludCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uW2l0ZW0ubWF0Y2hQb2ludF0gPT09IHRlcm1pbmFsWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBpdGVtLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb246IGl0ZW0uZGVyaXZhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiBpdGVtLm1hdGNoUG9pbnQrMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFtYXRjaEl0ZW1zLmxlbmd0aCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKG1hdGNoSXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gc3RhdGVJdGVtc1RvU3RyaW5nKG1hdGNoSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFhbGxTdGF0ZU5vZGVzTWFwLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlTm9kZXNNYXAuc2V0KGtleSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYWxsU3RhdGVOb2Rlc01hcC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IG1hdGNoSXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2NrZW46IHRlcm1pbmFsWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBhbGxTdGF0ZU5vZGVzTWFwLmdldChrZXkpISxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICpnZW5lcmF0ZVN0YXRlUHJvZ3Jlc3NpdmUoZ3JhbW1lcnM6IHN0cmluZ1tdLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZyxub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LCB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPik6IEl0ZXJhYmxlSXRlcmF0b3I8dW5kZWZpbmVkPiB7XHJcbiAgICAgICAgaWYgKCFub25UZXJtaW5hbHMgfHwgIXRlcm1pbmFscykge1xyXG4gICAgICAgICAgICBjb25zdCB0b2NrZW5BbmFSZXMgPSBnZXRUb2NrRnJvbVNpbXBsZUdyYW1tZXJzKGdyYW1tZXJzKTtcclxuICAgICAgICAgICAgbm9uVGVybWluYWxzID0gdG9ja2VuQW5hUmVzLm5vblRlcm1pbmFscztcclxuICAgICAgICAgICAgdGVybWluYWxzID0gdG9ja2VuQW5hUmVzLnRlcm1pbmFscztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgQXVndW1lbnRTdGFydCA9IFwiQXVndW1lbnRfU1wiO1xyXG4gICAgICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzXVwiLCBub25UZXJtaW5hbHMpO1xyXG4gICAgICAgIGxvZy5sb2coXCJbdGVybWluYWxzXVwiLCB0ZXJtaW5hbHMpO1xyXG4gICAgICAgIHRoaXMuZ3JhbW1lcnMgPSBncmFtbWVycztcclxuICAgICAgICB0aGlzLmxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuXHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAgPSBuZXcgTWFwPHN0cmluZyxzdHJpbmdbXVtdPigpO1xyXG4gICAgICAgIGZvciAobGV0IGdyYW1tZXIgb2YgZ3JhbW1lcnMpIHtcclxuICAgICAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgICAgICBjb25zdCBub25UZXJtaW5hbCA9IGFyclswXTtcclxuICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV0uc3BsaXQoXCJ8XCIpLmZpbHRlcih2ID0+IHYpLm1hcChkZXJpdmF0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxleGVyIS5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nLmxvZyhub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlTm9kZSA9IHtcclxuICAgICAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBbe1xyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IEF1Z3VtZW50U3RhcnQsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBbcGFyc2VTdGFydE5vblRlcm1pbmFsXSxcclxuICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IDAsXHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZXhwYW5kU3RhdGVJdGVtcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUuaXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcik7XHJcbiAgICAgICAgeWllbGQ7XHJcbiAgICAgICAgY29uc3QgYWxsU3RhdGVOb2Rlc01hcCA9IG5ldyBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPigpO1xyXG4gICAgICAgIHRoaXMuYWxsU3RhdGVOb2Rlc01hcCA9IGFsbFN0YXRlTm9kZXNNYXA7XHJcbiAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoc3RhdGVJdGVtc1RvU3RyaW5nKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyksdGhpcy5pbml0aWFsU3RhdGVOb2RlKTtcclxuICAgICAgICBjb25zdCB2aXM6IGJvb2xlYW5bXSA9IFtdO1xyXG4gICAgICAgIGxldCBwcmVTaXplID0gMDtcclxuICAgICAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmKGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSA9PSBwcmVTaXplKWJyZWFrO1xyXG4gICAgICAgICAgICBwcmVTaXplID0gYWxsU3RhdGVOb2Rlc01hcC5zaXplO1xyXG4gICAgICAgICAgICBmb3IobGV0IHN0YXRlIG9mIGFsbFN0YXRlTm9kZXNNYXAudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmKHZpc1tzdGF0ZS5pZF0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgdmlzW3N0YXRlLmlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKblj6/ku6XliLDmjqXlj5fnirbmgIFcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ubm9uVGVybWluYWwgPT09IEF1Z3VtZW50U3RhcnQgJiYgaXRlbS5tYXRjaFBvaW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBFbmRpbmdDaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCBvZiBub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gbm9uVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobWF0Y2hJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFsbFN0YXRlTm9kZXNNYXAuaGFzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoa2V5LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhbGxTdGF0ZU5vZGVzTWFwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbWF0Y2hJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogbm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFsbFN0YXRlTm9kZXNNYXAuZ2V0KGtleSkhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCBvZiB0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hJdGVtczogTFJTdGF0ZU5vZGVJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCA9PT0gaXRlbS5tYXRjaFBvaW50KWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb25baXRlbS5tYXRjaFBvaW50XSA9PT0gdGVybWluYWxbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IGl0ZW0ubm9uVGVybWluYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZhdGlvbjogaXRlbS5kZXJpdmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IGl0ZW0ubWF0Y2hQb2ludCsxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobWF0Y2hJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFsbFN0YXRlTm9kZXNNYXAuaGFzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoa2V5LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhbGxTdGF0ZU5vZGVzTWFwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbWF0Y2hJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFsbFN0YXRlTm9kZXNNYXAuZ2V0KGtleSkhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHByZWRpY3RJbnB1dChpbnB1dDogc3RyaW5nLHByZWRpY3RUYWJsZTogTFJQcmVkaWN0VGFibGUpOiBMUlByZWRpY3RSZXN1bHRUYWJsZSB7XHJcbiAgICAgICAgaWYoIXRoaXMubGV4ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhbnM6IExSUHJlZGljdFJlc3VsdFRhYmxlID0gW107XHJcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlQWxsKC9cXHMvZywgXCJcIik7XHJcbiAgICAgICAgYW5zLnB1c2goe1xyXG4gICAgICAgICAgICBzdGFjazogWzBdLFxyXG4gICAgICAgICAgICBzeW1ib2xzOiBbXSxcclxuICAgICAgICAgICAgaW5wdXQ6IFsuLi50aGlzLmxleGVyLnNwbGl0RGVyaXZhdGlvbihpbnB1dCksRW5kaW5nQ2hhcmFjdGVyXSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHdoaWxlKHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGFuc1thbnMubGVuZ3RoLTFdO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGVwKSkgYXMgTFJQcmVkaWN0TGluZTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGVJZCA9IHN0ZXAuc3RhY2tbc3RlcC5zdGFjay5sZW5ndGggLSAxXTsgLy/ojrflj5bnirbmgIFpZFxyXG5cclxuICAgICAgICAgICAgY29uc3QgcHJlZGljdExpbmUgPSBwcmVkaWN0VGFibGVbc3RhdGVJZF07XHJcbiAgICAgICAgICAgIGxldCBlbXB0eUNoYXJhY3RlckZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IG1vdmUgPSBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KHN0ZXAuaW5wdXRbMF0pITtcclxuICAgICAgICAgICAgaWYobW92ZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1vdmUgY29sbGlzaW9uICR7bW92ZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighbW92ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmKHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoRW1wdHlDaGFyYWN0ZXIpPy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlID0gcHJlZGljdExpbmUuYWN0aW9uLmdldChFbXB0eUNoYXJhY3RlcikhO1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5Q2hhcmFjdGVyRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbW92ZSBpcyBlbXB0eSAke21vdmV9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNNb3ZlID0gbW92ZVswXSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIGlmKGNNb3ZlID09PSBcImFjY1wiKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBcIuaOpeWPl1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY01vdmUuc3RhcnRzV2l0aChcIlNcIikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNoaWZ0XHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg56e75YWlJHtzdGVwLmlucHV0WzBdfWA7XHJcbiAgICAgICAgICAgICAgICBpZihlbXB0eUNoYXJhY3RlckZsYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChFbXB0eUNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3ltYm9scy5wdXNoKG5leHQuaW5wdXQuc2hpZnQoKSEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wdXNoKE51bWJlcihjTW92ZS5zbGljZSgxKSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICBzdGVwLm1vdmUgPSBg5qC55o2uJHtjTW92ZX3lvZLnuqZgO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbW1lciA9IGNNb3ZlLnNsaWNlKDIsLTEpLnJlcGxhY2VBbGwoL1xccy9nLFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9uVGVybWluYWwgPSBncmFtbWVyLnNwbGl0KFwiLT5cIilbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmF0aW9uID0gdGhpcy5sZXhlci5zcGxpdERlcml2YXRpb24oZ3JhbW1lci5zcGxpdChcIi0+XCIpWzFdKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChub25UZXJtaW5hbCk7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RhdGVJZCA9IHN0ZXAuc3RhY2tbbmV4dC5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpQcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtsZWZ0U3RhdGVJZF07XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN0YWNrLnB1c2goalByZWRpY3RMaW5lLmdvdG8uZ2V0KG5vblRlcm1pbmFsKSFbMF0gYXMgdW5rbm93biBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFucy5wdXNoKG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5zO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWRpY3RJbnB1dFdpdGhBU1QoaW5wdXQ6IHN0cmluZyxwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlKTogTFJQcmVkaWN0UmVzdWx0VGFibGVXaXRoQVNUTm9kZSB7XHJcbiAgICAgICAgaWYoIXRoaXMubGV4ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhbnM6IExSUHJlZGljdFJlc3VsdFRhYmxlV2l0aEFTVE5vZGUgPSBbXTtcclxuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBjb25zdCBsaWQ9MTtcclxuICAgICAgICBhbnMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YWNrOiBbMF0sXHJcbiAgICAgICAgICAgIHN5bWJvbHM6IFtdLFxyXG4gICAgICAgICAgICBpbnB1dDogWy4uLnRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGlucHV0KSxFbmRpbmdDaGFyYWN0ZXJdLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gYW5zW2Fucy5sZW5ndGgtMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0ZXApKSBhcyBMUlByZWRpY3RMaW5lV2l0aEFTVDsgIC8vXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlSWQgPSBzdGVwLnN0YWNrW3N0ZXAuc3RhY2subGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtzdGF0ZUlkXTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZSA9IHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoc3RlcC5pbnB1dFswXSkhO1xyXG4gICAgICAgICAgICBpZihtb3ZlLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbW92ZSBjb2xsaXNpb24gJHttb3ZlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFtb3ZlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtb3ZlIGlzIGVtcHR5ICR7bW92ZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY01vdmUgPSBtb3ZlWzBdIGFzIHN0cmluZztcclxuICAgICAgICAgICAgaWYoY01vdmUgPT09IFwiYWNjXCIpIHtcclxuICAgICAgICAgICAgICAgIHN0ZXAubW92ZSA9IFwi5o6l5Y+XXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjTW92ZS5zdGFydHNXaXRoKFwiU1wiKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2hpZnRcclxuICAgICAgICAgICAgICAgIHN0ZXAubW92ZSA9IGDnp7vlhaUke3N0ZXAuaW5wdXRbMF19YDtcclxuICAgICAgICAgICAgICAgIC8vbmV4dC5zeW1ib2xzLnB1c2gobmV4dC5pbnB1dC5zaGlmdCgpISk7IC8vIHNodWZ05oqKaW5wdXTnmoTnrKzkuIDkuKrlhYPntKDliKDpmaTlubbov5Tlm55cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxybm9kZTpMUkFTVE5vZGU9e2lkOmxpZCx0ZXh0Om5leHQuaW5wdXQuc2hpZnQoKSEsY2hlY2s6IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2gobHJub2RlKTtcclxuICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucHVzaChOdW1iZXIoY01vdmUuc2xpY2UoMSkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZHVjZVxyXG4gICAgICAgICAgICAgICAgc3RlcC5tb3ZlID0gYOagueaNriR7Y01vdmV95b2S57qmYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBjTW92ZS5zbGljZSgyLC0xKS5yZXBsYWNlQWxsKC9cXHMvZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gZ3JhbW1lci5zcGxpdChcIi0+XCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbiA9IHRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGdyYW1tZXIuc3BsaXQoXCItPlwiKVsxXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlOkxSQVNUTm9kZT17aWQ6bGlkKzEsdGV4dDpub25UZXJtaW5hbCxjaGVjazogZmFsc2V9O1xyXG4gICAgICAgICAgICAgICAgaWYoIXBhcmVudE5vZGUuY2hpbGRyZW4pe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW49W107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPGRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmV4dC5zeW1ib2xzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXA9IG5leHQuc3ltYm9scy5wb3AoKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGVtcCEucGFyZW50PXBhcmVudE5vZGUgLy8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIjEyM1wiLHBhcmVudE5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4hLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBscm5vZGU9bmV4dC5zeW1ib2xzLnBvcCgpIGFzIExSQVNUTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwia2FuemhlbGkxMTExMTExXCIsbHJub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBscm5vZGUhLmFkZFBhcmVudChwYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2gocGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RhdGVJZCA9IHN0ZXAuc3RhY2tbbmV4dC5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpQcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtsZWZ0U3RhdGVJZF07XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN0YWNrLnB1c2goalByZWRpY3RMaW5lLmdvdG8uZ2V0KG5vblRlcm1pbmFsKSFbMF0gYXMgdW5rbm93biBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFucy5wdXNoKG5leHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gKGFucyBhcyBhbnkpLmFzdE5vZGUgPSBcclxuICAgICAgICByZXR1cm4gYW5zO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAqcHJlZGljdElucHV0UHJvZ3Jlc3NpdmUoaW5wdXQ6IHN0cmluZyxwcmVkaWN0VGFibGU6IExSUHJlZGljdFRhYmxlKTogSXRlcmFibGVJdGVyYXRvcjxMUlByZWRpY3RSZXN1bHRUYWJsZVdpdGhBU1ROb2RlPiB7XHJcbiAgICAgICAgaWYoIXRoaXMubGV4ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhbnM6IExSUHJlZGljdFJlc3VsdFRhYmxlV2l0aEFTVE5vZGUgPSBbXTtcclxuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBjb25zdCBsaWQ9MTAwO1xyXG4gICAgICAgIGFucy5wdXNoKHtcclxuICAgICAgICAgICAgc3RhY2s6IFswXSxcclxuICAgICAgICAgICAgc3ltYm9sczogW10sXHJcbiAgICAgICAgICAgIGlucHV0OiBbLi4udGhpcy5sZXhlci5zcGxpdERlcml2YXRpb24oaW5wdXQpLEVuZGluZ0NoYXJhY3Rlcl0sXHJcbiAgICAgICAgfSlcclxuICAgICAgICB5aWVsZCBhbnM7XHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gYW5zW2Fucy5sZW5ndGgtMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0ZXApKSBhcyBMUlByZWRpY3RMaW5lV2l0aEFTVDsgIC8vXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlSWQgPSBzdGVwLnN0YWNrW3N0ZXAuc3RhY2subGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtzdGF0ZUlkXTtcclxuICAgICAgICAgICAgY29uc3QgbW92ZSA9IHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoc3RlcC5pbnB1dFswXSkhO1xyXG4gICAgICAgICAgICBpZihtb3ZlLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbW92ZSBjb2xsaXNpb24gJHttb3ZlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFtb3ZlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtb3ZlIGlzIGVtcHR5ICR7bW92ZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY01vdmUgPSBtb3ZlWzBdIGFzIHN0cmluZztcclxuICAgICAgICAgICAgaWYoY01vdmUgPT09IFwiYWNjXCIpIHtcclxuICAgICAgICAgICAgICAgIHN0ZXAubW92ZSA9IFwi5o6l5Y+XXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjTW92ZS5zdGFydHNXaXRoKFwiU1wiKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2hpZnRcclxuICAgICAgICAgICAgICAgIHN0ZXAubW92ZSA9IGDnp7vlhaUke3N0ZXAuaW5wdXRbMF19YDtcclxuICAgICAgICAgICAgICAgIC8vbmV4dC5zeW1ib2xzLnB1c2gobmV4dC5pbnB1dC5zaGlmdCgpISk7IC8vIHNodWZ05oqKaW5wdXTnmoTnrKzkuIDkuKrlhYPntKDliKDpmaTlubbov5Tlm55cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxybm9kZTpMUkFTVE5vZGU9e2lkOmxpZCx0ZXh0Om5leHQuaW5wdXQuc2hpZnQoKSEsY2hlY2s6IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2gobHJub2RlKTtcclxuICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucHVzaChOdW1iZXIoY01vdmUuc2xpY2UoMSkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZHVjZVxyXG4gICAgICAgICAgICAgICAgc3RlcC5tb3ZlID0gYOagueaNriR7Y01vdmV95b2S57qmYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBjTW92ZS5zbGljZSgyLC0xKS5yZXBsYWNlQWxsKC9cXHMvZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gZ3JhbW1lci5zcGxpdChcIi0+XCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbiA9IHRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGdyYW1tZXIuc3BsaXQoXCItPlwiKVsxXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlOkxSQVNUTm9kZT17aWQ6bGlkLTEsdGV4dDpub25UZXJtaW5hbCxjaGVjazogZmFsc2V9O1xyXG4gICAgICAgICAgICAgICAgaWYoIXBhcmVudE5vZGUuY2hpbGRyZW4pe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW49W107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPGRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmV4dC5zeW1ib2xzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXA9IG5leHQuc3ltYm9scy5wb3AoKSE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGVtcCEucGFyZW50PXBhcmVudE5vZGUgLy8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIjEyM1wiLHBhcmVudE5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4hLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCBscm5vZGU9bmV4dC5zeW1ib2xzLnBvcCgpIGFzIExSQVNUTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwia2FuemhlbGkxMTExMTExXCIsbHJub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBscm5vZGUhLmFkZFBhcmVudChwYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2gocGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBnb3RvXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0U3RhdGVJZCA9IHN0ZXAuc3RhY2tbbmV4dC5zdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpQcmVkaWN0TGluZSA9IHByZWRpY3RUYWJsZVtsZWZ0U3RhdGVJZF07XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN0YWNrLnB1c2goalByZWRpY3RMaW5lLmdvdG8uZ2V0KG5vblRlcm1pbmFsKSFbMF0gYXMgdW5rbm93biBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIGFucztcclxuICAgICAgICAgICAgYW5zLnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIChhbnMgYXMgYW55KS5hc3ROb2RlID0gXHJcbiAgICAgICAgcmV0dXJuIGFucztcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUxSMFByZWRpY3RUYWJsZSgpIHtcclxuICAgICAgICBpZighdGhpcy5pbml0aWFsU3RhdGVOb2RlIHx8ICF0aGlzLmFsbFN0YXRlTm9kZXNNYXAgfHwgIXRoaXMubGV4ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByZWRpY3RUYWJsZTogTFJQcmVkaWN0VGFibGUgPSBbXTtcclxuICAgICAgICBmb3IobGV0IHN0YXRlTm9kZSBvZiB0aGlzLmFsbFN0YXRlTm9kZXNNYXAudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgbGV0IHByZWRpY3RMaW5lOiBMUlByZWRpY3RUYWJsZUxpbmUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogc3RhdGVOb2RlLmlkLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgICAgICBnb3RvOiBuZXcgTWFwKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZm9yKGxldCBub25UZXJtaW5hbCAgb2YgdGhpcy5sZXhlci5ub25UZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmdvdG8uc2V0KG5vblRlcm1pbmFsLFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsICBvZiB0aGlzLmxleGVyLnRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldCh0ZXJtaW5hbFswXSxbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLnNldChFbmRpbmdDaGFyYWN0ZXIsW10pO1xyXG4gICAgICAgICAgICBmb3IobGV0IGVkZ2Ugb2Ygc3RhdGVOb2RlLmVkZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihlZGdlLnRvY2tlbiA9PT0gRW5kaW5nQ2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goXCJhY2NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxleGVyLmlzVGVybWluYWwoZWRnZS50b2NrZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldChlZGdlLnRvY2tlbikhLnB1c2goYFMke2VkZ2UubmV4dC5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGVkZ2UubmV4dC5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlTm9kZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7IC8vIHJlZHVjZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgdGhpcy5sZXhlci50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0ZXJtaW5hbFswXSkhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSAtPiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KEVuZGluZ0NoYXJhY3Rlcik/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KEVuZGluZ0NoYXJhY3RlcikhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSAtPiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHByZWRpY3RMaW5lKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcHJlZGljdFRhYmxlLnNvcnQoKGEsYik9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbiAgICB9XHJcbiAgICAvLyAqZ2VuZXJhdGVMUjBQcmVkaWN0VGFibGVQcm9ncmVzc2l2ZSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFJ1bGUgfCBQcm9jZXNzPFByZWRpY3RUYWJsZT4+IHtcclxuICAgIC8vICAgICBpZighdGhpcy5pbml0aWFsU3RhdGVOb2RlIHx8ICF0aGlzLmFsbFN0YXRlTm9kZXNNYXAgfHwgIXRoaXMubGV4ZXIpIHtcclxuICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHlpZWxkIFtcclxuICAgIC8vICAgICAgICAgXCIxLiDlr7kgRmlyc3QodSkg5Lit55qE5omA5pyJ57uI57uT56ymIGEg77yI5LiN5ZCrIM61IO+8ie+8jOe9riBNW0EsIGFdID0gQSAtPiB1XCIsXHJcbiAgICAvLyAgICAgICAgIFwiMi4g6IulIEZpcnN0KHUpIOWQqyDOtSDvvIzliJnlr7kgRm9sbG93KEEpIOS4reeahOaJgOacieespuWPtyBhIO+8iOWPr+WQqyAkIO+8ie+8jOe9riBNW0EsIGFdID0gQSAtPiB1XCJcclxuICAgIC8vICAgICBdXHJcbiAgICAvLyAgICAgY29uc3QgcHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSA9IFtdO1xyXG4gICAgLy8gICAgIGZvcihsZXQgc3RhdGVOb2RlIG9mIHRoaXMuYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgLy8gICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSA9IHtcclxuICAgIC8vICAgICAgICAgICAgIGlkOiBzdGF0ZU5vZGUuaWQsXHJcbiAgICAvLyAgICAgICAgICAgICBhY3Rpb246IG5ldyBNYXAoKSxcclxuICAgIC8vICAgICAgICAgICAgIGdvdG86IG5ldyBNYXAoKVxyXG4gICAgLy8gICAgICAgICB9O1xyXG4gICAgLy8gICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsICBvZiB0aGlzLmxleGVyLm5vblRlcm1pbmFscykge1xyXG4gICAgLy8gICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5zZXQobm9uVGVybWluYWwsW10pO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGZvcihsZXQgdGVybWluYWwgIG9mIHRoaXMubGV4ZXIudGVybWluYWxzKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KHRlcm1pbmFsWzBdLFtdKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KEVuZGluZ0NoYXJhY3RlcixbXSk7XHJcbiAgICAvLyAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBzdGF0ZU5vZGUuZWRnZXMpIHtcclxuICAgIC8vICAgICAgICAgICAgIGlmKGVkZ2UudG9ja2VuID09PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChcImFjY1wiKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGlmKHRoaXMubGV4ZXIuaXNUZXJtaW5hbChlZGdlLnRvY2tlbikpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChgUyR7ZWRnZS5uZXh0LmlkfWApO1xyXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLmdldChlZGdlLnRvY2tlbikhLnB1c2goZWRnZS5uZXh0LmlkKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGVOb2RlLml0ZW1zKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZihpdGVtLm1hdGNoUG9pbnQgPT09IGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgpIHsgLy8gcmVkdWNlXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCBvZiB0aGlzLmxleGVyLnRlcm1pbmFscykge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KHRlcm1pbmFsWzBdKSEucHVzaChgcigke2l0ZW0ubm9uVGVybWluYWx9ID0+ICR7aXRlbS5kZXJpdmF0aW9uLmpvaW4oXCIgXCIpfSlgKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgcHJlZGljdFRhYmxlLnB1c2gocHJlZGljdExpbmUpO1xyXG4gICAgLy8gICAgIH0gICBcclxuICAgIC8vICAgICBwcmVkaWN0VGFibGUuc29ydCgoYSxiKT0+e1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgcmV0dXJuIHByZWRpY3RUYWJsZTtcclxuICAgIC8vIH1cclxuICAgIGdlbmVyYXRlU0xSMVByZWRpY3RUYWJsZSgpIHtcclxuICAgICAgICBpZighdGhpcy5pbml0aWFsU3RhdGVOb2RlIHx8ICF0aGlzLmFsbFN0YXRlTm9kZXNNYXAgfHwgIXRoaXMubGV4ZXIgfHwgIXRoaXMuZ3JhbW1lcnMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvbGxvd1NldCA9IGdlbmVyYXRlRmxsb3dTZXQodGhpcy5sZXhlcix0aGlzLmdyYW1tZXJzKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhmb2xsb3dTZXQpXHJcbiAgICAgICAgY29uc3QgcHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgc3RhdGVOb2RlIG9mIHRoaXMuYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBzdGF0ZU5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgICAgIGdvdG86IG5ldyBNYXAoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsICBvZiB0aGlzLmxleGVyLm5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5zZXQobm9uVGVybWluYWwsW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgIG9mIHRoaXMubGV4ZXIudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KHRlcm1pbmFsWzBdLFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KEVuZGluZ0NoYXJhY3RlcixbXSk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBzdGF0ZU5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGVkZ2UudG9ja2VuID09PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChcImFjY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubGV4ZXIuaXNUZXJtaW5hbChlZGdlLnRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChgUyR7ZWRnZS5uZXh0LmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLmdldChlZGdlLnRvY2tlbikhLnB1c2goZWRnZS5uZXh0LmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGVOb2RlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLm1hdGNoUG9pbnQgPT09IGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgpIHsgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGxvd0NoOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgc2V0TGluZSBvZiBmb2xsb3dTZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0TGluZS50b2NrZW4gPT09IGl0ZW0ubm9uVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd0NoID0gWy4uLnNldExpbmUudGVybWluYWxzLnZhbHVlcygpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgb2YgZm9sbG93Q2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0ZXJtaW5hbFswXSkhLnB1c2goYHIoJHtpdGVtLm5vblRlcm1pbmFsfSAtPiAke2l0ZW0uZGVyaXZhdGlvbi5qb2luKFwiIFwiKX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZS5wdXNoKHByZWRpY3RMaW5lKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcHJlZGljdFRhYmxlLnNvcnQoKGEsYik9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuaWQgLSBiLmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcmVkaWN0VGFibGU7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RhdGVHcmFwaCgpOiBMUlN0YXRlTm9kZUZvclNob3cge1xyXG4gICAgICAgIGNvbnN0IHZpczogYW55W10gPSBbXTtcclxuICAgICAgICBjb25zdCBkZnMgPSAobm9kZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHZpc1tub2RlLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc1tub2RlLmlkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgdmlzW25vZGUuaWRdID0gbmV3Tm9kZTtcclxuICAgICAgICAgICAgbmV3Tm9kZS5pZCA9IG5vZGUuaWQ7XHJcbiAgICAgICAgICAgIGxldCByZWR1Y2VOdW0gPSAwO1xyXG4gICAgICAgICAgICBsZXQgc2hpZnROdW09MDtcclxuICAgICAgICAgICAgbm9kZS5pdGVtcz8uZm9yRWFjaCgoaXRlbTogTFJTdGF0ZU5vZGVJdGVtKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVkdWNlTnVtKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxleGVyPy5pc1Rlcm1pbmFsKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpZnROdW0rKztcclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmKHJlZHVjZU51bT49Mikge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5pc0NvbGxpc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZWR1Y2VOdW0+PTEgJiYgc2hpZnROdW0+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZS5pc0NvbGxpc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBuZXdOb2RlLmlzQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZS5pdGVtcyA9IG5vZGUuaXRlbXMubWFwKChpdGVtOiBhbnkpPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVJdGVtVG9TdHJpbmcoaXRlbSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIG5ld05vZGUuZWRnZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIG5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBlZGdlLnRvY2tlbixcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBkZnMoZWRnZS5uZXh0KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRmcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGF0ZUl0ZW1zVG9TdHJpbmcoaXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdKTogc3RyaW5nIHsgXHJcbiAgICBpdGVtcyAgPSBpdGVtcy5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgaWYoYTxiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9KVxyXG4gICAgbGV0IGFucyA9IFwiXCI7XHJcbiAgICBmb3IobGV0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICBhbnMgKz0gYCAke3N0YXRlSXRlbVRvU3RyaW5nKGl0ZW0pfWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5zO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXRlSXRlbVRvU3RyaW5nKGl0ZW06IExSU3RhdGVOb2RlSXRlbSk6IHN0cmluZyB7IFxyXG4gICAgbGV0IGFucyA9IGAke2l0ZW0ubm9uVGVybWluYWx9IC0+IGA7XHJcbiAgICBmb3IobGV0IGk9MDtpPGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgaWYoaT09PWl0ZW0ubWF0Y2hQb2ludCkge1xyXG4gICAgICAgICAgICBpZighaSlhbnMgKz0gXCIgXCI7XHJcbiAgICAgICAgICAgIGFucyArPSBcIsK3IFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpPT09aXRlbS5kZXJpdmF0aW9uLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgYW5zICs9IGAke2l0ZW0uZGVyaXZhdGlvbltpXX1gO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgYW5zICs9IGAke2l0ZW0uZGVyaXZhdGlvbltpXX0gYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaSA9PT0gKGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgtMSkgJiYgaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFucyArPSBcIsK3XCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5zO1xyXG59XHJcblxyXG4vLyBcclxuZnVuY3Rpb24gZXhwYW5kU3RhdGVJdGVtcyhpdGVtczogTFJTdGF0ZU5vZGVJdGVtW10sbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXA6IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4sbGV4ZXI6IExleGVyKSB7XHJcbiAgICBmb3IobGV0IGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspIHsgLy8g5a+56aG56ZuG5Lit55qE5q+P5LiA5Liq6aG56YGN5Y6GXHJcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xyXG4gICAgICAgIGNvbnN0IHRvY2tlbiA9IGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdOy8v5Y+WICog5LmL5ZCO55qE5a2X56ymLOavlOWmglMnLT4qU++8jOWPllNcclxuICAgICAgICBpZihsZXhlci5pc1Rlcm1pbmFsKHRvY2tlbikpY29udGludWU7IC8vIOWmguaenOaYr+e7iOe7k+espuWwsei3s+i/h1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuZ2V0KHRvY2tlbik7ICAvLyDlj5blh7rpnZ7nu4jnu5PnrKbnmoTmjqjlr7zlvI8s5q+U5aaCUy0+QULvvIzlj5ZB77yMQlxyXG4gICAgICAgIC8vIOi/memHjOeahGRlcml2YXRpb25z5bCx5piv5o6l5LiL5p2l6K+t5rOV5YiG5p6Q5bCG5Lya6KeB5Yiw55qE5a2X56ym77yM5Y+v6IO95piv6Z2e57uI57uT56ym77yM5Y+v6IO95piv57uI57uT56ymXHJcbiAgICAgICAgZGVyaXZhdGlvbnM/LmZvckVhY2goZGVyaXZhdGlvbj0+e1xyXG4gICAgICAgICAgICBsZXQgaW5GbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvcihsZXQgakl0ZW0gb2YgaXRlbXMpIHsvL+mBjeWOhumhuembhuacieayoeaciei/meS4qumhuSzlpoLmnpzmnInlkI7pnaLlsLHkuI3opoHliqDlhaVcclxuICAgICAgICAgICAgICAgIGlmKGpJdGVtLm5vblRlcm1pbmFsID09PSB0b2NrZW4gJiYgakl0ZW0ubWF0Y2hQb2ludCA9PT0gMCkgeyAvL+WmguaenOmhuembhumHjOebruWJjeWtmOWcqOi/meS4qnRva2Vu55qE6aG577yM5LiU5Y2g5L2N54K55Lmf5pivMOeahOWMlu+8jOi/mOS4jeiDveehruWumuS4gOWumuaYr+i/meS4qumhuVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGpJdGVtLmRlcml2YXRpb24ubGVuZ3RoICE9PSBkZXJpdmF0aW9uLmxlbmd0aCljb250aW51ZTsgLy8g5aaC5p6c5LuW5Lus5o6o5a+85Ye65p2l55qE5L2T5LiN5LiA5qC36ZW/5bCx5LiN5piv5LiA5Liq5L2TXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVxdWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPGRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihqSXRlbS5kZXJpdmF0aW9uW2ldICE9PSBkZXJpdmF0aW9uW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZXF1YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5GbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGluRmxhZylyZXR1cm4gO1xyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiB0b2NrZW4sXHJcbiAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiAwLFxyXG4gICAgICAgICAgICAgICAgZGVyaXZhdGlvbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZ2VuZXJhdGVGaXJzdFNldCwgeyBnZXREZXJpdmF0aW9uRmlyc3RTZXQgfSBmcm9tIFwiQC9maXJzdFNldFwiO1xyXG5pbXBvcnQgZ2VuZXJhdGVGbGxvd1NldCBmcm9tIFwiQC9mb2xsb3dTZXRcIjtcclxuaW1wb3J0IExleGVyIGZyb20gXCJAL2xleGVyXCI7XHJcbmltcG9ydCB7IGdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMgfSBmcm9tIFwiQC9zaW1wbGVHcmFtbWVySGVscGVyXCI7XHJcbmltcG9ydCB7IEdyYW1tZXJzLCBMUlByZWRpY3RMaW5lLCBMUlByZWRpY3RSZXN1bHRUYWJsZSwgTFJQcmVkaWN0VGFibGVMaW5lLCBMUlByZWRpY3RUYWJsZSwgTFJTdGF0ZU5vZGUsIExSU3RhdGVOb2RlRm9yU2hvdywgTFJTdGF0ZU5vZGVJdGVtLCBQcmVkaWN0VGFibGUsIFByb2Nlc3MsIFJ1bGUsIE5vblRlcm1pbmFsLCBHcmFtbWVyU2V0TGluZSwgR3JhbW1lclNldCwgUHJlZGljdExpbmUgfSBmcm9tIFwiQC90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IEVtcHR5Q2hhcmFjdGVyLCBFbmRpbmdDaGFyYWN0ZXIgfSBmcm9tIFwiQC91dGlscy9jb25zdFwiO1xyXG5pbXBvcnQgbG9nIGZyb20gXCJAL3V0aWxzL2xvZ1wiO1xyXG5jb25zdCBBdWd1bWVudFN0YXJ0ID0gXCJBdWd1bWVudF9TXCI7XHJcbmV4cG9ydCBjbGFzcyBMUjFQYXJzZXIgIHtcclxuICAgIGluaXRpYWxTdGF0ZU5vZGU6IExSU3RhdGVOb2RlIHwgbnVsbDtcclxuICAgIGFsbFN0YXRlTm9kZXNNYXA/OiBNYXA8c3RyaW5nLExSU3RhdGVOb2RlPjtcclxuICAgIGxleGVyPzogTGV4ZXI7XHJcbiAgICBncmFtbWVycz86IHN0cmluZ1tdO1xyXG4gICAgZmlyc3RTZXQ/OiBHcmFtbWVyU2V0O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGVOb2RlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlU3RhdGUoZ3JhbW1lcnM6IHN0cmluZ1tdLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZyxub25UZXJtaW5hbHM/OiBBcnJheTxzdHJpbmc+LCB0ZXJtaW5hbHM/OiBBcnJheTxbc3RyaW5nLCBSZWdFeHBdPikge1xyXG4gICAgICAgIGlmICghbm9uVGVybWluYWxzIHx8ICF0ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9ja2VuQW5hUmVzID0gZ2V0VG9ja0Zyb21TaW1wbGVHcmFtbWVycyhncmFtbWVycyk7XHJcbiAgICAgICAgICAgIG5vblRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy5ub25UZXJtaW5hbHM7XHJcbiAgICAgICAgICAgIHRlcm1pbmFscyA9IHRvY2tlbkFuYVJlcy50ZXJtaW5hbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZy5sb2coXCJbbm9uVGVybWluYWxzXVwiLCBub25UZXJtaW5hbHMpO1xyXG4gICAgICAgIGxvZy5sb2coXCJbdGVybWluYWxzXVwiLCB0ZXJtaW5hbHMpO1xyXG4gICAgICAgIHRoaXMuZ3JhbW1lcnMgPSBncmFtbWVycztcclxuICAgICAgICB0aGlzLmxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLmZpcnN0U2V0ID0gZ2VuZXJhdGVGaXJzdFNldCh0aGlzLmxleGVyLGdyYW1tZXJzKTtcclxuXHJcbiAgICAgICAgY29uc3Qgbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAgPSBuZXcgTWFwPHN0cmluZyxzdHJpbmdbXVtdPigpO1xyXG4gICAgICAgIGZvciAobGV0IGdyYW1tZXIgb2YgZ3JhbW1lcnMpIHtcclxuICAgICAgICAgICAgZ3JhbW1lciA9IGdyYW1tZXIucmVwbGFjZUFsbCgvXFxzL2csIFwiXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBncmFtbWVyLnNwbGl0KC8oPT4pfCgtPikvKS5maWx0ZXIodiA9PiB2ICE9PSBcIj0+XCIgJiYgdiAhPT0gXCItPlwiICYmIHYpO1xyXG4gICAgICAgICAgICBjb25zdCBub25UZXJtaW5hbCA9IGFyclswXTtcclxuICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbnMgPSBhcnJbMV0uc3BsaXQoXCJ8XCIpLmZpbHRlcih2ID0+IHYpLm1hcChkZXJpdmF0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxleGVyIS5zcGxpdERlcml2YXRpb24oZGVyaXZhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcC5zZXQobm9uVGVybWluYWwsIGRlcml2YXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nLmxvZyhub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlTm9kZSA9IHtcclxuICAgICAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBbe1xyXG4gICAgICAgICAgICAgICAgbm9uVGVybWluYWw6IEF1Z3VtZW50U3RhcnQsXHJcbiAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBbcGFyc2VTdGFydE5vblRlcm1pbmFsXSxcclxuICAgICAgICAgICAgICAgIG1hdGNoUG9pbnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRUb2NrZW46IFtFbmRpbmdDaGFyYWN0ZXJdLFxyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgIH1cclxuICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKHRoaXMuaW5pdGlhbFN0YXRlTm9kZS5pdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyLHRoaXMuZmlyc3RTZXQpO1xyXG4gICAgICAgIGNvbnN0IGFsbFN0YXRlTm9kZXNNYXAgPSBuZXcgTWFwPHN0cmluZyxMUlN0YXRlTm9kZT4oKTtcclxuICAgICAgICB0aGlzLmFsbFN0YXRlTm9kZXNNYXAgPSBhbGxTdGF0ZU5vZGVzTWFwO1xyXG4gICAgICAgIGFsbFN0YXRlTm9kZXNNYXAuc2V0KHN0YXRlSXRlbXNUb1N0cmluZyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUuaXRlbXMpLHRoaXMuaW5pdGlhbFN0YXRlTm9kZSk7XHJcbiAgICAgICAgY29uc3QgdmlzOiBib29sZWFuW10gPSBbXTtcclxuICAgICAgICBsZXQgcHJlU2l6ZSA9IDA7XHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICBpZihhbGxTdGF0ZU5vZGVzTWFwLnNpemUgPT0gcHJlU2l6ZSlicmVhaztcclxuICAgICAgICAgICAgcHJlU2l6ZSA9IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZTtcclxuICAgICAgICAgICAgZm9yKGxldCBzdGF0ZSBvZiBhbGxTdGF0ZU5vZGVzTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgICAgICBpZih2aXNbc3RhdGUuaWRdKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIHZpc1tzdGF0ZS5pZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Y+v5Lul5Yiw5o6l5Y+X54q25oCBXHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihpdGVtLm5vblRlcm1pbmFsID09PSBBdWd1bWVudFN0YXJ0ICYmIGl0ZW0ubWF0Y2hQb2ludCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogRW5kaW5nQ2hhcmFjdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgbm9uVGVybWluYWwgb2Ygbm9uVGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoSXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggPT09IGl0ZW0ubWF0Y2hQb2ludCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5kZXJpdmF0aW9uW2l0ZW0ubWF0Y2hQb2ludF0gPT09IG5vblRlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRlcm1pbmFsOiBpdGVtLm5vblRlcm1pbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2YXRpb246IGl0ZW0uZGVyaXZhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFBvaW50OiBpdGVtLm1hdGNoUG9pbnQrMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29rQWhlYWRUb2NrZW46IGl0ZW0ubG9va0FoZWFkVG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIW1hdGNoSXRlbXMubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZFN0YXRlSXRlbXMobWF0Y2hJdGVtcyxub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCx0aGlzLmxleGVyLHRoaXMuZmlyc3RTZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHN0YXRlSXRlbXNUb1N0cmluZyhtYXRjaEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYWxsU3RhdGVOb2Rlc01hcC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZU5vZGVzTWFwLnNldChrZXkse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFsbFN0YXRlTm9kZXNNYXAuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBtYXRjaEl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogYWxsU3RhdGVOb2Rlc01hcC5nZXQoa2V5KSEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IHRlcm1pbmFsIG9mIHRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaEl0ZW1zOiBMUlN0YXRlTm9kZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmRlcml2YXRpb24ubGVuZ3RoID09PSBpdGVtLm1hdGNoUG9pbnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0uZGVyaXZhdGlvbltpdGVtLm1hdGNoUG9pbnRdID09PSB0ZXJtaW5hbFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogaXRlbS5ub25UZXJtaW5hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmF0aW9uOiBpdGVtLmRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogaXRlbS5tYXRjaFBvaW50KzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9va0FoZWFkVG9ja2VuOiBpdGVtLmxvb2tBaGVhZFRvY2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFtYXRjaEl0ZW1zLmxlbmd0aCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRTdGF0ZUl0ZW1zKG1hdGNoSXRlbXMsbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAsdGhpcy5sZXhlcix0aGlzLmZpcnN0U2V0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobWF0Y2hJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWFsbFN0YXRlTm9kZXNNYXAuaGFzKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVOb2Rlc01hcC5zZXQoa2V5LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBhbGxTdGF0ZU5vZGVzTWFwLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbWF0Y2hJdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvY2tlbjogdGVybWluYWxbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFsbFN0YXRlTm9kZXNNYXAuZ2V0KGtleSkhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJlZGljdElucHV0KGlucHV0OiBzdHJpbmcscHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSk6IExSUHJlZGljdFJlc3VsdFRhYmxlIHtcclxuICAgICAgICBpZighdGhpcy5sZXhlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbZ2VuZXJhdGVQcmVkaWN0VGFibGVdIG11c3QgY2FsbCBnZW5lcmF0ZVN0YXRlIGJlZm9yZSBnZW5lcmF0ZVByZWRpY3RUYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFuczogTFJQcmVkaWN0UmVzdWx0VGFibGUgPSBbXTtcclxuICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2VBbGwoL1xccy9nLCBcIlwiKTtcclxuICAgICAgICBhbnMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YWNrOiBbMF0sXHJcbiAgICAgICAgICAgIHN5bWJvbHM6IFtdLFxyXG4gICAgICAgICAgICBpbnB1dDogWy4uLnRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGlucHV0KSxFbmRpbmdDaGFyYWN0ZXJdLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gYW5zW2Fucy5sZW5ndGgtMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0ZXApKSBhcyBMUlByZWRpY3RMaW5lO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZUlkID0gc3RlcC5zdGFja1tzdGVwLnN0YWNrLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgICAgbGV0IHByZWRpY3RMaW5lOiBMUlByZWRpY3RUYWJsZUxpbmUgfCB1bmRlZmluZWQgPSBnZXRJdGVtQnlJZEZyb21BcnIocHJlZGljdFRhYmxlLHN0YXRlSWQpO1xyXG4gICAgICAgICAgICBmb3IobGV0IGxpbmUgb2YgcHJlZGljdFRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZihsaW5lLmlkID09PSBzdGF0ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUgPSBsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFwcmVkaWN0TGluZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbcHJlZGljdF0gc3RhdGVJZDogJHtzdGF0ZUlkfSDnmoTpooTmtYvooYzmib7kuI3liLBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZW1wdHlDaGFyYWN0ZXJGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgICAgICBtb3ZlID0gcHJlZGljdExpbmUuYWN0aW9uLmdldChzdGVwLmlucHV0WzBdKSE7XHJcbiAgICAgICAgICAgIGlmKG1vdmUubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtb3ZlIGNvbGxpc2lvbiAke21vdmV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIW1vdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KEVtcHR5Q2hhcmFjdGVyKT8ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZSA9IHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoRW1wdHlDaGFyYWN0ZXIpITtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eUNoYXJhY3RlckZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1vdmUgaXMgZW1wdHkgJHttb3ZlfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjTW92ZSA9IG1vdmVbMF0gYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICBpZihjTW92ZSA9PT0gXCJhY2NcIikge1xyXG4gICAgICAgICAgICAgICAgc3RlcC5tb3ZlID0gXCLmjqXlj5dcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNNb3ZlLnN0YXJ0c1dpdGgoXCJTXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaGlmdFxyXG4gICAgICAgICAgICAgICAgc3RlcC5tb3ZlID0gYOenu+WFpSR7c3RlcC5pbnB1dFswXX1gO1xyXG4gICAgICAgICAgICAgICAgaWYoZW1wdHlDaGFyYWN0ZXJGbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2goRW1wdHlDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0LnN5bWJvbHMucHVzaChuZXh0LmlucHV0LnNoaWZ0KCkhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucHVzaChOdW1iZXIoY01vdmUuc2xpY2UoMSkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZHVjZVxyXG4gICAgICAgICAgICAgICAgc3RlcC5tb3ZlID0gYOagueaNriR7Y01vdmV95b2S57qmYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYW1tZXIgPSBjTW92ZS5zbGljZSgyLC0xKS5yZXBsYWNlQWxsKC9cXHMvZyxcIlwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vblRlcm1pbmFsID0gZ3JhbW1lci5zcGxpdChcIi0+XCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZhdGlvbiA9IHRoaXMubGV4ZXIuc3BsaXREZXJpdmF0aW9uKGdyYW1tZXIuc3BsaXQoXCItPlwiKVsxXSk7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPGRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQuc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dC5zeW1ib2xzLnB1c2gobm9uVGVybWluYWwpO1xyXG4gICAgICAgICAgICAgICAgLy8gZ290b1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdFN0YXRlSWQgPSBzdGVwLnN0YWNrW25leHQuc3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqUHJlZGljdExpbmUgPSBnZXRJdGVtQnlJZEZyb21BcnIocHJlZGljdFRhYmxlLGxlZnRTdGF0ZUlkKTs7XHJcbiAgICAgICAgICAgICAgICBuZXh0LnN0YWNrLnB1c2goalByZWRpY3RMaW5lLmdvdG8uZ2V0KG5vblRlcm1pbmFsKSFbMF0gYXMgdW5rbm93biBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFucy5wdXNoKG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5zO1xyXG4gICAgfVxyXG4gICAgbWVyZ2VOZXdOb2RlKG5vZGU6IExSU3RhdGVOb2RlLGFkZE5vZGU6IExSU3RhdGVOb2RlKSB7XHJcbiAgICAgICAgbm9kZS5pZCA9IE51bWJlcihgJHtub2RlLmlkfSR7YWRkTm9kZS5pZH1gKTtcclxuICAgICAgICBpZihub2RlLml0ZW1zLmxlbmd0aCAhPT0gYWRkTm9kZS5pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW21lcmdlTmV3Tm9kZV0g5ZCI5bm25qC45b+D6IqC54K55Ye66ZSZXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGk9MDtpPG5vZGUuaXRlbXMubGVuZ3RoO2krKykge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gbm9kZS5pdGVtc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgYWRkSXRlbSA9IGFkZE5vZGUuaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGZvcihsZXQgY2hhIG9mIGFkZEl0ZW0ubG9va0FoZWFkVG9ja2VuISkge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5sb29rQWhlYWRUb2NrZW4/LmluZGV4T2YoY2hhKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmxvb2tBaGVhZFRvY2tlbi5wdXNoKGNoYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZS5hY2MgPSBub2RlLmFjYyB8fCBhZGROb2RlLmFjYztcclxuICAgIH1cclxuICAgIGdlbmVyYXRlTEFMUlByZWRpY3RUYWJsZSgpIHtcclxuICAgICAgICBpZighdGhpcy5pbml0aWFsU3RhdGVOb2RlIHx8ICF0aGlzLmFsbFN0YXRlTm9kZXNNYXAgfHwgIXRoaXMubGV4ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2dlbmVyYXRlUHJlZGljdFRhYmxlXSBtdXN0IGNhbGwgZ2VuZXJhdGVTdGF0ZSBiZWZvcmUgZ2VuZXJhdGVQcmVkaWN0VGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWQiOW5tumhuembhlxyXG4gICAgICAgIGNvbnN0IG1lcmdlTWFwID0gbmV3IE1hcDxzdHJpbmcsTFJTdGF0ZU5vZGU+KCk7XHJcbiAgICAgICAgY29uc3Qgam9pbk1hcERmcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmlzID0gbmV3IE1hcDxudW1iZXIsYm9vbGVhbj4oKTtcclxuICAgICAgICAgICAgY29uc3QgZGZzID0gKG5vZGU6IExSU3RhdGVOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih2aXMuaGFzKG5vZGUuaWQpKXJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB2aXMuc2V0KG5vZGUuaWQsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobm9kZS5pdGVtcyxmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3Tm9kZTogTFJTdGF0ZU5vZGUgfCB1bmRlZmluZWQgPSBtZXJnZU1hcC5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmKCFuZXdOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2M6IG5vZGUuYWNjXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygbm9kZS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlLml0ZW1zLnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXdOb2RlIS5lZGdlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlTWFwLnNldChrZXksbmV3Tm9kZSEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlTmV3Tm9kZShuZXdOb2RlLG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIG5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZnMoZWRnZS5uZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZnModGhpcy5pbml0aWFsU3RhdGVOb2RlISk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpvaW5NYXBEZnMoKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGlkMmlkTWFwID0gbmV3IE1hcDxudW1iZXIsbnVtYmVyPigpO1xyXG4gICAgICAgIGNvbnN0IE1hcE1hcERmcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmlzID0gbmV3IE1hcDxudW1iZXIsYm9vbGVhbj4oKTtcclxuICAgICAgICAgICAgY29uc3QgZGZzID0gKG5vZGU6IExSU3RhdGVOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih2aXMuaGFzKG5vZGUuaWQpKXJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB2aXMuc2V0KG5vZGUuaWQsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzdGF0ZUl0ZW1zVG9TdHJpbmcobm9kZS5pdGVtcyxmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpZDJpZE1hcC5zZXQobm9kZS5pZCxtZXJnZU1hcC5nZXQoa2V5KSEuaWQpO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIG5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZnMoZWRnZS5uZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZnModGhpcy5pbml0aWFsU3RhdGVOb2RlISk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hcE1hcERmcygpO1xyXG4gICAgICAgIGNvbnN0IGkyaSA9IChpZDogbnVtYmVyKTpudW1iZXIgPT4gaWQyaWRNYXAuZ2V0KGlkKSE7XHJcbiAgICAgICAgY29uc3QgcHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHVzZWQgPSBuZXcgTWFwPG51bWJlcixib29sZWFuPigpO1xyXG4gICAgICAgIGZvcihsZXQgc3RhdGVOb2RlIG9mIHRoaXMuYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBpZih1c2VkLmdldChpMmkoc3RhdGVOb2RlLmlkKSkpY29udGludWU7XHJcbiAgICAgICAgICAgIHVzZWQuc2V0KGkyaShzdGF0ZU5vZGUuaWQpLHRydWUpO1xyXG4gICAgICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBpMmkoc3RhdGVOb2RlLmlkKSxcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICAgICAgZ290bzogbmV3IE1hcCgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZvcihsZXQgbm9uVGVybWluYWwgIG9mIHRoaXMubGV4ZXIubm9uVGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLnNldChub25UZXJtaW5hbCxbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCB0ZXJtaW5hbCAgb2YgdGhpcy5sZXhlci50ZXJtaW5hbHMpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQodGVybWluYWxbMF0sW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5zZXQoRW5kaW5nQ2hhcmFjdGVyLFtdKTtcclxuICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIHN0YXRlTm9kZS5lZGdlcykge1xyXG4gICAgICAgICAgICAgICAgaWYoZWRnZS50b2NrZW4gPT09IEVuZGluZ0NoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKFwiYWNjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sZXhlci5pc1Rlcm1pbmFsKGVkZ2UudG9ja2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGBTJHtpMmkoZWRnZS5uZXh0LmlkKX1gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5nZXQoZWRnZS50b2NrZW4pIS5wdXNoKGkyaShlZGdlLm5leHQuaWQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgaXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdID0gc3RhdGVOb2RlLml0ZW1zO1xyXG4gICAgICAgICAgICBpZihpMmkoc3RhdGVOb2RlLmlkKSAhPT0gc3RhdGVOb2RlLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IG1lcmdlTWFwLmdldChzdGF0ZUl0ZW1zVG9TdHJpbmcoc3RhdGVOb2RlLml0ZW1zLGZhbHNlKSkhLml0ZW1zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7IC8vIHJlZHVjZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0ubm9uVGVybWluYWwgPT09IEF1Z3VtZW50U3RhcnQpY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCB0b2NrZW4gb2YgaXRlbS5sb29rQWhlYWRUb2NrZW4hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWRpY3RMaW5lLmFjdGlvbi5nZXQodG9ja2VuKSEucHVzaChgcigke2l0ZW0ubm9uVGVybWluYWx9IC0+ICR7aXRlbS5kZXJpdmF0aW9uLmpvaW4oXCIgXCIpfSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlZGljdFRhYmxlLnB1c2gocHJlZGljdExpbmUpO1xyXG4gICAgICAgIH0gICBcclxuICAgICAgICBwcmVkaWN0VGFibGUuc29ydCgoYSxiKT0+e1xyXG4gICAgICAgICAgICByZXR1cm4gYS5pZCAtIGIuaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHByZWRpY3RUYWJsZTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlTFIxUHJlZGljdFRhYmxlKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmluaXRpYWxTdGF0ZU5vZGUgfHwgIXRoaXMuYWxsU3RhdGVOb2Rlc01hcCB8fCAhdGhpcy5sZXhlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbZ2VuZXJhdGVQcmVkaWN0VGFibGVdIG11c3QgY2FsbCBnZW5lcmF0ZVN0YXRlIGJlZm9yZSBnZW5lcmF0ZVByZWRpY3RUYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJlZGljdFRhYmxlOiBMUlByZWRpY3RUYWJsZSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgc3RhdGVOb2RlIG9mIHRoaXMuYWxsU3RhdGVOb2Rlc01hcC52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBsZXQgcHJlZGljdExpbmU6IExSUHJlZGljdFRhYmxlTGluZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBzdGF0ZU5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgICAgIGdvdG86IG5ldyBNYXAoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IobGV0IG5vblRlcm1pbmFsICBvZiB0aGlzLmxleGVyLm5vblRlcm1pbmFscykge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdExpbmUuZ290by5zZXQobm9uVGVybWluYWwsW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgdGVybWluYWwgIG9mIHRoaXMubGV4ZXIudGVybWluYWxzKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KHRlcm1pbmFsWzBdLFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uc2V0KEVuZGluZ0NoYXJhY3RlcixbXSk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgZWRnZSBvZiBzdGF0ZU5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGVkZ2UudG9ja2VuID09PSBFbmRpbmdDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChcImFjY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubGV4ZXIuaXNUZXJtaW5hbChlZGdlLnRvY2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5hY3Rpb24uZ2V0KGVkZ2UudG9ja2VuKSEucHVzaChgUyR7ZWRnZS5uZXh0LmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVkaWN0TGluZS5nb3RvLmdldChlZGdlLnRvY2tlbikhLnB1c2goZWRnZS5uZXh0LmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGl0ZW0gb2Ygc3RhdGVOb2RlLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLm1hdGNoUG9pbnQgPT09IGl0ZW0uZGVyaXZhdGlvbi5sZW5ndGgpIHsgLy8gcmVkdWNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5ub25UZXJtaW5hbCA9PT0gQXVndW1lbnRTdGFydCljb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHRvY2tlbiBvZiBpdGVtLmxvb2tBaGVhZFRvY2tlbiEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZGljdExpbmUuYWN0aW9uLmdldCh0b2NrZW4pIS5wdXNoKGByKCR7aXRlbS5ub25UZXJtaW5hbH0gLT4gJHtpdGVtLmRlcml2YXRpb24uam9pbihcIiBcIil9KWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmVkaWN0VGFibGUucHVzaChwcmVkaWN0TGluZSk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgICAgIHByZWRpY3RUYWJsZS5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgICAgIHJldHVybiBhLmlkIC0gYi5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHJlZGljdFRhYmxlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHN0YXRlR3JhcGgoKTogTFJTdGF0ZU5vZGVGb3JTaG93IHtcclxuICAgICAgICBjb25zdCB2aXM6IGFueVtdID0gW107XHJcbiAgICAgICAgY29uc3QgZGZzID0gKG5vZGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZih2aXNbbm9kZS5pZF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2aXNbbm9kZS5pZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmV3Tm9kZTogYW55ID0ge307XHJcbiAgICAgICAgICAgIHZpc1tub2RlLmlkXSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgIG5ld05vZGUuaWQgPSBub2RlLmlkO1xyXG4gICAgICAgICAgICBsZXQgcmVkdWNlTnVtID0gMDtcclxuICAgICAgICAgICAgbm9kZS5pdGVtcz8uZm9yRWFjaCgoaXRlbTogTFJTdGF0ZU5vZGVJdGVtKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5tYXRjaFBvaW50ID09PSBpdGVtLmRlcml2YXRpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVkdWNlTnVtKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmKHJlZHVjZU51bT49Mikge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5pc0NvbGxpc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlLmlzQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZS5pdGVtcyA9IG5vZGUuaXRlbXMubWFwKChpdGVtOiBhbnkpPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVJdGVtVG9TdHJpbmcoaXRlbSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIG5ld05vZGUuZWRnZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yKGxldCBlZGdlIG9mIG5vZGUuZWRnZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGUuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9ja2VuOiBlZGdlLnRvY2tlbixcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBkZnMoZWRnZS5uZXh0KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRmcyh0aGlzLmluaXRpYWxTdGF0ZU5vZGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGF0ZUl0ZW1zVG9TdHJpbmcoaXRlbXM6IExSU3RhdGVOb2RlSXRlbVtdLG5lZWRMb29rQWhlYWQ6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHsgXHJcbiAgICBpdGVtcyA9IGl0ZW1zLnNvcnQoKGEsYik9PntcclxuICAgICAgICBpZihhPGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH0pXHJcbiAgICBsZXQgYW5zID0gXCJcIjtcclxuICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcykge1xyXG4gICAgICAgIGFucyArPSBgICR7c3RhdGVJdGVtVG9TdHJpbmcoaXRlbSxuZWVkTG9va0FoZWFkKX1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFucztcclxufVxyXG5mdW5jdGlvbiBzdGF0ZUl0ZW1Ub1N0cmluZyhpdGVtOiBMUlN0YXRlTm9kZUl0ZW0sbmVlZExvb2tBaGVhZDogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcgeyBcclxuICAgIGxldCBhbnMgPSBgJHtpdGVtLm5vblRlcm1pbmFsfSAtPiBgO1xyXG4gICAgZm9yKGxldCBpPTA7aTxpdGVtLmRlcml2YXRpb24ubGVuZ3RoO2krKykge1xyXG4gICAgICAgIGlmKGk9PT1pdGVtLm1hdGNoUG9pbnQpIHtcclxuICAgICAgICAgICAgaWYoIWkpYW5zICs9IFwiIFwiO1xyXG4gICAgICAgICAgICBhbnMgKz0gXCLCtyBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaT09PWl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGFucyArPSBgJHtpdGVtLmRlcml2YXRpb25baV19YDtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGFucyArPSBgJHtpdGVtLmRlcml2YXRpb25baV19IGA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGkgPT09IChpdGVtLmRlcml2YXRpb24ubGVuZ3RoLTEpICYmIGl0ZW0ubWF0Y2hQb2ludCA9PT0gaXRlbS5kZXJpdmF0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBhbnMgKz0gXCLCt1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYoaXRlbS5sb29rQWhlYWRUb2NrZW4/Lmxlbmd0aCAmJiBuZWVkTG9va0FoZWFkKSB7XHJcbiAgICAgICAgYW5zICs9IFwiICwgXCIgKyBpdGVtLmxvb2tBaGVhZFRvY2tlbi5qb2luKFwiL1wiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhbnM7XHJcbn1cclxuZnVuY3Rpb24gZXhwYW5kU3RhdGVJdGVtcyhpdGVtczogTFJTdGF0ZU5vZGVJdGVtW10sbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXA6IE1hcDxzdHJpbmcsc3RyaW5nW11bXT4sbGV4ZXI6IExleGVyLGZpcnN0U2V0OiBHcmFtbWVyU2V0KSB7XHJcbiAgICBmb3IobGV0IGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgY29uc3QgdG9ja2VuID0gaXRlbS5kZXJpdmF0aW9uW2l0ZW0ubWF0Y2hQb2ludF07XHJcbiAgICAgICAgaWYobGV4ZXIuaXNUZXJtaW5hbCh0b2NrZW4pKWNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IGRlcml2YXRpb25zID0gbm9uVGVybWluYWxzMkRlcml2YXRpb25NYXAuZ2V0KHRvY2tlbik7XHJcbiAgICAgICAgY29uc3QgZGVyaUZvckZpcnN0U2V0ID0gaXRlbS5kZXJpdmF0aW9uLnNsaWNlKGl0ZW0ubWF0Y2hQb2ludCsxKTtcclxuICAgICAgICBjb25zdCBsb29rQWhlYWRUb2NrZW4gPSBbLi4uZ2V0RGVyaXZhdGlvbkZpcnN0U2V0KGxleGVyLGRlcmlGb3JGaXJzdFNldCxmaXJzdFNldCkudGVybWluYWxzXTtcclxuICAgICAgICBpZighbG9va0FoZWFkVG9ja2VuLmxlbmd0aCB8fCBsb29rQWhlYWRUb2NrZW4uaW5kZXhPZihFbXB0eUNoYXJhY3RlcikhPT0tMSkge1xyXG4gICAgICAgICAgICBsb29rQWhlYWRUb2NrZW4ucHVzaCguLi5pdGVtLmxvb2tBaGVhZFRvY2tlbiEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXJpdmF0aW9ucz8uZm9yRWFjaChkZXJpdmF0aW9uPT57XHJcbiAgICAgICAgICAgIGxldCBpbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yKGxldCBqSXRlbSBvZiBpdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaWYoakl0ZW0ubm9uVGVybWluYWwgPT09IHRvY2tlbiAmJiBqSXRlbS5tYXRjaFBvaW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoakl0ZW0uZGVyaXZhdGlvbi5sZW5ndGggIT09IGRlcml2YXRpb24ubGVuZ3RoKWNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcXVhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxkZXJpdmF0aW9uLmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoakl0ZW0uZGVyaXZhdGlvbltpXSAhPT0gZGVyaXZhdGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVxdWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpbkZsYWcpcmV0dXJuIDtcclxuICAgICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBub25UZXJtaW5hbDogdG9ja2VuLFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hQb2ludDogMCxcclxuICAgICAgICAgICAgICAgIGRlcml2YXRpb24sXHJcbiAgICAgICAgICAgICAgICBsb29rQWhlYWRUb2NrZW4sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRJdGVtQnlJZEZyb21BcnIoYXJyOiBhbnlbXSxpZDogYW55KTogYW55IHtcclxuICAgIGZvcihsZXQgaXRlbSBvZiBhcnIpIHtcclxuICAgICAgICBpZihpdGVtLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZ2VuZXJhdGVGaXJzdFNldCwgeyBnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUgfSBmcm9tIFwiQC9maXJzdFNldFwiO1xyXG5pbXBvcnQgZ2VuZXJhdGVGbGxvd1NldCwgeyBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUgfSBmcm9tIFwiQC9mb2xsb3dTZXRcIjtcclxuaW1wb3J0IExleGVyIGZyb20gXCJAL2xleGVyXCI7XHJcbmltcG9ydCB7IEdyYW1tZXJTZXQsIFByZWRpY3RQcm9jZXNzTGluZSwgUHJlZGljdFRhYmxlLCBQcm9jZXNzLCBSdWxlIH0gZnJvbSBcIkAvdHlwZXMvdHlwZVwiO1xyXG5pbXBvcnQgZ2VuZXJhdG9yUHJlZGljdFRhYmxlLCB7IGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCwgZ2VuZXJhdGVQcmVkaWN0VGFibGVQcm9ncmVzc2l2ZSwgcHJlZGljdCwgcHJlZGljdFByb2dyZXNzaXZlIH0gZnJvbSBcIi4vcHJlZGljdFRhYmxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMTDFQYXJzZXIge1xyXG4gICAgcHVibGljIGxleGVyOiBMZXhlcjtcclxuICAgIHB1YmxpYyB0ZXh0R3JhbW1lcnM6IEFycmF5PHN0cmluZz47XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXJtaW5hbHM6IEFycmF5PFtzdHJpbmcsIFJlZ0V4cF0+LCBub25UZXJtaW5hbHM6IEFycmF5PHN0cmluZz4sIGluR3JhbW1lcnM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB0aGlzLmxleGVyID0gbmV3IExleGVyKHRlcm1pbmFscywgbm9uVGVybWluYWxzKTtcclxuICAgICAgICB0aGlzLnRleHRHcmFtbWVycyA9IGluR3JhbW1lcnM7XHJcbiAgICB9XHJcbiAgICBnZXRGaXJzdFNldCgpOiBHcmFtbWVyU2V0IHtcclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVGaXJzdFNldCh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycyk7XHJcbiAgICB9XHJcbiAgICBnZXRGb2xsb3dTZXQoZmlyc3RTZXQ/OiBHcmFtbWVyU2V0KTogR3JhbW1lclNldCB7XHJcbiAgICAgICAgaWYgKCFmaXJzdFNldCkge1xyXG4gICAgICAgICAgICBmaXJzdFNldCA9IHRoaXMuZ2V0Rmlyc3RTZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlRmxsb3dTZXQodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RUYWJsZShmaXJzdFNldD86IEdyYW1tZXJTZXQsIGZvbGxvd1NldD86IEdyYW1tZXJTZXQpOiBQcmVkaWN0VGFibGUge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm9sbG93U2V0KSB7XHJcbiAgICAgICAgICAgIGZvbGxvd1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0KGZpcnN0U2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRvclByZWRpY3RUYWJsZSh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycywgZmlyc3RTZXQsIGZvbGxvd1NldCk7XHJcbiAgICB9XHJcbiAgICBnZXRQcmVkaWN0UHJvY2VzcyhpbnB1dDogc3RyaW5nLCBwYXJzZVN0YXJ0Tm9uVGVybWluYWw6IHN0cmluZywgcHJlZGljdFRhYmxlPzogUHJlZGljdFRhYmxlKTogQXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPiB7XHJcbiAgICAgICAgaWYgKCFwcmVkaWN0VGFibGUpIHtcclxuICAgICAgICAgICAgcHJlZGljdFRhYmxlID0gZ2VuZXJhdG9yUHJlZGljdFRhYmxlKHRoaXMubGV4ZXIsIHRoaXMudGV4dEdyYW1tZXJzLCB0aGlzLmdldEZpcnN0U2V0KCksIHRoaXMuZ2V0Rm9sbG93U2V0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGhpcy5sZXhlci5ub25UZXJtaW5hbHMuc29tZShub25UZXJtaW5hbD0+e1xyXG4gICAgICAgICAgICBpZihwYXJzZVN0YXJ0Tm9uVGVybWluYWwgPT09IG5vblRlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiMVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZWRpY3QodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlLCBpbnB1dCwgcGFyc2VTdGFydE5vblRlcm1pbmFsKTtcclxuICAgIH1cclxuICAgIGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZChwcmVkaWN0VGFibGU6IFByZWRpY3RUYWJsZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBjaGVja1ByZWRpY2tUYWJsZUlzVmFsaWQodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlKTtcclxuICAgIH1cclxuICAgIGNoZWNrSXNMTDAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCh0aGlzLmxleGVyLCB0aGlzLmdldFByZWRpY3RUYWJsZSgpKTtcclxuICAgIH1cclxuICAgIGdldEZpcnN0U2V0UHJvZ3Jlc3NpdmUoKTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxHcmFtbWVyU2V0Pj4ge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUZpcnN0U2V0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMpO1xyXG4gICAgfVxyXG4gICAgZ2V0Rm9sbG93U2V0UHJvZ3Jlc3NpdmUoZmlyc3RTZXQ/OiBHcmFtbWVyU2V0KTogSXRlcmFibGVJdGVyYXRvcjxSdWxlIHwgUHJvY2VzczxHcmFtbWVyU2V0Pj4ge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0KTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RQcm9jZXNzUHJvZ3Jlc3NpdmUoaW5wdXQ6IHN0cmluZywgcGFyc2VTdGFydE5vblRlcm1pbmFsOiBzdHJpbmcsIHByZWRpY3RUYWJsZT86IFByZWRpY3RUYWJsZSk6IEl0ZXJhYmxlSXRlcmF0b3I8QXJyYXk8UHJlZGljdFByb2Nlc3NMaW5lPj4ge1xyXG4gICAgICAgIGlmICghcHJlZGljdFRhYmxlKSB7XHJcbiAgICAgICAgICAgIHByZWRpY3RUYWJsZSA9IGdlbmVyYXRvclByZWRpY3RUYWJsZSh0aGlzLmxleGVyLCB0aGlzLnRleHRHcmFtbWVycywgdGhpcy5nZXRGaXJzdFNldCgpLCB0aGlzLmdldEZvbGxvd1NldCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXRoaXMubGV4ZXIubm9uVGVybWluYWxzLnNvbWUobm9uVGVybWluYWw9PntcclxuICAgICAgICAgICAgaWYocGFyc2VTdGFydE5vblRlcm1pbmFsID09PSBub25UZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcmVkaWN0UHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgcHJlZGljdFRhYmxlLCBpbnB1dCwgcGFyc2VTdGFydE5vblRlcm1pbmFsKTtcclxuICAgIH1cclxuICAgIGdldFByZWRpY3RUYWJsZVByb2dyZXNzaXZlKGZpcnN0U2V0PzogR3JhbW1lclNldCwgZm9sbG93U2V0PzogR3JhbW1lclNldCk6IEl0ZXJhYmxlSXRlcmF0b3I8UnVsZSB8IFByb2Nlc3M8UHJlZGljdFRhYmxlPj4ge1xyXG4gICAgICAgIGlmICghZmlyc3RTZXQpIHtcclxuICAgICAgICAgICAgZmlyc3RTZXQgPSB0aGlzLmdldEZpcnN0U2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZm9sbG93U2V0KSB7XHJcbiAgICAgICAgICAgIGZvbGxvd1NldCA9IHRoaXMuZ2V0Rm9sbG93U2V0KGZpcnN0U2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlUHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUodGhpcy5sZXhlciwgdGhpcy50ZXh0R3JhbW1lcnMsIGZpcnN0U2V0LCBmb2xsb3dTZXQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInRyYW5zZmVyU3RyaW5nMkdyYW1tZXJzIiwibGV4ZXIiLCJncmFtbWVycyIsIm1hcCIsImdyYW1tZXIiLCJyZXBsYWNlQWxsIiwiYXJyIiwic3BsaXQiLCJmaWx0ZXIiLCJ2IiwiZGVyaXZhdGlvbnMiLCJkZXJpdmF0aW9uIiwic3BsaXREZXJpdmF0aW9uIiwibm9uVGVybWluYWwiLCJzYWZlUmVnQ2hhcmFjdGVyIiwiY2hhciIsIkVtcHR5Q2hhcmFjdGVyIiwiRW5kaW5nQ2hhcmFjdGVyIiwiTG9nTGV2ZWwiLCJOb3JtYWwiLCJsb2dMZXZlbF9pbml0IiwiRXJyb3IiLCJsb2dMZXZlbCIsImxvZ0NoYW5uZWwiLCJjb25zdHJ1Y3RvciIsImNvbnNvbGUiLCJ0aGlzIiwibG9nIiwiaW5mbyIsIndhcm4iLCJXYXJubmluZyIsImVycm9yIiwiZ2VuZXJhdGVGaXJzdFNldCIsImluR3JhbW1lcnMiLCJmaXJzdFNldCIsIkFycmF5IiwidG9ja2VuIiwidGVybWluYWxzIiwiU2V0IiwiZ3JhbW1lck1hcCIsIk1hcCIsImZvckVhY2giLCJzZXQiLCJwdXNoIiwidGVybWluYWwiLCJpc1Rlcm1pbmFsIiwic2V0TGluZSIsImdldCIsImxlbmd0aCIsImhhcyIsImFkZCIsImZpcnN0U2V0TWFwIiwiaGFzQ2hhbmdlIiwiaSIsIm5leHRTZXRMaW5lIiwic29ydCIsImEiLCJiIiwiZnJvbSIsImdldERlcml2YXRpb25GaXJzdFNldCIsImpvaW4iLCJnZXREZXJpdmF0aW9uRmlyc3RTZXRXaXRoTWFwIiwiZ2VuZXJhdGVGbGxvd1NldCIsImZvbGxvd1NldCIsImZvbGxvd1NldE1hcCIsImoiLCJwU2V0TGluZSIsIkxleGVyIiwibm9uVGVybWluYWxzIiwiY3VycmVudExpbmUiLCJjdXJyZW50Q29sdW1uIiwic291cmNlIiwic2V0U291cmNlIiwiZ2V0U291cmNlIiwicmVtYWluU3RyaW5nIiwic2xpY2UiLCJuZXh0Iiwib3JpZ2luIiwibWF0Y2hSZXN1bHQiLCJtYXRjaCIsInBvcCIsImUiLCJuZXh0Tm90RW1wdHlUZXJtaW5hbCIsIm5leHROb3RFbXB0eSIsInN0ZXAiLCJiYWNrIiwicG9wTm90RW1wdHlUZXJtaW5hbCIsInN0ciIsInNvbWUiLCJjb3VudFRpbWUiLCJpblN0ciIsIlJlZ0V4cCIsImdldE5ld05vblRlcm1pbmFsIiwidG1wIiwiaW5kZXhPZiIsInVuc2hpZnQiLCJnZW5lcmF0b3JQcmVkaWN0VGFibGUiLCJwcmVkaWN0VGFibGUiLCJub25UZXJtaW5hbDJUYWJsZVJvd01hcCIsInRhYmxlTGluZSIsInRlcm1pbmFsMkRlcml2YXRpb24iLCJub25UZXJtaW5hbDJGaXJzdFNldE1hcCIsIm5vblRlcm1pbmFsMkZvbGxvd1NldExpbmUiLCJkZXJpdmF0aW9uRmlyc3RTZXQiLCJoYXNTZXQiLCJjZWxsR3JhbW1lciIsImNoZWNrUHJlZGlja1RhYmxlSXNWYWxpZCIsInRhYmxlIiwidDJkIiwic2ltcGxlTm9uVGVybWluYWxSZWciLCJzaW1wbGVUZXJtaW5hbFJlZyIsImdldFRvY2tGcm9tU2ltcGxlR3JhbW1lcnMiLCJKU09OIiwic3RyaW5naWZ5IiwianNvbkRhdGEiLCJwYXJzZSIsInN0YXRlSXRlbXNUb1N0cmluZyIsIml0ZW1zIiwiYW5zIiwiaXRlbSIsInN0YXRlSXRlbVRvU3RyaW5nIiwibWF0Y2hQb2ludCIsImV4cGFuZFN0YXRlSXRlbXMiLCJub25UZXJtaW5hbHMyRGVyaXZhdGlvbk1hcCIsImluRmxhZyIsImpJdGVtIiwiZXF1YWwiLCJBdWd1bWVudFN0YXJ0IiwibmVlZExvb2tBaGVhZCIsImxvb2tBaGVhZFRvY2tlbiIsImdldEl0ZW1CeUlkRnJvbUFyciIsImlkIiwidGV4dEdyYW1tZXJzIiwiZ2V0Rmlyc3RTZXQiLCJnZXRGb2xsb3dTZXQiLCJnZXRQcmVkaWN0VGFibGUiLCJnZXRQcmVkaWN0UHJvY2VzcyIsImlucHV0IiwicGFyc2VTdGFydE5vblRlcm1pbmFsIiwiX2lucHV0IiwicHJlZGljdFByb2Nlc3MiLCJhc3RJZHgiLCJhc3ROb2RlIiwidGV4dCIsImNoZWNrIiwiYXN0U3RhY2siLCJjdXJyZW50U3RhdGUiLCJwYXJzZVN0YWNrIiwicmVtYWluaW5nSW5wdXQiLCJwYXJzZUFjdGlvbiIsImNoaWxkcmVuIiwicmV2ZXJzZSIsInRvU3RyaW5nIiwicHJlZGljdCIsImNoZWNrSXNMTDAiLCJnZXRGaXJzdFNldFByb2dyZXNzaXZlIiwicnVsZUluZGV4IiwicmVzdWx0IiwiZ2VuZXJhdGVGaXJzdFNldFByb2dyZXNzaXZlIiwiZ2V0Rm9sbG93U2V0UHJvZ3Jlc3NpdmUiLCJnZW5lcmF0ZUZsbG93U2V0UHJvZ3Jlc3NpdmUiLCJnZXRQcmVkaWN0UHJvY2Vzc1Byb2dyZXNzaXZlIiwicHJlZGljdFByb2dyZXNzaXZlIiwiZ2V0UHJlZGljdFRhYmxlUHJvZ3Jlc3NpdmUiLCJnZW5lcmF0ZVByZWRpY3RUYWJsZVByb2dyZXNzaXZlIiwiaW5pdGlhbFN0YXRlTm9kZSIsImFsbFN0YXRlTm9kZXNNYXAiLCJnZW5lcmF0ZVN0YXRlIiwidG9ja2VuQW5hUmVzIiwiZWRnZXMiLCJ2aXMiLCJwcmVTaXplIiwic2l6ZSIsInN0YXRlIiwidmFsdWVzIiwibWF0Y2hJdGVtcyIsImtleSIsInByZWRpY3RJbnB1dCIsInN0YWNrIiwic3ltYm9scyIsInN0YXRlSWQiLCJwcmVkaWN0TGluZSIsImxpbmUiLCJlbXB0eUNoYXJhY3RlckZsYWciLCJtb3ZlIiwiYWN0aW9uIiwiY01vdmUiLCJzdGFydHNXaXRoIiwic2hpZnQiLCJOdW1iZXIiLCJqUHJlZGljdExpbmUiLCJnb3RvIiwibWVyZ2VOZXdOb2RlIiwibm9kZSIsImFkZE5vZGUiLCJhZGRJdGVtIiwiY2hhIiwiYWNjIiwiZ2VuZXJhdGVMQUxSUHJlZGljdFRhYmxlIiwibWVyZ2VNYXAiLCJkZnMiLCJuZXdOb2RlIiwiZWRnZSIsImpvaW5NYXBEZnMiLCJpZDJpZE1hcCIsIk1hcE1hcERmcyIsImkyaSIsInVzZWQiLCJzdGF0ZU5vZGUiLCJnZW5lcmF0ZUxSMVByZWRpY3RUYWJsZSIsInN0YXRlR3JhcGgiLCJyZWR1Y2VOdW0iLCJpc0NvbGxpc2lvbiIsImdlbmVyYXRlU3RhdGVQcm9ncmVzc2l2ZSIsInByZWRpY3RJbnB1dFdpdGhBU1QiLCJscm5vZGUiLCJwYXJlbnROb2RlIiwibGlkIiwidGVtcCIsInByZWRpY3RJbnB1dFByb2dyZXNzaXZlIiwiZ2VuZXJhdGVMUjBQcmVkaWN0VGFibGUiLCJnZW5lcmF0ZVNMUjFQcmVkaWN0VGFibGUiLCJmb2xsb3dDaCIsInNoaWZ0TnVtIiwiZ0kiLCJmaXJzdFRvY2tlbjJEZXJpdmF0aW9uc01hcCIsImtleXMiLCJ1bmlvbk1hcCIsImdKIiwiayIsImpncmFtbWVyIiwic3BsaWNlIiwibmVlZEhhbmRsZUluZGV4IiwibmV3Tm9uVGVybWluYWxUb2NrZW4iLCJuZXdHcmFtbWVycyIsIm5ld05vblRlcm1pbmFsR3JhbW1lcnMiLCJpbmRleCIsIm5ld0FkZEdyYW1tZXJzIiwidG1wUmVzdWx0IiwibmV3RGVyaXZhdGlvbiIsIm5ld1VuVGVybWluYWwiLCJuZXdSZXN1bHQiLCJkZXJpIl0sIm1hcHBpbmdzIjoia0NBR2dCLFNBQUFBLEVBQXdCQyxFQUFjQyxHQUNsRCxPQUFPQSxFQUFTQyxLQUFJQyxHQUNUQSxFQUFRQyxXQUFXLE1BQU8sTUFDbENGLEtBQUlDLElBQ0gsTUFBTUUsRUFBTUYsRUFBUUcsTUFBTSxhQUFhQyxRQUFPQyxHQUFXLE9BQU5BLEdBQW9CLE9BQU5BLEdBQWNBLElBQ3pFQyxFQUFjSixFQUFJ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
